function Jp(s,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in s)){const d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(s,u,d.get?d:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=n(u);fetch(u.href,d)}})();function wh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Qo={exports:{}},fs={},Yo={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function Qp(){if(Pd)return xe;Pd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function T(b,A,G){this.props=b,this.context=A,this.refs=R,this.updater=G||S}T.prototype.isReactComponent={},T.prototype.setState=function(b,A){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,A,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function I(){}I.prototype=T.prototype;function D(b,A,G){this.props=b,this.context=A,this.refs=R,this.updater=G||S}var L=D.prototype=new I;L.constructor=D,C(L,T.prototype),L.isPureReactComponent=!0;var z=Array.isArray,ie=Object.prototype.hasOwnProperty,J={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function de(b,A,G){var pe,H={},ye=null,fe=null;if(A!=null)for(pe in A.ref!==void 0&&(fe=A.ref),A.key!==void 0&&(ye=""+A.key),A)ie.call(A,pe)&&!V.hasOwnProperty(pe)&&(H[pe]=A[pe]);var we=arguments.length-2;if(we===1)H.children=G;else if(1<we){for(var me=Array(we),Le=0;Le<we;Le++)me[Le]=arguments[Le+2];H.children=me}if(b&&b.defaultProps)for(pe in we=b.defaultProps,we)H[pe]===void 0&&(H[pe]=we[pe]);return{$$typeof:s,type:b,key:ye,ref:fe,props:H,_owner:J.current}}function ge(b,A){return{$$typeof:s,type:b.type,key:A,ref:b.ref,props:b.props,_owner:b._owner}}function Y(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function M(b){var A={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(G){return A[G]})}var ee=/\/+/g;function q(b,A){return typeof b=="object"&&b!==null&&b.key!=null?M(""+b.key):A.toString(36)}function ce(b,A,G,pe,H){var ye=typeof b;(ye==="undefined"||ye==="boolean")&&(b=null);var fe=!1;if(b===null)fe=!0;else switch(ye){case"string":case"number":fe=!0;break;case"object":switch(b.$$typeof){case s:case r:fe=!0}}if(fe)return fe=b,H=H(fe),b=pe===""?"."+q(fe,0):pe,z(H)?(G="",b!=null&&(G=b.replace(ee,"$&/")+"/"),ce(H,A,G,"",function(Le){return Le})):H!=null&&(Y(H)&&(H=ge(H,G+(!H.key||fe&&fe.key===H.key?"":(""+H.key).replace(ee,"$&/")+"/")+b)),A.push(H)),1;if(fe=0,pe=pe===""?".":pe+":",z(b))for(var we=0;we<b.length;we++){ye=b[we];var me=pe+q(ye,we);fe+=ce(ye,A,G,me,H)}else if(me=_(b),typeof me=="function")for(b=me.call(b),we=0;!(ye=b.next()).done;)ye=ye.value,me=pe+q(ye,we++),fe+=ce(ye,A,G,me,H);else if(ye==="object")throw A=String(b),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return fe}function ke(b,A,G){if(b==null)return b;var pe=[],H=0;return ce(b,pe,"","",function(ye){return A.call(G,ye,H++)}),pe}function Se(b){if(b._status===-1){var A=b._result;A=A(),A.then(function(G){(b._status===0||b._status===-1)&&(b._status=1,b._result=G)},function(G){(b._status===0||b._status===-1)&&(b._status=2,b._result=G)}),b._status===-1&&(b._status=0,b._result=A)}if(b._status===1)return b._result.default;throw b._result}var se={current:null},W={transition:null},te={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:W,ReactCurrentOwner:J};return xe.Children={map:ke,forEach:function(b,A,G){ke(b,function(){A.apply(this,arguments)},G)},count:function(b){var A=0;return ke(b,function(){A++}),A},toArray:function(b){return ke(b,function(A){return A})||[]},only:function(b){if(!Y(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},xe.Component=T,xe.Fragment=n,xe.Profiler=u,xe.PureComponent=D,xe.StrictMode=a,xe.Suspense=m,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,xe.cloneElement=function(b,A,G){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var pe=C({},b.props),H=b.key,ye=b.ref,fe=b._owner;if(A!=null){if(A.ref!==void 0&&(ye=A.ref,fe=J.current),A.key!==void 0&&(H=""+A.key),b.type&&b.type.defaultProps)var we=b.type.defaultProps;for(me in A)ie.call(A,me)&&!V.hasOwnProperty(me)&&(pe[me]=A[me]===void 0&&we!==void 0?we[me]:A[me])}var me=arguments.length-2;if(me===1)pe.children=G;else if(1<me){we=Array(me);for(var Le=0;Le<me;Le++)we[Le]=arguments[Le+2];pe.children=we}return{$$typeof:s,type:b.type,key:H,ref:ye,props:pe,_owner:fe}},xe.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:d,_context:b},b.Consumer=b},xe.createElement=de,xe.createFactory=function(b){var A=de.bind(null,b);return A.type=b,A},xe.createRef=function(){return{current:null}},xe.forwardRef=function(b){return{$$typeof:p,render:b}},xe.isValidElement=Y,xe.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:Se}},xe.memo=function(b,A){return{$$typeof:v,type:b,compare:A===void 0?null:A}},xe.startTransition=function(b){var A=W.transition;W.transition={};try{b()}finally{W.transition=A}},xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},xe.useCallback=function(b,A){return se.current.useCallback(b,A)},xe.useContext=function(b){return se.current.useContext(b)},xe.useDebugValue=function(){},xe.useDeferredValue=function(b){return se.current.useDeferredValue(b)},xe.useEffect=function(b,A){return se.current.useEffect(b,A)},xe.useId=function(){return se.current.useId()},xe.useImperativeHandle=function(b,A,G){return se.current.useImperativeHandle(b,A,G)},xe.useInsertionEffect=function(b,A){return se.current.useInsertionEffect(b,A)},xe.useLayoutEffect=function(b,A){return se.current.useLayoutEffect(b,A)},xe.useMemo=function(b,A){return se.current.useMemo(b,A)},xe.useReducer=function(b,A,G){return se.current.useReducer(b,A,G)},xe.useRef=function(b){return se.current.useRef(b)},xe.useState=function(b){return se.current.useState(b)},xe.useSyncExternalStore=function(b,A,G){return se.current.useSyncExternalStore(b,A,G)},xe.useTransition=function(){return se.current.useTransition()},xe.version="18.2.0",xe}var Ad;function Tl(){return Ad||(Ad=1,Yo.exports=Qp()),Yo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function Yp(){if(Id)return fs;Id=1;var s=Tl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,v){var y,w={},_=null,S=null;v!==void 0&&(_=""+v),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(S=m.ref);for(y in m)a.call(m,y)&&!d.hasOwnProperty(y)&&(w[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:r,type:p,key:_,ref:S,props:w,_owner:u.current}}return fs.Fragment=n,fs.jsx=h,fs.jsxs=h,fs}var Ld;function Zp(){return Ld||(Ld=1,Qo.exports=Yp()),Qo.exports}var l=Zp(),P=Tl();const bh=wh(P),Xp=Jp({__proto__:null,default:bh},[P]);var zi={},Zo={exports:{}},ht={},Xo={exports:{}},el={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function em(){return Ud||(Ud=1,(function(s){function r(W,te){var b=W.length;W.push(te);e:for(;0<b;){var A=b-1>>>1,G=W[A];if(0<u(G,te))W[A]=te,W[b]=G,b=A;else break e}}function n(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var te=W[0],b=W.pop();if(b!==te){W[0]=b;e:for(var A=0,G=W.length,pe=G>>>1;A<pe;){var H=2*(A+1)-1,ye=W[H],fe=H+1,we=W[fe];if(0>u(ye,b))fe<G&&0>u(we,ye)?(W[A]=we,W[fe]=b,A=fe):(W[A]=ye,W[H]=b,A=H);else if(fe<G&&0>u(we,b))W[A]=we,W[fe]=b,A=fe;else break e}}return te}function u(W,te){var b=W.sortIndex-te.sortIndex;return b!==0?b:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var m=[],v=[],y=1,w=null,_=3,S=!1,C=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(W){for(var te=n(v);te!==null;){if(te.callback===null)a(v);else if(te.startTime<=W)a(v),te.sortIndex=te.expirationTime,r(m,te);else break;te=n(v)}}function z(W){if(R=!1,L(W),!C)if(n(m)!==null)C=!0,Se(ie);else{var te=n(v);te!==null&&se(z,te.startTime-W)}}function ie(W,te){C=!1,R&&(R=!1,I(de),de=-1),S=!0;var b=_;try{for(L(te),w=n(m);w!==null&&(!(w.expirationTime>te)||W&&!M());){var A=w.callback;if(typeof A=="function"){w.callback=null,_=w.priorityLevel;var G=A(w.expirationTime<=te);te=s.unstable_now(),typeof G=="function"?w.callback=G:w===n(m)&&a(m),L(te)}else a(m);w=n(m)}if(w!==null)var pe=!0;else{var H=n(v);H!==null&&se(z,H.startTime-te),pe=!1}return pe}finally{w=null,_=b,S=!1}}var J=!1,V=null,de=-1,ge=5,Y=-1;function M(){return!(s.unstable_now()-Y<ge)}function ee(){if(V!==null){var W=s.unstable_now();Y=W;var te=!0;try{te=V(!0,W)}finally{te?q():(J=!1,V=null)}}else J=!1}var q;if(typeof D=="function")q=function(){D(ee)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ke=ce.port2;ce.port1.onmessage=ee,q=function(){ke.postMessage(null)}}else q=function(){T(ee,0)};function Se(W){V=W,J||(J=!0,q())}function se(W,te){de=T(function(){W(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){C||S||(C=!0,Se(ie))},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(W){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var b=_;_=te;try{return W()}finally{_=b}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var b=_;_=W;try{return te()}finally{_=b}},s.unstable_scheduleCallback=function(W,te,b){var A=s.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?A+b:A):b=A,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=b+G,W={id:y++,callback:te,priorityLevel:W,startTime:b,expirationTime:G,sortIndex:-1},b>A?(W.sortIndex=b,r(v,W),n(m)===null&&W===n(v)&&(R?(I(de),de=-1):R=!0,se(z,b-A))):(W.sortIndex=G,r(m,W),C||S||(C=!0,Se(ie))),W},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(W){var te=_;return function(){var b=_;_=te;try{return W.apply(this,arguments)}finally{_=b}}}})(el)),el}var $d;function tm(){return $d||($d=1,Xo.exports=em()),Xo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function rm(){if(Dd)return ht;Dd=1;var s=Tl(),r=tm();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function d(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function _(e){return m.call(w,e)?!0:m.call(y,e)?!1:v.test(e)?w[e]=!0:(y[e]=!0,!1)}function S(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,i,o){if(t===null||typeof t>"u"||S(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,i,o,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,D);T[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,D);T[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,D);T[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function L(e,t,i,o){var c=T.hasOwnProperty(t)?T[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,i,c,o)&&(i=null),o||c===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,o=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var z=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),J=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),M=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),W=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var b=Object.assign,A;function G(e){if(A===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return`
`+A+e}var pe=!1;function H(e,t){if(!e||pe)return"";pe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var o=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){o=O}e.call(t.prototype)}else{try{throw Error()}catch(O){o=O}e()}}catch(O){if(O&&o&&typeof O.stack=="string"){for(var c=O.stack.split(`
`),f=o.stack.split(`
`),g=c.length-1,x=f.length-1;1<=g&&0<=x&&c[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(c[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||c[g]!==f[x]){var k=`
`+c[g].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=g&&0<=x);break}}}finally{pe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?G(e):""}function ye(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1),e;case 11:return e=H(e.type.render,!1),e;case 1:return e=H(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case J:return"Portal";case ge:return"Profiler";case de:return"StrictMode";case q:return"Suspense";case ce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ke:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case Se:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}function we(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(t);case 8:return t===de?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zt(e){var t=Le(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function br(e){e._valueTracker||(e._valueTracker=Zt(e))}function Ts(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Le(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ra(e,t){var i=t.checked;return b({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Dl(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=me(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zl(e,t){t=t.checked,t!=null&&L(e,"checked",t,!1)}function na(e,t){zl(e,t);var i=me(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sa(e,t.type,i):t.hasOwnProperty("defaultValue")&&sa(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bl(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function sa(e,t,i){(t!=="number"||Rs(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Cn=Array.isArray;function Vr(e,t,i,o){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+me(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function ia(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return b({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fl(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Cn(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:me(i)}}function Ml(e,t){var i=me(t.value),o=me(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Wl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Os,ql=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zh=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(e){Zh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rn[t]=Rn[e]})});function Hl(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Rn.hasOwnProperty(e)&&Rn[e]?(""+t).trim():t+"px"}function Kl(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,c=Hl(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,c):e[i]=c}}var Xh=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(e,t){if(t){if(Xh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function la(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=null;function ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var da=null,qr=null,Hr=null;function Gl(e){if(e=Zn(e)){if(typeof da!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ei(t),da(e.stateNode,e.type,t))}}function Jl(e){qr?Hr?Hr.push(e):Hr=[e]:qr=e}function Ql(){if(qr){var e=qr,t=Hr;if(Hr=qr=null,Gl(e),t)for(e=0;e<t.length;e++)Gl(t[e])}}function Yl(e,t){return e(t)}function Zl(){}var ha=!1;function Xl(e,t,i){if(ha)return e(t,i);ha=!0;try{return Yl(e,t,i)}finally{ha=!1,(qr!==null||Hr!==null)&&(Zl(),Ql())}}function On(e,t){var i=e.stateNode;if(i===null)return null;var o=ei(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var fa=!1;if(p)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){fa=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{fa=!1}function ef(e,t,i,o,c,f,g,x,k){var O=Array.prototype.slice.call(arguments,3);try{t.apply(i,O)}catch($){this.onError($)}}var An=!1,Ps=null,As=!1,pa=null,tf={onError:function(e){An=!0,Ps=e}};function rf(e,t,i,o,c,f,g,x,k){An=!1,Ps=null,ef.apply(tf,arguments)}function nf(e,t,i,o,c,f,g,x,k){if(rf.apply(this,arguments),An){if(An){var O=Ps;An=!1,Ps=null}else throw Error(n(198));As||(As=!0,pa=O)}}function _r(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function eu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tu(e){if(_r(e)!==e)throw Error(n(188))}function sf(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,o=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return tu(c),e;if(f===o)return tu(c),t;f=f.sibling}throw Error(n(188))}if(i.return!==o.return)i=c,o=f;else{for(var g=!1,x=c.child;x;){if(x===i){g=!0,i=c,o=f;break}if(x===o){g=!0,o=c,i=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===i){g=!0,i=f,o=c;break}if(x===o){g=!0,o=f,i=c;break}x=x.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function ru(e){return e=sf(e),e!==null?nu(e):null}function nu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nu(e);if(t!==null)return t;e=e.sibling}return null}var su=r.unstable_scheduleCallback,iu=r.unstable_cancelCallback,af=r.unstable_shouldYield,of=r.unstable_requestPaint,De=r.unstable_now,lf=r.unstable_getCurrentPriorityLevel,ma=r.unstable_ImmediatePriority,au=r.unstable_UserBlockingPriority,Is=r.unstable_NormalPriority,uf=r.unstable_LowPriority,ou=r.unstable_IdlePriority,Ls=null,$t=null;function cf(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Ls,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:ff,df=Math.log,hf=Math.LN2;function ff(e){return e>>>=0,e===0?32:31-(df(e)/hf|0)|0}var Us=64,$s=4194304;function In(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var x=g&~c;x!==0?o=In(x):(f&=g,f!==0&&(o=In(f)))}else g=i&~c,g!==0?o=In(g):f!==0&&(o=In(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&c)===0&&(c=o&-o,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Et(t),c=1<<i,o|=e[i],t&=~c;return o}function pf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mf(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Et(f),x=1<<g,k=c[g];k===-1?((x&i)===0||(x&o)!==0)&&(c[g]=pf(x,t)):k<=t&&(e.expiredLanes|=x),f&=~x}}function ga(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lu(){var e=Us;return Us<<=1,(Us&4194240)===0&&(Us=64),e}function va(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ln(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=i}function gf(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Et(i),f=1<<c;t[c]=0,o[c]=-1,e[c]=-1,i&=~f}}function ya(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Et(i),c=1<<o;c&t|e[o]&t&&(e[o]|=t),i&=~c}}var je=0;function uu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var cu,xa,du,hu,fu,wa=!1,zs=[],Xt=null,er=null,tr=null,Un=new Map,$n=new Map,rr=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(t.pointerId)}}function Dn(e,t,i,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Zn(t),t!==null&&xa(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function yf(e,t,i,o,c){switch(t){case"focusin":return Xt=Dn(Xt,e,t,i,o,c),!0;case"dragenter":return er=Dn(er,e,t,i,o,c),!0;case"mouseover":return tr=Dn(tr,e,t,i,o,c),!0;case"pointerover":var f=c.pointerId;return Un.set(f,Dn(Un.get(f)||null,e,t,i,o,c)),!0;case"gotpointercapture":return f=c.pointerId,$n.set(f,Dn($n.get(f)||null,e,t,i,o,c)),!0}return!1}function mu(e){var t=kr(e.target);if(t!==null){var i=_r(t);if(i!==null){if(t=i.tag,t===13){if(t=eu(i),t!==null){e.blockedOn=t,fu(e.priority,function(){du(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=_a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);ua=o,i.target.dispatchEvent(o),ua=null}else return t=Zn(i),t!==null&&xa(t),e.blockedOn=i,!1;t.shift()}return!0}function gu(e,t,i){Bs(e)&&i.delete(t)}function xf(){wa=!1,Xt!==null&&Bs(Xt)&&(Xt=null),er!==null&&Bs(er)&&(er=null),tr!==null&&Bs(tr)&&(tr=null),Un.forEach(gu),$n.forEach(gu)}function zn(e,t){e.blockedOn===t&&(e.blockedOn=null,wa||(wa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xf)))}function Bn(e){function t(c){return zn(c,e)}if(0<zs.length){zn(zs[0],e);for(var i=1;i<zs.length;i++){var o=zs[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Xt!==null&&zn(Xt,e),er!==null&&zn(er,e),tr!==null&&zn(tr,e),Un.forEach(t),$n.forEach(t),i=0;i<rr.length;i++)o=rr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<rr.length&&(i=rr[0],i.blockedOn===null);)mu(i),i.blockedOn===null&&rr.shift()}var Kr=z.ReactCurrentBatchConfig,Fs=!0;function wf(e,t,i,o){var c=je,f=Kr.transition;Kr.transition=null;try{je=1,ba(e,t,i,o)}finally{je=c,Kr.transition=f}}function bf(e,t,i,o){var c=je,f=Kr.transition;Kr.transition=null;try{je=4,ba(e,t,i,o)}finally{je=c,Kr.transition=f}}function ba(e,t,i,o){if(Fs){var c=_a(e,t,i,o);if(c===null)za(e,t,o,Ms,i),pu(e,o);else if(yf(c,e,t,i,o))o.stopPropagation();else if(pu(e,o),t&4&&-1<vf.indexOf(e)){for(;c!==null;){var f=Zn(c);if(f!==null&&cu(f),f=_a(e,t,i,o),f===null&&za(e,t,o,Ms,i),f===c)break;c=f}c!==null&&o.stopPropagation()}else za(e,t,o,null,i)}}var Ms=null;function _a(e,t,i,o){if(Ms=null,e=ca(o),e=kr(e),e!==null)if(t=_r(e),t===null)e=null;else if(i=t.tag,i===13){if(e=eu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function vu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lf()){case ma:return 1;case au:return 4;case Is:case uf:return 16;case ou:return 536870912;default:return 16}default:return 16}}var nr=null,ka=null,Ws=null;function yu(){if(Ws)return Ws;var e,t=ka,i=t.length,o,c="value"in nr?nr.value:nr.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===c[f-o];o++);return Ws=c.slice(e,1<o?1-o:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function xu(){return!1}function ft(e){function t(i,o,c,f,g){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qs:xu,this.isPropagationStopped=xu,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=ft(Gr),Fn=b({},Gr,{view:0,detail:0}),_f=ft(Fn),Sa,Na,Mn,Hs=b({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mn&&(Mn&&e.type==="mousemove"?(Sa=e.screenX-Mn.screenX,Na=e.screenY-Mn.screenY):Na=Sa=0,Mn=e),Sa)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),wu=ft(Hs),kf=b({},Hs,{dataTransfer:0}),jf=ft(kf),Sf=b({},Fn,{relatedTarget:0}),Ea=ft(Sf),Nf=b({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ef=ft(Nf),Cf=b({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tf=ft(Cf),Rf=b({},Gr,{data:0}),bu=ft(Rf),Of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Af={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function If(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Af[e])?!!t[e]:!1}function Ca(){return If}var Lf=b({},Fn,{key:function(e){if(e.key){var t=Of[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uf=ft(Lf),$f=b({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=ft($f),Df=b({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),zf=ft(Df),Bf=b({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ff=ft(Bf),Mf=b({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wf=ft(Mf),Vf=[9,13,27,32],Ta=p&&"CompositionEvent"in window,Wn=null;p&&"documentMode"in document&&(Wn=document.documentMode);var qf=p&&"TextEvent"in window&&!Wn,ku=p&&(!Ta||Wn&&8<Wn&&11>=Wn),ju=" ",Su=!1;function Nu(e,t){switch(e){case"keyup":return Vf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Hf(e,t){switch(e){case"compositionend":return Eu(t);case"keypress":return t.which!==32?null:(Su=!0,ju);case"textInput":return e=t.data,e===ju&&Su?null:e;default:return null}}function Kf(e,t){if(Jr)return e==="compositionend"||!Ta&&Nu(e,t)?(e=yu(),Ws=ka=nr=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ku&&t.locale!=="ko"?null:t.data;default:return null}}var Gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gf[e.type]:t==="textarea"}function Tu(e,t,i,o){Jl(o),t=Ys(t,"onChange"),0<t.length&&(i=new ja("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Vn=null,qn=null;function Jf(e){Ku(e,0)}function Ks(e){var t=en(e);if(Ts(t))return e}function Qf(e,t){if(e==="change")return t}var Ru=!1;if(p){var Ra;if(p){var Oa="oninput"in document;if(!Oa){var Ou=document.createElement("div");Ou.setAttribute("oninput","return;"),Oa=typeof Ou.oninput=="function"}Ra=Oa}else Ra=!1;Ru=Ra&&(!document.documentMode||9<document.documentMode)}function Pu(){Vn&&(Vn.detachEvent("onpropertychange",Au),qn=Vn=null)}function Au(e){if(e.propertyName==="value"&&Ks(qn)){var t=[];Tu(t,qn,e,ca(e)),Xl(Jf,t)}}function Yf(e,t,i){e==="focusin"?(Pu(),Vn=t,qn=i,Vn.attachEvent("onpropertychange",Au)):e==="focusout"&&Pu()}function Zf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ks(qn)}function Xf(e,t){if(e==="click")return Ks(t)}function ep(e,t){if(e==="input"||e==="change")return Ks(t)}function tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:tp;function Hn(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!m.call(t,c)||!Ct(e[c],t[c]))return!1}return!0}function Iu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lu(e,t){var i=Iu(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Iu(i)}}function Uu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $u(){for(var e=window,t=Rs();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Rs(e.document)}return t}function Pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rp(e){var t=$u(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Uu(i.ownerDocument.documentElement,i)){if(o!==null&&Pa(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(o.start,c);o=o.end===void 0?f:Math.min(o.end,c),!e.extend&&f>o&&(c=o,o=f,f=c),c=Lu(i,f);var g=Lu(i,o);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var np=p&&"documentMode"in document&&11>=document.documentMode,Qr=null,Aa=null,Kn=null,Ia=!1;function Du(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ia||Qr==null||Qr!==Rs(o)||(o=Qr,"selectionStart"in o&&Pa(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Kn&&Hn(Kn,o)||(Kn=o,o=Ys(Aa,"onSelect"),0<o.length&&(t=new ja("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Qr)))}function Gs(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Yr={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},La={},zu={};p&&(zu=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Js(e){if(La[e])return La[e];if(!Yr[e])return e;var t=Yr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in zu)return La[e]=t[i];return e}var Bu=Js("animationend"),Fu=Js("animationiteration"),Mu=Js("animationstart"),Wu=Js("transitionend"),Vu=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){Vu.set(e,t),d(t,[e])}for(var Ua=0;Ua<qu.length;Ua++){var $a=qu[Ua],sp=$a.toLowerCase(),ip=$a[0].toUpperCase()+$a.slice(1);sr(sp,"on"+ip)}sr(Bu,"onAnimationEnd"),sr(Fu,"onAnimationIteration"),sr(Mu,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(Wu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gn));function Hu(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,nf(o,t,void 0,e),e.currentTarget=null}function Ku(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var x=o[g],k=x.instance,O=x.currentTarget;if(x=x.listener,k!==f&&c.isPropagationStopped())break e;Hu(c,x,O),f=k}else for(g=0;g<o.length;g++){if(x=o[g],k=x.instance,O=x.currentTarget,x=x.listener,k!==f&&c.isPropagationStopped())break e;Hu(c,x,O),f=k}}}if(As)throw e=pa,As=!1,pa=null,e}function Te(e,t){var i=t[qa];i===void 0&&(i=t[qa]=new Set);var o=e+"__bubble";i.has(o)||(Gu(t,e,2,!1),i.add(o))}function Da(e,t,i){var o=0;t&&(o|=4),Gu(i,e,o,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Jn(e){if(!e[Qs]){e[Qs]=!0,a.forEach(function(i){i!=="selectionchange"&&(ap.has(i)||Da(i,!1,e),Da(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,Da("selectionchange",!1,t))}}function Gu(e,t,i,o){switch(vu(t)){case 1:var c=wf;break;case 4:c=bf;break;default:c=ba}i=c.bind(null,t,i,e),c=void 0,!fa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function za(e,t,i,o,c){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var x=o.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var k=g.tag;if((k===3||k===4)&&(k=g.stateNode.containerInfo,k===c||k.nodeType===8&&k.parentNode===c))return;g=g.return}for(;x!==null;){if(g=kr(x),g===null)return;if(k=g.tag,k===5||k===6){o=f=g;continue e}x=x.parentNode}}o=o.return}Xl(function(){var O=f,$=ca(i),B=[];e:{var U=Vu.get(e);if(U!==void 0){var K=ja,Z=e;switch(e){case"keypress":if(Vs(i)===0)break e;case"keydown":case"keyup":K=Uf;break;case"focusin":Z="focus",K=Ea;break;case"focusout":Z="blur",K=Ea;break;case"beforeblur":case"afterblur":K=Ea;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=zf;break;case Bu:case Fu:case Mu:K=Ef;break;case Wu:K=Ff;break;case"scroll":K=_f;break;case"wheel":K=Wf;break;case"copy":case"cut":case"paste":K=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=_u}var X=(t&4)!==0,ze=!X&&e==="scroll",N=X?U!==null?U+"Capture":null:U;X=[];for(var j=O,E;j!==null;){E=j;var F=E.stateNode;if(E.tag===5&&F!==null&&(E=F,N!==null&&(F=On(j,N),F!=null&&X.push(Qn(j,F,E)))),ze)break;j=j.return}0<X.length&&(U=new K(U,Z,null,i,$),B.push({event:U,listeners:X}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",U&&i!==ua&&(Z=i.relatedTarget||i.fromElement)&&(kr(Z)||Z[Mt]))break e;if((K||U)&&(U=$.window===$?$:(U=$.ownerDocument)?U.defaultView||U.parentWindow:window,K?(Z=i.relatedTarget||i.toElement,K=O,Z=Z?kr(Z):null,Z!==null&&(ze=_r(Z),Z!==ze||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(K=null,Z=O),K!==Z)){if(X=wu,F="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(X=_u,F="onPointerLeave",N="onPointerEnter",j="pointer"),ze=K==null?U:en(K),E=Z==null?U:en(Z),U=new X(F,j+"leave",K,i,$),U.target=ze,U.relatedTarget=E,F=null,kr($)===O&&(X=new X(N,j+"enter",Z,i,$),X.target=E,X.relatedTarget=ze,F=X),ze=F,K&&Z)t:{for(X=K,N=Z,j=0,E=X;E;E=Zr(E))j++;for(E=0,F=N;F;F=Zr(F))E++;for(;0<j-E;)X=Zr(X),j--;for(;0<E-j;)N=Zr(N),E--;for(;j--;){if(X===N||N!==null&&X===N.alternate)break t;X=Zr(X),N=Zr(N)}X=null}else X=null;K!==null&&Ju(B,U,K,X,!1),Z!==null&&ze!==null&&Ju(B,ze,Z,X,!0)}}e:{if(U=O?en(O):window,K=U.nodeName&&U.nodeName.toLowerCase(),K==="select"||K==="input"&&U.type==="file")var re=Qf;else if(Cu(U))if(Ru)re=ep;else{re=Zf;var ae=Yf}else(K=U.nodeName)&&K.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(re=Xf);if(re&&(re=re(e,O))){Tu(B,re,i,$);break e}ae&&ae(e,U,O),e==="focusout"&&(ae=U._wrapperState)&&ae.controlled&&U.type==="number"&&sa(U,"number",U.value)}switch(ae=O?en(O):window,e){case"focusin":(Cu(ae)||ae.contentEditable==="true")&&(Qr=ae,Aa=O,Kn=null);break;case"focusout":Kn=Aa=Qr=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Du(B,i,$);break;case"selectionchange":if(np)break;case"keydown":case"keyup":Du(B,i,$)}var oe;if(Ta)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Jr?Nu(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(ku&&i.locale!=="ko"&&(Jr||he!=="onCompositionStart"?he==="onCompositionEnd"&&Jr&&(oe=yu()):(nr=$,ka="value"in nr?nr.value:nr.textContent,Jr=!0)),ae=Ys(O,he),0<ae.length&&(he=new bu(he,e,null,i,$),B.push({event:he,listeners:ae}),oe?he.data=oe:(oe=Eu(i),oe!==null&&(he.data=oe)))),(oe=qf?Hf(e,i):Kf(e,i))&&(O=Ys(O,"onBeforeInput"),0<O.length&&($=new bu("onBeforeInput","beforeinput",null,i,$),B.push({event:$,listeners:O}),$.data=oe))}Ku(B,t)})}function Qn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ys(e,t){for(var i=t+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=On(e,i),f!=null&&o.unshift(Qn(e,f,c)),f=On(e,t),f!=null&&o.push(Qn(e,f,c))),e=e.return}return o}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ju(e,t,i,o,c){for(var f=t._reactName,g=[];i!==null&&i!==o;){var x=i,k=x.alternate,O=x.stateNode;if(k!==null&&k===o)break;x.tag===5&&O!==null&&(x=O,c?(k=On(i,f),k!=null&&g.unshift(Qn(i,k,x))):c||(k=On(i,f),k!=null&&g.push(Qn(i,k,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var op=/\r\n?/g,lp=/\u0000|\uFFFD/g;function Qu(e){return(typeof e=="string"?e:""+e).replace(op,`
`).replace(lp,"")}function Zs(e,t,i){if(t=Qu(t),Qu(e)!==t&&i)throw Error(n(425))}function Xs(){}var Ba=null,Fa=null;function Ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(dp)}:Wa;function dp(e){setTimeout(function(){throw e})}function Va(e,t){var i=t,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(o===0){e.removeChild(c),Bn(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=c}while(i);Bn(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Xr,Yn="__reactProps$"+Xr,Mt="__reactContainer$"+Xr,qa="__reactEvents$"+Xr,hp="__reactListeners$"+Xr,fp="__reactHandles$"+Xr;function kr(e){var t=e[Dt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Mt]||i[Dt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Zu(e);e!==null;){if(i=e[Dt])return i;e=Zu(e)}return t}e=i,i=e.parentNode}return null}function Zn(e){return e=e[Dt]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function en(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ei(e){return e[Yn]||null}var Ha=[],tn=-1;function ar(e){return{current:e}}function Re(e){0>tn||(e.current=Ha[tn],Ha[tn]=null,tn--)}function Ne(e,t){tn++,Ha[tn]=e.current,e.current=t}var or={},tt=ar(or),ot=ar(!1),jr=or;function rn(e,t){var i=e.type.contextTypes;if(!i)return or;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function lt(e){return e=e.childContextTypes,e!=null}function ti(){Re(ot),Re(tt)}function Xu(e,t,i){if(tt.current!==or)throw Error(n(168));Ne(tt,t),Ne(ot,i)}function ec(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(n(108,we(e)||"Unknown",c));return b({},i,o)}function ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,jr=tt.current,Ne(tt,e),Ne(ot,ot.current),!0}function tc(e,t,i){var o=e.stateNode;if(!o)throw Error(n(169));i?(e=ec(e,t,jr),o.__reactInternalMemoizedMergedChildContext=e,Re(ot),Re(tt),Ne(tt,e)):Re(ot),Ne(ot,i)}var Wt=null,ni=!1,Ka=!1;function rc(e){Wt===null?Wt=[e]:Wt.push(e)}function pp(e){ni=!0,rc(e)}function lr(){if(!Ka&&Wt!==null){Ka=!0;var e=0,t=je;try{var i=Wt;for(je=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Wt=null,ni=!1}catch(c){throw Wt!==null&&(Wt=Wt.slice(e+1)),su(ma,lr),c}finally{je=t,Ka=!1}}return null}var nn=[],sn=0,si=null,ii=0,bt=[],_t=0,Sr=null,Vt=1,qt="";function Nr(e,t){nn[sn++]=ii,nn[sn++]=si,si=e,ii=t}function nc(e,t,i){bt[_t++]=Vt,bt[_t++]=qt,bt[_t++]=Sr,Sr=e;var o=Vt;e=qt;var c=32-Et(o)-1;o&=~(1<<c),i+=1;var f=32-Et(t)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Vt=1<<32-Et(t)+c|i<<c|o,qt=f+e}else Vt=1<<f|i<<c|o,qt=e}function Ga(e){e.return!==null&&(Nr(e,1),nc(e,1,0))}function Ja(e){for(;e===si;)si=nn[--sn],nn[sn]=null,ii=nn[--sn],nn[sn]=null;for(;e===Sr;)Sr=bt[--_t],bt[_t]=null,qt=bt[--_t],bt[_t]=null,Vt=bt[--_t],bt[_t]=null}var pt=null,mt=null,Oe=!1,Tt=null;function sc(e,t){var i=Nt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function ic(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,mt=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Sr!==null?{id:Vt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Nt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,pt=e,mt=null,!0):!1;default:return!1}}function Qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ya(e){if(Oe){var t=mt;if(t){var i=t;if(!ic(e,t)){if(Qa(e))throw Error(n(418));t=ir(i.nextSibling);var o=pt;t&&ic(e,t)?sc(o,i):(e.flags=e.flags&-4097|2,Oe=!1,pt=e)}}else{if(Qa(e))throw Error(n(418));e.flags=e.flags&-4097|2,Oe=!1,pt=e}}}function ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function ai(e){if(e!==pt)return!1;if(!Oe)return ac(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ma(e.type,e.memoizedProps)),t&&(t=mt)){if(Qa(e))throw oc(),Error(n(418));for(;t;)sc(e,t),t=ir(t.nextSibling)}if(ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){mt=ir(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=pt?ir(e.stateNode.nextSibling):null;return!0}function oc(){for(var e=mt;e;)e=ir(e.nextSibling)}function an(){mt=pt=null,Oe=!1}function Za(e){Tt===null?Tt=[e]:Tt.push(e)}var mp=z.ReactCurrentBatchConfig;function Rt(e,t){if(e&&e.defaultProps){t=b({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var oi=ar(null),li=null,on=null,Xa=null;function eo(){Xa=on=li=null}function to(e){var t=oi.current;Re(oi),e._currentValue=t}function ro(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function ln(e,t){li=e,Xa=on=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ut=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Xa!==e)if(e={context:e,memoizedValue:t,next:null},on===null){if(li===null)throw Error(n(308));on=e,li.dependencies={lanes:0,firstContext:e}}else on=on.next=e;return t}var Er=null;function no(e){Er===null?Er=[e]:Er.push(e)}function lc(e,t,i,o){var c=t.interleaved;return c===null?(i.next=i,no(t)):(i.next=c.next,c.next=i),t.interleaved=i,Ht(e,o)}function Ht(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var ur=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(be&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,Ht(e,i)}return c=o.interleaved,c===null?(t.next=t,no(o)):(t.next=c.next,c.next=t),o.interleaved=t,Ht(e,i)}function ui(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,ya(e,i)}}function cc(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ci(e,t,i,o){var c=e.updateQueue;ur=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var k=x,O=k.next;k.next=null,g===null?f=O:g.next=O,g=k;var $=e.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==g&&(x===null?$.firstBaseUpdate=O:x.next=O,$.lastBaseUpdate=k))}if(f!==null){var B=c.baseState;g=0,$=O=k=null,x=f;do{var U=x.lane,K=x.eventTime;if((o&U)===U){$!==null&&($=$.next={eventTime:K,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Z=e,X=x;switch(U=t,K=i,X.tag){case 1:if(Z=X.payload,typeof Z=="function"){B=Z.call(K,B,U);break e}B=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=X.payload,U=typeof Z=="function"?Z.call(K,B,U):Z,U==null)break e;B=b({},B,U);break e;case 2:ur=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,U=c.effects,U===null?c.effects=[x]:U.push(x))}else K={eventTime:K,lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(O=$=K,k=B):$=$.next=K,g|=U;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;U=x,x=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);if($===null&&(k=B),c.baseState=k,c.firstBaseUpdate=O,c.lastBaseUpdate=$,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);Rr|=g,e.lanes=g,e.memoizedState=B}}function dc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=i,typeof c!="function")throw Error(n(191,c));c.call(o)}}}var hc=new s.Component().refs;function io(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var di={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=at(),c=pr(e),f=Kt(o,c);f.payload=t,i!=null&&(f.callback=i),t=cr(e,f,c),t!==null&&(At(t,e,c,o),ui(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=at(),c=pr(e),f=Kt(o,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=cr(e,f,c),t!==null&&(At(t,e,c,o),ui(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=at(),o=pr(e),c=Kt(i,o);c.tag=2,t!=null&&(c.callback=t),t=cr(e,c,o),t!==null&&(At(t,e,o,i),ui(t,e,o))}};function fc(e,t,i,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!Hn(i,o)||!Hn(c,f):!0}function pc(e,t,i){var o=!1,c=or,f=t.contextType;return typeof f=="object"&&f!==null?f=kt(f):(c=lt(t)?jr:tt.current,o=t.contextTypes,f=(o=o!=null)?rn(e,c):or),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function mc(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function ao(e,t,i,o){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs=hc,so(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=kt(f):(f=lt(t)?jr:tt.current,c.context=rn(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(io(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&di.enqueueReplaceState(c,c.state,null),ci(e,i,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Xn(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,e));var c=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=c.refs;x===hc&&(x=c.refs={}),g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function vc(e){function t(N,j){if(e){var E=N.deletions;E===null?(N.deletions=[j],N.flags|=16):E.push(j)}}function i(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function o(N,j){for(N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function c(N,j){return N=gr(N,j),N.index=0,N.sibling=null,N}function f(N,j,E){return N.index=E,e?(E=N.alternate,E!==null?(E=E.index,E<j?(N.flags|=2,j):E):(N.flags|=2,j)):(N.flags|=1048576,j)}function g(N){return e&&N.alternate===null&&(N.flags|=2),N}function x(N,j,E,F){return j===null||j.tag!==6?(j=Vo(E,N.mode,F),j.return=N,j):(j=c(j,E),j.return=N,j)}function k(N,j,E,F){var re=E.type;return re===V?$(N,j,E.props.children,F,E.key):j!==null&&(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Se&&gc(re)===j.type)?(F=c(j,E.props),F.ref=Xn(N,j,E),F.return=N,F):(F=Oi(E.type,E.key,E.props,null,N.mode,F),F.ref=Xn(N,j,E),F.return=N,F)}function O(N,j,E,F){return j===null||j.tag!==4||j.stateNode.containerInfo!==E.containerInfo||j.stateNode.implementation!==E.implementation?(j=qo(E,N.mode,F),j.return=N,j):(j=c(j,E.children||[]),j.return=N,j)}function $(N,j,E,F,re){return j===null||j.tag!==7?(j=Ir(E,N.mode,F,re),j.return=N,j):(j=c(j,E),j.return=N,j)}function B(N,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Vo(""+j,N.mode,E),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ie:return E=Oi(j.type,j.key,j.props,null,N.mode,E),E.ref=Xn(N,null,j),E.return=N,E;case J:return j=qo(j,N.mode,E),j.return=N,j;case Se:var F=j._init;return B(N,F(j._payload),E)}if(Cn(j)||te(j))return j=Ir(j,N.mode,E,null),j.return=N,j;hi(N,j)}return null}function U(N,j,E,F){var re=j!==null?j.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return re!==null?null:x(N,j,""+E,F);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ie:return E.key===re?k(N,j,E,F):null;case J:return E.key===re?O(N,j,E,F):null;case Se:return re=E._init,U(N,j,re(E._payload),F)}if(Cn(E)||te(E))return re!==null?null:$(N,j,E,F,null);hi(N,E)}return null}function K(N,j,E,F,re){if(typeof F=="string"&&F!==""||typeof F=="number")return N=N.get(E)||null,x(j,N,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ie:return N=N.get(F.key===null?E:F.key)||null,k(j,N,F,re);case J:return N=N.get(F.key===null?E:F.key)||null,O(j,N,F,re);case Se:var ae=F._init;return K(N,j,E,ae(F._payload),re)}if(Cn(F)||te(F))return N=N.get(E)||null,$(j,N,F,re,null);hi(j,F)}return null}function Z(N,j,E,F){for(var re=null,ae=null,oe=j,he=j=0,Ge=null;oe!==null&&he<E.length;he++){oe.index>he?(Ge=oe,oe=null):Ge=oe.sibling;var _e=U(N,oe,E[he],F);if(_e===null){oe===null&&(oe=Ge);break}e&&oe&&_e.alternate===null&&t(N,oe),j=f(_e,j,he),ae===null?re=_e:ae.sibling=_e,ae=_e,oe=Ge}if(he===E.length)return i(N,oe),Oe&&Nr(N,he),re;if(oe===null){for(;he<E.length;he++)oe=B(N,E[he],F),oe!==null&&(j=f(oe,j,he),ae===null?re=oe:ae.sibling=oe,ae=oe);return Oe&&Nr(N,he),re}for(oe=o(N,oe);he<E.length;he++)Ge=K(oe,N,he,E[he],F),Ge!==null&&(e&&Ge.alternate!==null&&oe.delete(Ge.key===null?he:Ge.key),j=f(Ge,j,he),ae===null?re=Ge:ae.sibling=Ge,ae=Ge);return e&&oe.forEach(function(vr){return t(N,vr)}),Oe&&Nr(N,he),re}function X(N,j,E,F){var re=te(E);if(typeof re!="function")throw Error(n(150));if(E=re.call(E),E==null)throw Error(n(151));for(var ae=re=null,oe=j,he=j=0,Ge=null,_e=E.next();oe!==null&&!_e.done;he++,_e=E.next()){oe.index>he?(Ge=oe,oe=null):Ge=oe.sibling;var vr=U(N,oe,_e.value,F);if(vr===null){oe===null&&(oe=Ge);break}e&&oe&&vr.alternate===null&&t(N,oe),j=f(vr,j,he),ae===null?re=vr:ae.sibling=vr,ae=vr,oe=Ge}if(_e.done)return i(N,oe),Oe&&Nr(N,he),re;if(oe===null){for(;!_e.done;he++,_e=E.next())_e=B(N,_e.value,F),_e!==null&&(j=f(_e,j,he),ae===null?re=_e:ae.sibling=_e,ae=_e);return Oe&&Nr(N,he),re}for(oe=o(N,oe);!_e.done;he++,_e=E.next())_e=K(oe,N,he,_e.value,F),_e!==null&&(e&&_e.alternate!==null&&oe.delete(_e.key===null?he:_e.key),j=f(_e,j,he),ae===null?re=_e:ae.sibling=_e,ae=_e);return e&&oe.forEach(function(Gp){return t(N,Gp)}),Oe&&Nr(N,he),re}function ze(N,j,E,F){if(typeof E=="object"&&E!==null&&E.type===V&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ie:e:{for(var re=E.key,ae=j;ae!==null;){if(ae.key===re){if(re=E.type,re===V){if(ae.tag===7){i(N,ae.sibling),j=c(ae,E.props.children),j.return=N,N=j;break e}}else if(ae.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===Se&&gc(re)===ae.type){i(N,ae.sibling),j=c(ae,E.props),j.ref=Xn(N,ae,E),j.return=N,N=j;break e}i(N,ae);break}else t(N,ae);ae=ae.sibling}E.type===V?(j=Ir(E.props.children,N.mode,F,E.key),j.return=N,N=j):(F=Oi(E.type,E.key,E.props,null,N.mode,F),F.ref=Xn(N,j,E),F.return=N,N=F)}return g(N);case J:e:{for(ae=E.key;j!==null;){if(j.key===ae)if(j.tag===4&&j.stateNode.containerInfo===E.containerInfo&&j.stateNode.implementation===E.implementation){i(N,j.sibling),j=c(j,E.children||[]),j.return=N,N=j;break e}else{i(N,j);break}else t(N,j);j=j.sibling}j=qo(E,N.mode,F),j.return=N,N=j}return g(N);case Se:return ae=E._init,ze(N,j,ae(E._payload),F)}if(Cn(E))return Z(N,j,E,F);if(te(E))return X(N,j,E,F);hi(N,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,j!==null&&j.tag===6?(i(N,j.sibling),j=c(j,E),j.return=N,N=j):(i(N,j),j=Vo(E,N.mode,F),j.return=N,N=j),g(N)):i(N,j)}return ze}var un=vc(!0),yc=vc(!1),es={},zt=ar(es),ts=ar(es),rs=ar(es);function Cr(e){if(e===es)throw Error(n(174));return e}function oo(e,t){switch(Ne(rs,t),Ne(ts,e),Ne(zt,es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:aa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=aa(t,e)}Re(zt),Ne(zt,t)}function cn(){Re(zt),Re(ts),Re(rs)}function xc(e){Cr(rs.current);var t=Cr(zt.current),i=aa(t,e.type);t!==i&&(Ne(ts,e),Ne(zt,i))}function lo(e){ts.current===e&&(Re(zt),Re(ts))}var Pe=ar(0);function fi(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var pi=z.ReactCurrentDispatcher,ho=z.ReactCurrentBatchConfig,Tr=0,Ae=null,Me=null,He=null,mi=!1,ns=!1,ss=0,gp=0;function rt(){throw Error(n(321))}function fo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ct(e[i],t[i]))return!1;return!0}function po(e,t,i,o,c,f){if(Tr=f,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?wp:bp,e=i(o,c),ns){f=0;do{if(ns=!1,ss=0,25<=f)throw Error(n(301));f+=1,He=Me=null,t.updateQueue=null,pi.current=_p,e=i(o,c)}while(ns)}if(pi.current=yi,t=Me!==null&&Me.next!==null,Tr=0,He=Me=Ae=null,mi=!1,t)throw Error(n(300));return e}function mo(){var e=ss!==0;return ss=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ae.memoizedState=He=e:He=He.next=e,He}function jt(){if(Me===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=He===null?Ae.memoizedState:He.next;if(t!==null)He=t,Me=e;else{if(e===null)throw Error(n(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},He===null?Ae.memoizedState=He=e:He=He.next=e}return He}function is(e,t){return typeof t=="function"?t(e):t}function go(e){var t=jt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=Me,c=o.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}o.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,o=o.baseState;var x=g=null,k=null,O=f;do{var $=O.lane;if((Tr&$)===$)k!==null&&(k=k.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),o=O.hasEagerState?O.eagerState:e(o,O.action);else{var B={lane:$,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};k===null?(x=k=B,g=o):k=k.next=B,Ae.lanes|=$,Rr|=$}O=O.next}while(O!==null&&O!==f);k===null?g=o:k.next=x,Ct(o,t.memoizedState)||(ut=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=k,i.lastRenderedState=o}if(e=i.interleaved,e!==null){c=e;do f=c.lane,Ae.lanes|=f,Rr|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function vo(e){var t=jt(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Ct(f,t.memoizedState)||(ut=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function wc(){}function bc(e,t){var i=Ae,o=jt(),c=t(),f=!Ct(o.memoizedState,c);if(f&&(o.memoizedState=c,ut=!0),o=o.queue,yo(jc.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||He!==null&&He.memoizedState.tag&1){if(i.flags|=2048,as(9,kc.bind(null,i,o,c,t),void 0,null),Ke===null)throw Error(n(349));(Tr&30)!==0||_c(i,t,c)}return c}function _c(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function kc(e,t,i,o){t.value=i,t.getSnapshot=o,Sc(t)&&Nc(e)}function jc(e,t,i){return i(function(){Sc(t)&&Nc(e)})}function Sc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ct(e,i)}catch{return!0}}function Nc(e){var t=Ht(e,1);t!==null&&At(t,e,1,-1)}function Ec(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t.queue=e,e=e.dispatch=xp.bind(null,Ae,e),[t.memoizedState,e]}function as(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Cc(){return jt().memoizedState}function gi(e,t,i,o){var c=Bt();Ae.flags|=e,c.memoizedState=as(1|t,i,void 0,o===void 0?null:o)}function vi(e,t,i,o){var c=jt();o=o===void 0?null:o;var f=void 0;if(Me!==null){var g=Me.memoizedState;if(f=g.destroy,o!==null&&fo(o,g.deps)){c.memoizedState=as(t,i,f,o);return}}Ae.flags|=e,c.memoizedState=as(1|t,i,f,o)}function Tc(e,t){return gi(8390656,8,e,t)}function yo(e,t){return vi(2048,8,e,t)}function Rc(e,t){return vi(4,2,e,t)}function Oc(e,t){return vi(4,4,e,t)}function Pc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ac(e,t,i){return i=i!=null?i.concat([e]):null,vi(4,4,Pc.bind(null,t,e),i)}function xo(){}function Ic(e,t){var i=jt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&fo(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Lc(e,t){var i=jt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&fo(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Uc(e,t,i){return(Tr&21)===0?(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=i):(Ct(i,t)||(i=lu(),Ae.lanes|=i,Rr|=i,e.baseState=!0),t)}function vp(e,t){var i=je;je=i!==0&&4>i?i:4,e(!0);var o=ho.transition;ho.transition={};try{e(!1),t()}finally{je=i,ho.transition=o}}function $c(){return jt().memoizedState}function yp(e,t,i){var o=pr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Dc(e))zc(t,i);else if(i=lc(e,t,i,o),i!==null){var c=at();At(i,e,o,c),Bc(i,t,o)}}function xp(e,t,i){var o=pr(e),c={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))zc(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,i);if(c.hasEagerState=!0,c.eagerState=x,Ct(x,g)){var k=t.interleaved;k===null?(c.next=c,no(t)):(c.next=k.next,k.next=c),t.interleaved=c;return}}catch{}finally{}i=lc(e,t,c,o),i!==null&&(c=at(),At(i,e,o,c),Bc(i,t,o))}}function Dc(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function zc(e,t){ns=mi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Bc(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,ya(e,i)}}var yi={readContext:kt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},wp={readContext:kt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Tc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,gi(4194308,4,Pc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return gi(4,2,e,t)},useMemo:function(e,t){var i=Bt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Bt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=yp.bind(null,Ae,e),[o.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:xo,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=vp.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Ae,c=Bt();if(Oe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),Ke===null)throw Error(n(349));(Tr&30)!==0||_c(o,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,Tc(jc.bind(null,o,f,e),[e]),o.flags|=2048,as(9,kc.bind(null,o,f,i,t),void 0,null),i},useId:function(){var e=Bt(),t=Ke.identifierPrefix;if(Oe){var i=qt,o=Vt;i=(o&~(1<<32-Et(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=ss++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=gp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bp={readContext:kt,useCallback:Ic,useContext:kt,useEffect:yo,useImperativeHandle:Ac,useInsertionEffect:Rc,useLayoutEffect:Oc,useMemo:Lc,useReducer:go,useRef:Cc,useState:function(){return go(is)},useDebugValue:xo,useDeferredValue:function(e){var t=jt();return Uc(t,Me.memoizedState,e)},useTransition:function(){var e=go(is)[0],t=jt().memoizedState;return[e,t]},useMutableSource:wc,useSyncExternalStore:bc,useId:$c,unstable_isNewReconciler:!1},_p={readContext:kt,useCallback:Ic,useContext:kt,useEffect:yo,useImperativeHandle:Ac,useInsertionEffect:Rc,useLayoutEffect:Oc,useMemo:Lc,useReducer:vo,useRef:Cc,useState:function(){return vo(is)},useDebugValue:xo,useDeferredValue:function(e){var t=jt();return Me===null?t.memoizedState=e:Uc(t,Me.memoizedState,e)},useTransition:function(){var e=vo(is)[0],t=jt().memoizedState;return[e,t]},useMutableSource:wc,useSyncExternalStore:bc,useId:$c,unstable_isNewReconciler:!1};function dn(e,t){try{var i="",o=t;do i+=ye(o),o=o.return;while(o);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function wo(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function bo(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var kp=typeof WeakMap=="function"?WeakMap:Map;function Fc(e,t,i){i=Kt(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Si||(Si=!0,Uo=o),bo(e,t)},i}function Mc(e,t,i){i=Kt(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;i.payload=function(){return o(c)},i.callback=function(){bo(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){bo(e,t),typeof o!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Wc(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new kp;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(c.add(i),e=$p.bind(null,e,t,i),t.then(e,e))}function Vc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qc(e,t,i,o,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Kt(-1,1),t.tag=2,cr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var jp=z.ReactCurrentOwner,ut=!1;function it(e,t,i,o){t.child=e===null?yc(t,null,i,o):un(t,e.child,i,o)}function Hc(e,t,i,o,c){i=i.render;var f=t.ref;return ln(t,c),o=po(e,t,i,o,f,c),i=mo(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Gt(e,t,c)):(Oe&&i&&Ga(t),t.flags|=1,it(e,t,o,c),t.child)}function Kc(e,t,i,o,c){if(e===null){var f=i.type;return typeof f=="function"&&!Wo(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Gc(e,t,f,o,c)):(e=Oi(i.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&c)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Hn,i(g,o)&&e.ref===t.ref)return Gt(e,t,c)}return t.flags|=1,e=gr(f,o),e.ref=t.ref,e.return=t,t.child=e}function Gc(e,t,i,o,c){if(e!==null){var f=e.memoizedProps;if(Hn(f,o)&&e.ref===t.ref)if(ut=!1,t.pendingProps=o=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Gt(e,t,c)}return _o(e,t,i,o,c)}function Jc(e,t,i){var o=t.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(fn,gt),gt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(fn,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:i,Ne(fn,gt),gt|=o}else f!==null?(o=f.baseLanes|i,t.memoizedState=null):o=i,Ne(fn,gt),gt|=o;return it(e,t,c,i),t.child}function Qc(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,i,o,c){var f=lt(i)?jr:tt.current;return f=rn(t,f),ln(t,c),i=po(e,t,i,o,f,c),o=mo(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Gt(e,t,c)):(Oe&&o&&Ga(t),t.flags|=1,it(e,t,i,c),t.child)}function Yc(e,t,i,o,c){if(lt(i)){var f=!0;ri(t)}else f=!1;if(ln(t,c),t.stateNode===null)wi(e,t),pc(t,i,o),ao(t,i,o,c),o=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var k=g.context,O=i.contextType;typeof O=="object"&&O!==null?O=kt(O):(O=lt(i)?jr:tt.current,O=rn(t,O));var $=i.getDerivedStateFromProps,B=typeof $=="function"||typeof g.getSnapshotBeforeUpdate=="function";B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==o||k!==O)&&mc(t,g,o,O),ur=!1;var U=t.memoizedState;g.state=U,ci(t,o,g,c),k=t.memoizedState,x!==o||U!==k||ot.current||ur?(typeof $=="function"&&(io(t,i,$,o),k=t.memoizedState),(x=ur||fc(t,i,x,o,U,k,O))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=k),g.props=o,g.state=k,g.context=O,o=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,uc(e,t),x=t.memoizedProps,O=t.type===t.elementType?x:Rt(t.type,x),g.props=O,B=t.pendingProps,U=g.context,k=i.contextType,typeof k=="object"&&k!==null?k=kt(k):(k=lt(i)?jr:tt.current,k=rn(t,k));var K=i.getDerivedStateFromProps;($=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==B||U!==k)&&mc(t,g,o,k),ur=!1,U=t.memoizedState,g.state=U,ci(t,o,g,c);var Z=t.memoizedState;x!==B||U!==Z||ot.current||ur?(typeof K=="function"&&(io(t,i,K,o),Z=t.memoizedState),(O=ur||fc(t,i,O,o,U,Z,k)||!1)?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,Z,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,Z,k)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Z),g.props=o,g.state=Z,g.context=k,o=O):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),o=!1)}return ko(e,t,i,o,f,c)}function ko(e,t,i,o,c,f){Qc(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return c&&tc(t,i,!1),Gt(e,t,f);o=t.stateNode,jp.current=t;var x=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=un(t,e.child,null,f),t.child=un(t,null,x,f)):it(e,t,x,f),t.memoizedState=o.state,c&&tc(t,i,!0),t.child}function Zc(e){var t=e.stateNode;t.pendingContext?Xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xu(e,t.context,!1),oo(e,t.containerInfo)}function Xc(e,t,i,o,c){return an(),Za(c),t.flags|=256,it(e,t,i,o),t.child}var jo={dehydrated:null,treeContext:null,retryLane:0};function So(e){return{baseLanes:e,cachePool:null,transitions:null}}function ed(e,t,i){var o=t.pendingProps,c=Pe.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ne(Pe,c&1),e===null)return Ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Pi(g,o,0,null),e=Ir(e,o,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=So(i),t.memoizedState=jo,e):No(t,g));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return Sp(e,t,g,o,x,c,i);if(f){f=o.fallback,g=t.mode,c=e.child,x=c.sibling;var k={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=k,t.deletions=null):(o=gr(c,k),o.subtreeFlags=c.subtreeFlags&14680064),x!==null?f=gr(x,f):(f=Ir(f,g,i,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?So(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=jo,o}return f=e.child,e=f.sibling,o=gr(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function No(e,t){return t=Pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xi(e,t,i,o){return o!==null&&Za(o),un(t,e.child,null,i),e=No(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sp(e,t,i,o,c,f,g){if(i)return t.flags&256?(t.flags&=-257,o=wo(Error(n(422))),xi(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,c=t.mode,o=Pi({mode:"visible",children:o.children},c,0,null),f=Ir(f,c,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&un(t,e.child,null,g),t.child.memoizedState=So(g),t.memoizedState=jo,f);if((t.mode&1)===0)return xi(e,t,g,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var x=o.dgst;return o=x,f=Error(n(419)),o=wo(f,o,void 0),xi(e,t,g,o)}if(x=(g&e.childLanes)!==0,ut||x){if(o=Ke,o!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(o.suspendedLanes|g))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Ht(e,c),At(o,e,c,-1))}return Mo(),o=wo(Error(n(421))),xi(e,t,g,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Dp.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,mt=ir(c.nextSibling),pt=t,Oe=!0,Tt=null,e!==null&&(bt[_t++]=Vt,bt[_t++]=qt,bt[_t++]=Sr,Vt=e.id,qt=e.overflow,Sr=t),t=No(t,o.children),t.flags|=4096,t)}function td(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ro(e.return,t,i)}function Eo(e,t,i,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=c)}function rd(e,t,i){var o=t.pendingProps,c=o.revealOrder,f=o.tail;if(it(e,t,o.children,i),o=Pe.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,i,t);else if(e.tag===19)td(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ne(Pe,o),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&fi(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Eo(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&fi(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Eo(t,!0,i,null,f);break;case"together":Eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=gr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=gr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Np(e,t,i){switch(t.tag){case 3:Zc(t),an();break;case 5:xc(t);break;case 1:lt(t.type)&&ri(t);break;case 4:oo(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;Ne(oi,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ne(Pe,Pe.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?ed(e,t,i):(Ne(Pe,Pe.current&1),e=Gt(e,t,i),e!==null?e.sibling:null);Ne(Pe,Pe.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return rd(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ne(Pe,Pe.current),o)break;return null;case 22:case 23:return t.lanes=0,Jc(e,t,i)}return Gt(e,t,i)}var nd,Co,sd,id;nd=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Co=function(){},sd=function(e,t,i,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,Cr(zt.current);var f=null;switch(i){case"input":c=ra(e,c),o=ra(e,o),f=[];break;case"select":c=b({},c,{value:void 0}),o=b({},o,{value:void 0}),f=[];break;case"textarea":c=ia(e,c),o=ia(e,o),f=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Xs)}oa(i,o);var g;i=null;for(O in c)if(!o.hasOwnProperty(O)&&c.hasOwnProperty(O)&&c[O]!=null)if(O==="style"){var x=c[O];for(g in x)x.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(u.hasOwnProperty(O)?f||(f=[]):(f=f||[]).push(O,null));for(O in o){var k=o[O];if(x=c!=null?c[O]:void 0,o.hasOwnProperty(O)&&k!==x&&(k!=null||x!=null))if(O==="style")if(x){for(g in x)!x.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in k)k.hasOwnProperty(g)&&x[g]!==k[g]&&(i||(i={}),i[g]=k[g])}else i||(f||(f=[]),f.push(O,i)),i=k;else O==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,x=x?x.__html:void 0,k!=null&&x!==k&&(f=f||[]).push(O,k)):O==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push(O,""+k):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(u.hasOwnProperty(O)?(k!=null&&O==="onScroll"&&Te("scroll",e),f||x===k||(f=[])):(f=f||[]).push(O,k))}i&&(f=f||[]).push("style",i);var O=f;(t.updateQueue=O)&&(t.flags|=4)}},id=function(e,t,i,o){i!==o&&(t.flags|=4)};function os(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function Ep(e,t,i){var o=t.pendingProps;switch(Ja(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return lt(t.type)&&ti(),nt(t),null;case 3:return o=t.stateNode,cn(),Re(ot),Re(tt),co(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tt!==null&&(zo(Tt),Tt=null))),Co(e,t),nt(t),null;case 5:lo(t);var c=Cr(rs.current);if(i=t.type,e!==null&&t.stateNode!=null)sd(e,t,i,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return nt(t),null}if(e=Cr(zt.current),ai(t)){o=t.stateNode,i=t.type;var f=t.memoizedProps;switch(o[Dt]=t,o[Yn]=f,e=(t.mode&1)!==0,i){case"dialog":Te("cancel",o),Te("close",o);break;case"iframe":case"object":case"embed":Te("load",o);break;case"video":case"audio":for(c=0;c<Gn.length;c++)Te(Gn[c],o);break;case"source":Te("error",o);break;case"img":case"image":case"link":Te("error",o),Te("load",o);break;case"details":Te("toggle",o);break;case"input":Dl(o,f),Te("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},Te("invalid",o);break;case"textarea":Fl(o,f),Te("invalid",o)}oa(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?o.textContent!==x&&(f.suppressHydrationWarning!==!0&&Zs(o.textContent,x,e),c=["children",x]):typeof x=="number"&&o.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&Zs(o.textContent,x,e),c=["children",""+x]):u.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&Te("scroll",o)}switch(i){case"input":br(o),Bl(o,f,!0);break;case"textarea":br(o),Wl(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=Xs)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vl(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[Dt]=t,e[Yn]=o,nd(e,t,!1,!1),t.stateNode=e;e:{switch(g=la(i,o),i){case"dialog":Te("cancel",e),Te("close",e),c=o;break;case"iframe":case"object":case"embed":Te("load",e),c=o;break;case"video":case"audio":for(c=0;c<Gn.length;c++)Te(Gn[c],e);c=o;break;case"source":Te("error",e),c=o;break;case"img":case"image":case"link":Te("error",e),Te("load",e),c=o;break;case"details":Te("toggle",e),c=o;break;case"input":Dl(e,o),c=ra(e,o),Te("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=b({},o,{value:void 0}),Te("invalid",e);break;case"textarea":Fl(e,o),c=ia(e,o),Te("invalid",e);break;default:c=o}oa(i,c),x=c;for(f in x)if(x.hasOwnProperty(f)){var k=x[f];f==="style"?Kl(e,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&ql(e,k)):f==="children"?typeof k=="string"?(i!=="textarea"||k!=="")&&Tn(e,k):typeof k=="number"&&Tn(e,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?k!=null&&f==="onScroll"&&Te("scroll",e):k!=null&&L(e,f,k,g))}switch(i){case"input":br(e),Bl(e,o,!1);break;case"textarea":br(e),Wl(e);break;case"option":o.value!=null&&e.setAttribute("value",""+me(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?Vr(e,!!o.multiple,f,!1):o.defaultValue!=null&&Vr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Xs)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)id(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(i=Cr(rs.current),Cr(zt.current),ai(t)){if(o=t.stateNode,i=t.memoizedProps,o[Dt]=t,(f=o.nodeValue!==i)&&(e=pt,e!==null))switch(e.tag){case 3:Zs(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zs(o.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Dt]=t,t.stateNode=o}return nt(t),null;case 13:if(Re(Pe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)oc(),an(),t.flags|=98560,f=!1;else if(f=ai(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Dt]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),f=!1}else Tt!==null&&(zo(Tt),Tt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Pe.current&1)!==0?We===0&&(We=3):Mo())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return cn(),Co(e,t),e===null&&Jn(t.stateNode.containerInfo),nt(t),null;case 10:return to(t.type._context),nt(t),null;case 17:return lt(t.type)&&ti(),nt(t),null;case 19:if(Re(Pe),f=t.memoizedState,f===null)return nt(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)os(f,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=fi(e),g!==null){for(t.flags|=128,os(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)f=i,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ne(Pe,Pe.current&1|2),t.child}e=e.sibling}f.tail!==null&&De()>pn&&(t.flags|=128,o=!0,os(f,!1),t.lanes=4194304)}else{if(!o)if(e=fi(g),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),os(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Oe)return nt(t),null}else 2*De()-f.renderingStartTime>pn&&i!==1073741824&&(t.flags|=128,o=!0,os(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=De(),t.sibling=null,i=Pe.current,Ne(Pe,o?i&1|2:i&1),t):(nt(t),null);case 22:case 23:return Fo(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(gt&1073741824)!==0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Cp(e,t){switch(Ja(t),t.tag){case 1:return lt(t.type)&&ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(),Re(ot),Re(tt),co(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return lo(t),null;case 13:if(Re(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Pe),null;case 4:return cn(),null;case 10:return to(t.type._context),null;case 22:case 23:return Fo(),null;case 24:return null;default:return null}}var bi=!1,st=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,Q=null;function hn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Ue(e,t,o)}else i.current=null}function To(e,t,i){try{i()}catch(o){Ue(e,t,o)}}var ad=!1;function Rp(e,t){if(Ba=Fs,e=$u(),Pa(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,x=-1,k=-1,O=0,$=0,B=e,U=null;t:for(;;){for(var K;B!==i||c!==0&&B.nodeType!==3||(x=g+c),B!==f||o!==0&&B.nodeType!==3||(k=g+o),B.nodeType===3&&(g+=B.nodeValue.length),(K=B.firstChild)!==null;)U=B,B=K;for(;;){if(B===e)break t;if(U===i&&++O===c&&(x=g),U===f&&++$===o&&(k=g),(K=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=K}i=x===-1||k===-1?null:{start:x,end:k}}else i=null}i=i||{start:0,end:0}}else i=null;for(Fa={focusedElem:e,selectionRange:i},Fs=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var X=Z.memoizedProps,ze=Z.memoizedState,N=t.stateNode,j=N.getSnapshotBeforeUpdate(t.elementType===t.type?X:Rt(t.type,X),ze);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(F){Ue(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return Z=ad,ad=!1,Z}function ls(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&To(t,i,f)}c=c.next}while(c!==o)}}function _i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Ro(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function od(e){var t=e.alternate;t!==null&&(e.alternate=null,od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[Yn],delete t[qa],delete t[hp],delete t[fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ld(e){return e.tag===5||e.tag===3||e.tag===4}function ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oo(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Xs));else if(o!==4&&(e=e.child,e!==null))for(Oo(e,t,i),e=e.sibling;e!==null;)Oo(e,t,i),e=e.sibling}function Po(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Po(e,t,i),e=e.sibling;e!==null;)Po(e,t,i),e=e.sibling}var Je=null,Ot=!1;function dr(e,t,i){for(i=i.child;i!==null;)cd(e,t,i),i=i.sibling}function cd(e,t,i){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Ls,i)}catch{}switch(i.tag){case 5:st||hn(i,t);case 6:var o=Je,c=Ot;Je=null,dr(e,t,i),Je=o,Ot=c,Je!==null&&(Ot?(e=Je,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Je.removeChild(i.stateNode));break;case 18:Je!==null&&(Ot?(e=Je,i=i.stateNode,e.nodeType===8?Va(e.parentNode,i):e.nodeType===1&&Va(e,i),Bn(e)):Va(Je,i.stateNode));break;case 4:o=Je,c=Ot,Je=i.stateNode.containerInfo,Ot=!0,dr(e,t,i),Je=o,Ot=c;break;case 0:case 11:case 14:case 15:if(!st&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&To(i,t,g),c=c.next}while(c!==o)}dr(e,t,i);break;case 1:if(!st&&(hn(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(x){Ue(i,t,x)}dr(e,t,i);break;case 21:dr(e,t,i);break;case 22:i.mode&1?(st=(o=st)||i.memoizedState!==null,dr(e,t,i),st=o):dr(e,t,i);break;default:dr(e,t,i)}}function dd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Tp),t.forEach(function(o){var c=zp.bind(null,e,o);i.has(o)||(i.add(o),o.then(c,c))})}}function Pt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Je=x.stateNode,Ot=!1;break e;case 3:Je=x.stateNode.containerInfo,Ot=!0;break e;case 4:Je=x.stateNode.containerInfo,Ot=!0;break e}x=x.return}if(Je===null)throw Error(n(160));cd(f,g,c),Je=null,Ot=!1;var k=c.alternate;k!==null&&(k.return=null),c.return=null}catch(O){Ue(c,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hd(t,e),t=t.sibling}function hd(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ft(e),o&4){try{ls(3,e,e.return),_i(3,e)}catch(X){Ue(e,e.return,X)}try{ls(5,e,e.return)}catch(X){Ue(e,e.return,X)}}break;case 1:Pt(t,e),Ft(e),o&512&&i!==null&&hn(i,i.return);break;case 5:if(Pt(t,e),Ft(e),o&512&&i!==null&&hn(i,i.return),e.flags&32){var c=e.stateNode;try{Tn(c,"")}catch(X){Ue(e,e.return,X)}}if(o&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,x=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&zl(c,f),la(x,g);var O=la(x,f);for(g=0;g<k.length;g+=2){var $=k[g],B=k[g+1];$==="style"?Kl(c,B):$==="dangerouslySetInnerHTML"?ql(c,B):$==="children"?Tn(c,B):L(c,$,B,O)}switch(x){case"input":na(c,f);break;case"textarea":Ml(c,f);break;case"select":var U=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var K=f.value;K!=null?Vr(c,!!f.multiple,K,!1):U!==!!f.multiple&&(f.defaultValue!=null?Vr(c,!!f.multiple,f.defaultValue,!0):Vr(c,!!f.multiple,f.multiple?[]:"",!1))}c[Yn]=f}catch(X){Ue(e,e.return,X)}}break;case 6:if(Pt(t,e),Ft(e),o&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(X){Ue(e,e.return,X)}}break;case 3:if(Pt(t,e),Ft(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Bn(t.containerInfo)}catch(X){Ue(e,e.return,X)}break;case 4:Pt(t,e),Ft(e);break;case 13:Pt(t,e),Ft(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Lo=De())),o&4&&dd(e);break;case 22:if($=i!==null&&i.memoizedState!==null,e.mode&1?(st=(O=st)||$,Pt(t,e),st=O):Pt(t,e),Ft(e),o&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!$&&(e.mode&1)!==0)for(Q=e,$=e.child;$!==null;){for(B=Q=$;Q!==null;){switch(U=Q,K=U.child,U.tag){case 0:case 11:case 14:case 15:ls(4,U,U.return);break;case 1:hn(U,U.return);var Z=U.stateNode;if(typeof Z.componentWillUnmount=="function"){o=U,i=U.return;try{t=o,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(X){Ue(o,i,X)}}break;case 5:hn(U,U.return);break;case 22:if(U.memoizedState!==null){md(B);continue}}K!==null?(K.return=U,Q=K):md(B)}$=$.sibling}e:for($=null,B=e;;){if(B.tag===5){if($===null){$=B;try{c=B.stateNode,O?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=B.stateNode,k=B.memoizedProps.style,g=k!=null&&k.hasOwnProperty("display")?k.display:null,x.style.display=Hl("display",g))}catch(X){Ue(e,e.return,X)}}}else if(B.tag===6){if($===null)try{B.stateNode.nodeValue=O?"":B.memoizedProps}catch(X){Ue(e,e.return,X)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===e)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===e)break e;for(;B.sibling===null;){if(B.return===null||B.return===e)break e;$===B&&($=null),B=B.return}$===B&&($=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Pt(t,e),Ft(e),o&4&&dd(e);break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(ld(i)){var o=i;break e}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(Tn(c,""),o.flags&=-33);var f=ud(e);Po(e,f,c);break;case 3:case 4:var g=o.stateNode.containerInfo,x=ud(e);Oo(e,x,g);break;default:throw Error(n(161))}}catch(k){Ue(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Op(e,t,i){Q=e,fd(e)}function fd(e,t,i){for(var o=(e.mode&1)!==0;Q!==null;){var c=Q,f=c.child;if(c.tag===22&&o){var g=c.memoizedState!==null||bi;if(!g){var x=c.alternate,k=x!==null&&x.memoizedState!==null||st;x=bi;var O=st;if(bi=g,(st=k)&&!O)for(Q=c;Q!==null;)g=Q,k=g.child,g.tag===22&&g.memoizedState!==null?gd(c):k!==null?(k.return=g,Q=k):gd(c);for(;f!==null;)Q=f,fd(f),f=f.sibling;Q=c,bi=x,st=O}pd(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,Q=f):pd(e)}}function pd(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:st||_i(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!st)if(i===null)o.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Rt(t.type,i.memoizedProps);o.componentDidUpdate(c,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&dc(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}dc(t,g,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&i.focus();break;case"img":k.src&&(i.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var $=O.memoizedState;if($!==null){var B=$.dehydrated;B!==null&&Bn(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}st||t.flags&512&&Ro(t)}catch(U){Ue(t,t.return,U)}}if(t===e){Q=null;break}if(i=t.sibling,i!==null){i.return=t.return,Q=i;break}Q=t.return}}function md(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}function gd(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{_i(4,t)}catch(k){Ue(t,i,k)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(k){Ue(t,c,k)}}var f=t.return;try{Ro(t)}catch(k){Ue(t,f,k)}break;case 5:var g=t.return;try{Ro(t)}catch(k){Ue(t,g,k)}}}catch(k){Ue(t,t.return,k)}if(t===e){Q=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Q=x;break}Q=t.return}}var Pp=Math.ceil,ki=z.ReactCurrentDispatcher,Ao=z.ReactCurrentOwner,St=z.ReactCurrentBatchConfig,be=0,Ke=null,Be=null,Qe=0,gt=0,fn=ar(0),We=0,us=null,Rr=0,ji=0,Io=0,cs=null,ct=null,Lo=0,pn=1/0,Jt=null,Si=!1,Uo=null,hr=null,Ni=!1,fr=null,Ei=0,ds=0,$o=null,Ci=-1,Ti=0;function at(){return(be&6)!==0?De():Ci!==-1?Ci:Ci=De()}function pr(e){return(e.mode&1)===0?1:(be&2)!==0&&Qe!==0?Qe&-Qe:mp.transition!==null?(Ti===0&&(Ti=lu()),Ti):(e=je,e!==0||(e=window.event,e=e===void 0?16:vu(e.type)),e)}function At(e,t,i,o){if(50<ds)throw ds=0,$o=null,Error(n(185));Ln(e,i,o),((be&2)===0||e!==Ke)&&(e===Ke&&((be&2)===0&&(ji|=i),We===4&&mr(e,Qe)),dt(e,o),i===1&&be===0&&(t.mode&1)===0&&(pn=De()+500,ni&&lr()))}function dt(e,t){var i=e.callbackNode;mf(e,t);var o=Ds(e,e===Ke?Qe:0);if(o===0)i!==null&&iu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&iu(i),t===1)e.tag===0?pp(yd.bind(null,e)):rc(yd.bind(null,e)),cp(function(){(be&6)===0&&lr()}),i=null;else{switch(uu(o)){case 1:i=ma;break;case 4:i=au;break;case 16:i=Is;break;case 536870912:i=ou;break;default:i=Is}i=Nd(i,vd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function vd(e,t){if(Ci=-1,Ti=0,(be&6)!==0)throw Error(n(327));var i=e.callbackNode;if(mn()&&e.callbackNode!==i)return null;var o=Ds(e,e===Ke?Qe:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Ri(e,o);else{t=o;var c=be;be|=2;var f=wd();(Ke!==e||Qe!==t)&&(Jt=null,pn=De()+500,Pr(e,t));do try{Lp();break}catch(x){xd(e,x)}while(!0);eo(),ki.current=f,be=c,Be!==null?t=0:(Ke=null,Qe=0,t=We)}if(t!==0){if(t===2&&(c=ga(e),c!==0&&(o=c,t=Do(e,c))),t===1)throw i=us,Pr(e,0),mr(e,o),dt(e,De()),i;if(t===6)mr(e,o);else{if(c=e.current.alternate,(o&30)===0&&!Ap(c)&&(t=Ri(e,o),t===2&&(f=ga(e),f!==0&&(o=f,t=Do(e,f))),t===1))throw i=us,Pr(e,0),mr(e,o),dt(e,De()),i;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:Ar(e,ct,Jt);break;case 3:if(mr(e,o),(o&130023424)===o&&(t=Lo+500-De(),10<t)){if(Ds(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){at(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Wa(Ar.bind(null,e,ct,Jt),t);break}Ar(e,ct,Jt);break;case 4:if(mr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var g=31-Et(o);f=1<<g,g=t[g],g>c&&(c=g),o&=~f}if(o=c,o=De()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Pp(o/1960))-o,10<o){e.timeoutHandle=Wa(Ar.bind(null,e,ct,Jt),o);break}Ar(e,ct,Jt);break;case 5:Ar(e,ct,Jt);break;default:throw Error(n(329))}}}return dt(e,De()),e.callbackNode===i?vd.bind(null,e):null}function Do(e,t){var i=cs;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=Ri(e,t),e!==2&&(t=ct,ct=i,t!==null&&zo(t)),e}function zo(e){ct===null?ct=e:ct.push.apply(ct,e)}function Ap(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var c=i[o],f=c.getSnapshot;c=c.value;try{if(!Ct(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~Io,t&=~ji,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Et(t),o=1<<i;e[i]=-1,t&=~o}}function yd(e){if((be&6)!==0)throw Error(n(327));mn();var t=Ds(e,0);if((t&1)===0)return dt(e,De()),null;var i=Ri(e,t);if(e.tag!==0&&i===2){var o=ga(e);o!==0&&(t=o,i=Do(e,o))}if(i===1)throw i=us,Pr(e,0),mr(e,t),dt(e,De()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ar(e,ct,Jt),dt(e,De()),null}function Bo(e,t){var i=be;be|=1;try{return e(t)}finally{be=i,be===0&&(pn=De()+500,ni&&lr())}}function Or(e){fr!==null&&fr.tag===0&&(be&6)===0&&mn();var t=be;be|=1;var i=St.transition,o=je;try{if(St.transition=null,je=1,e)return e()}finally{je=o,St.transition=i,be=t,(be&6)===0&&lr()}}function Fo(){gt=fn.current,Re(fn)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,up(i)),Be!==null)for(i=Be.return;i!==null;){var o=i;switch(Ja(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ti();break;case 3:cn(),Re(ot),Re(tt),co();break;case 5:lo(o);break;case 4:cn();break;case 13:Re(Pe);break;case 19:Re(Pe);break;case 10:to(o.type._context);break;case 22:case 23:Fo()}i=i.return}if(Ke=e,Be=e=gr(e.current,null),Qe=gt=t,We=0,us=null,Io=ji=Rr=0,ct=cs=null,Er!==null){for(t=0;t<Er.length;t++)if(i=Er[t],o=i.interleaved,o!==null){i.interleaved=null;var c=o.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,o.next=g}i.pending=o}Er=null}return e}function xd(e,t){do{var i=Be;try{if(eo(),pi.current=yi,mi){for(var o=Ae.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}mi=!1}if(Tr=0,He=Me=Ae=null,ns=!1,ss=0,Ao.current=null,i===null||i.return===null){We=1,us=t,Be=null;break}e:{var f=e,g=i.return,x=i,k=t;if(t=Qe,x.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var O=k,$=x,B=$.tag;if(($.mode&1)===0&&(B===0||B===11||B===15)){var U=$.alternate;U?($.updateQueue=U.updateQueue,$.memoizedState=U.memoizedState,$.lanes=U.lanes):($.updateQueue=null,$.memoizedState=null)}var K=Vc(g);if(K!==null){K.flags&=-257,qc(K,g,x,f,t),K.mode&1&&Wc(f,O,t),t=K,k=O;var Z=t.updateQueue;if(Z===null){var X=new Set;X.add(k),t.updateQueue=X}else Z.add(k);break e}else{if((t&1)===0){Wc(f,O,t),Mo();break e}k=Error(n(426))}}else if(Oe&&x.mode&1){var ze=Vc(g);if(ze!==null){(ze.flags&65536)===0&&(ze.flags|=256),qc(ze,g,x,f,t),Za(dn(k,x));break e}}f=k=dn(k,x),We!==4&&(We=2),cs===null?cs=[f]:cs.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var N=Fc(f,k,t);cc(f,N);break e;case 1:x=k;var j=f.type,E=f.stateNode;if((f.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(hr===null||!hr.has(E)))){f.flags|=65536,t&=-t,f.lanes|=t;var F=Mc(f,x,t);cc(f,F);break e}}f=f.return}while(f!==null)}_d(i)}catch(re){t=re,Be===i&&i!==null&&(Be=i=i.return);continue}break}while(!0)}function wd(){var e=ki.current;return ki.current=yi,e===null?yi:e}function Mo(){(We===0||We===3||We===2)&&(We=4),Ke===null||(Rr&268435455)===0&&(ji&268435455)===0||mr(Ke,Qe)}function Ri(e,t){var i=be;be|=2;var o=wd();(Ke!==e||Qe!==t)&&(Jt=null,Pr(e,t));do try{Ip();break}catch(c){xd(e,c)}while(!0);if(eo(),be=i,ki.current=o,Be!==null)throw Error(n(261));return Ke=null,Qe=0,We}function Ip(){for(;Be!==null;)bd(Be)}function Lp(){for(;Be!==null&&!af();)bd(Be)}function bd(e){var t=Sd(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?_d(e):Be=t,Ao.current=null}function _d(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Ep(i,t,gt),i!==null){Be=i;return}}else{if(i=Cp(i,t),i!==null){i.flags&=32767,Be=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Be=null;return}}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);We===0&&(We=5)}function Ar(e,t,i){var o=je,c=St.transition;try{St.transition=null,je=1,Up(e,t,i,o)}finally{St.transition=c,je=o}return null}function Up(e,t,i,o){do mn();while(fr!==null);if((be&6)!==0)throw Error(n(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(gf(e,f),e===Ke&&(Be=Ke=null,Qe=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ni||(Ni=!0,Nd(Is,function(){return mn(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=St.transition,St.transition=null;var g=je;je=1;var x=be;be|=4,Ao.current=null,Rp(e,i),hd(i,e),rp(Fa),Fs=!!Ba,Fa=Ba=null,e.current=i,Op(i),of(),be=x,je=g,St.transition=f}else e.current=i;if(Ni&&(Ni=!1,fr=e,Ei=c),f=e.pendingLanes,f===0&&(hr=null),cf(i.stateNode),dt(e,De()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],o(c.value,{componentStack:c.stack,digest:c.digest});if(Si)throw Si=!1,e=Uo,Uo=null,e;return(Ei&1)!==0&&e.tag!==0&&mn(),f=e.pendingLanes,(f&1)!==0?e===$o?ds++:(ds=0,$o=e):ds=0,lr(),null}function mn(){if(fr!==null){var e=uu(Ei),t=St.transition,i=je;try{if(St.transition=null,je=16>e?16:e,fr===null)var o=!1;else{if(e=fr,fr=null,Ei=0,(be&6)!==0)throw Error(n(331));var c=be;for(be|=4,Q=e.current;Q!==null;){var f=Q,g=f.child;if((Q.flags&16)!==0){var x=f.deletions;if(x!==null){for(var k=0;k<x.length;k++){var O=x[k];for(Q=O;Q!==null;){var $=Q;switch($.tag){case 0:case 11:case 15:ls(8,$,f)}var B=$.child;if(B!==null)B.return=$,Q=B;else for(;Q!==null;){$=Q;var U=$.sibling,K=$.return;if(od($),$===O){Q=null;break}if(U!==null){U.return=K,Q=U;break}Q=K}}}var Z=f.alternate;if(Z!==null){var X=Z.child;if(X!==null){Z.child=null;do{var ze=X.sibling;X.sibling=null,X=ze}while(X!==null)}}Q=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,Q=g;else e:for(;Q!==null;){if(f=Q,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ls(9,f,f.return)}var N=f.sibling;if(N!==null){N.return=f.return,Q=N;break e}Q=f.return}}var j=e.current;for(Q=j;Q!==null;){g=Q;var E=g.child;if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,Q=E;else e:for(g=j;Q!==null;){if(x=Q,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:_i(9,x)}}catch(re){Ue(x,x.return,re)}if(x===g){Q=null;break e}var F=x.sibling;if(F!==null){F.return=x.return,Q=F;break e}Q=x.return}}if(be=c,lr(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Ls,e)}catch{}o=!0}return o}finally{je=i,St.transition=t}}return!1}function kd(e,t,i){t=dn(i,t),t=Fc(e,t,1),e=cr(e,t,1),t=at(),e!==null&&(Ln(e,1,t),dt(e,t))}function Ue(e,t,i){if(e.tag===3)kd(e,e,i);else for(;t!==null;){if(t.tag===3){kd(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){e=dn(i,e),e=Mc(t,e,1),t=cr(t,e,1),e=at(),t!==null&&(Ln(t,1,e),dt(t,e));break}}t=t.return}}function $p(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&i,Ke===e&&(Qe&i)===i&&(We===4||We===3&&(Qe&130023424)===Qe&&500>De()-Lo?Pr(e,0):Io|=i),dt(e,t)}function jd(e,t){t===0&&((e.mode&1)===0?t=1:(t=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var i=at();e=Ht(e,t),e!==null&&(Ln(e,t,i),dt(e,i))}function Dp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),jd(e,i)}function zp(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),jd(e,i)}var Sd;Sd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)ut=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return ut=!1,Np(e,t,i);ut=(e.flags&131072)!==0}else ut=!1,Oe&&(t.flags&1048576)!==0&&nc(t,ii,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;wi(e,t),e=t.pendingProps;var c=rn(t,tt.current);ln(t,i),c=po(null,t,o,e,c,i);var f=mo();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(o)?(f=!0,ri(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,so(t),c.updater=di,t.stateNode=c,c._reactInternals=t,ao(t,o,e,i),t=ko(null,t,o,!0,f,i)):(t.tag=0,Oe&&f&&Ga(t),it(null,t,c,i),t=t.child),t;case 16:o=t.elementType;e:{switch(wi(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=Fp(o),e=Rt(o,e),c){case 0:t=_o(null,t,o,e,i);break e;case 1:t=Yc(null,t,o,e,i);break e;case 11:t=Hc(null,t,o,e,i);break e;case 14:t=Kc(null,t,o,Rt(o.type,e),i);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Rt(o,c),_o(e,t,o,c,i);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Rt(o,c),Yc(e,t,o,c,i);case 3:e:{if(Zc(t),e===null)throw Error(n(387));o=t.pendingProps,f=t.memoizedState,c=f.element,uc(e,t),ci(t,o,null,i);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=dn(Error(n(423)),t),t=Xc(e,t,o,i,c);break e}else if(o!==c){c=dn(Error(n(424)),t),t=Xc(e,t,o,i,c);break e}else for(mt=ir(t.stateNode.containerInfo.firstChild),pt=t,Oe=!0,Tt=null,i=yc(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(an(),o===c){t=Gt(e,t,i);break e}it(e,t,o,i)}t=t.child}return t;case 5:return xc(t),e===null&&Ya(t),o=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,Ma(o,c)?g=null:f!==null&&Ma(o,f)&&(t.flags|=32),Qc(e,t),it(e,t,g,i),t.child;case 6:return e===null&&Ya(t),null;case 13:return ed(e,t,i);case 4:return oo(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=un(t,null,o,i):it(e,t,o,i),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Rt(o,c),Hc(e,t,o,c,i);case 7:return it(e,t,t.pendingProps,i),t.child;case 8:return it(e,t,t.pendingProps.children,i),t.child;case 12:return it(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,Ne(oi,o._currentValue),o._currentValue=g,f!==null)if(Ct(f.value,g)){if(f.children===c.children&&!ot.current){t=Gt(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var k=x.firstContext;k!==null;){if(k.context===o){if(f.tag===1){k=Kt(-1,i&-i),k.tag=2;var O=f.updateQueue;if(O!==null){O=O.shared;var $=O.pending;$===null?k.next=k:(k.next=$.next,$.next=k),O.pending=k}}f.lanes|=i,k=f.alternate,k!==null&&(k.lanes|=i),ro(f.return,i,t),x.lanes|=i;break}k=k.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(n(341));g.lanes|=i,x=g.alternate,x!==null&&(x.lanes|=i),ro(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}it(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,ln(t,i),c=kt(c),o=o(c),t.flags|=1,it(e,t,o,i),t.child;case 14:return o=t.type,c=Rt(o,t.pendingProps),c=Rt(o.type,c),Kc(e,t,o,c,i);case 15:return Gc(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Rt(o,c),wi(e,t),t.tag=1,lt(o)?(e=!0,ri(t)):e=!1,ln(t,i),pc(t,o,c),ao(t,o,c,i),ko(null,t,o,!0,e,i);case 19:return rd(e,t,i);case 22:return Jc(e,t,i)}throw Error(n(156,t.tag))};function Nd(e,t){return su(e,t)}function Bp(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,i,o){return new Bp(e,t,i,o)}function Wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fp(e){if(typeof e=="function")return Wo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ee)return 11;if(e===ke)return 14}return 2}function gr(e,t){var i=e.alternate;return i===null?(i=Nt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Oi(e,t,i,o,c,f){var g=2;if(o=e,typeof e=="function")Wo(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case V:return Ir(i.children,c,f,t);case de:g=8,c|=8;break;case ge:return e=Nt(12,i,t,c|2),e.elementType=ge,e.lanes=f,e;case q:return e=Nt(13,i,t,c),e.elementType=q,e.lanes=f,e;case ce:return e=Nt(19,i,t,c),e.elementType=ce,e.lanes=f,e;case se:return Pi(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:g=10;break e;case M:g=9;break e;case ee:g=11;break e;case ke:g=14;break e;case Se:g=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Nt(g,i,t,c),t.elementType=e,t.type=o,t.lanes=f,t}function Ir(e,t,i,o){return e=Nt(7,e,o,t),e.lanes=i,e}function Pi(e,t,i,o){return e=Nt(22,e,o,t),e.elementType=se,e.lanes=i,e.stateNode={isHidden:!1},e}function Vo(e,t,i){return e=Nt(6,e,null,t),e.lanes=i,e}function qo(e,t,i){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mp(e,t,i,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ho(e,t,i,o,c,f,g,x,k){return e=new Mp(e,t,i,x,k),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Nt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},so(f),e}function Wp(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Ed(e){if(!e)return or;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(lt(i))return ec(e,i,t)}return t}function Cd(e,t,i,o,c,f,g,x,k){return e=Ho(i,o,!0,e,c,f,g,x,k),e.context=Ed(null),i=e.current,o=at(),c=pr(i),f=Kt(o,c),f.callback=t??null,cr(i,f,c),e.current.lanes=c,Ln(e,c,o),dt(e,o),e}function Ai(e,t,i,o){var c=t.current,f=at(),g=pr(c);return i=Ed(i),t.context===null?t.context=i:t.pendingContext=i,t=Kt(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=cr(c,t,g),e!==null&&(At(e,c,g,f),ui(e,c,g)),g}function Ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ko(e,t){Td(e,t),(e=e.alternate)&&Td(e,t)}function Vp(){return null}var Rd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Go(e){this._internalRoot=e}Li.prototype.render=Go.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Ai(e,t,null,null)},Li.prototype.unmount=Go.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){Ai(null,e,null,null)}),t[Mt]=null}};function Li(e){this._internalRoot=e}Li.prototype.unstable_scheduleHydration=function(e){if(e){var t=hu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<rr.length&&t!==0&&t<rr[i].priority;i++);rr.splice(i,0,e),i===0&&mu(e)}};function Jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Od(){}function qp(e,t,i,o,c){if(c){if(typeof o=="function"){var f=o;o=function(){var O=Ii(g);f.call(O)}}var g=Cd(t,o,e,0,null,!1,!1,"",Od);return e._reactRootContainer=g,e[Mt]=g.current,Jn(e.nodeType===8?e.parentNode:e),Or(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var x=o;o=function(){var O=Ii(k);x.call(O)}}var k=Ho(e,0,!1,null,null,!1,!1,"",Od);return e._reactRootContainer=k,e[Mt]=k.current,Jn(e.nodeType===8?e.parentNode:e),Or(function(){Ai(t,k,i,o)}),k}function $i(e,t,i,o,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var x=c;c=function(){var k=Ii(g);x.call(k)}}Ai(t,g,e,c)}else g=qp(i,t,e,c,o);return Ii(g)}cu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=In(t.pendingLanes);i!==0&&(ya(t,i|1),dt(t,De()),(be&6)===0&&(pn=De()+500,lr()))}break;case 13:Or(function(){var o=Ht(e,1);if(o!==null){var c=at();At(o,e,1,c)}}),Ko(e,1)}},xa=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var i=at();At(t,e,134217728,i)}Ko(e,134217728)}},du=function(e){if(e.tag===13){var t=pr(e),i=Ht(e,t);if(i!==null){var o=at();At(i,e,t,o)}Ko(e,t)}},hu=function(){return je},fu=function(e,t){var i=je;try{return je=e,t()}finally{je=i}},da=function(e,t,i){switch(t){case"input":if(na(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var c=ei(o);if(!c)throw Error(n(90));Ts(o),na(o,c)}}}break;case"textarea":Ml(e,i);break;case"select":t=i.value,t!=null&&Vr(e,!!i.multiple,t,!1)}},Yl=Bo,Zl=Or;var Hp={usingClientEntryPoint:!1,Events:[Zn,en,ei,Jl,Ql,Bo]},hs={findFiberByHostInstance:kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Kp={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ru(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||Vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Di.isDisabled&&Di.supportsFiber)try{Ls=Di.inject(Kp),$t=Di}catch{}}return ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp,ht.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jo(t))throw Error(n(200));return Wp(e,t,null,i)},ht.createRoot=function(e,t){if(!Jo(e))throw Error(n(299));var i=!1,o="",c=Rd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Ho(e,1,!1,null,null,i,!1,o,c),e[Mt]=t.current,Jn(e.nodeType===8?e.parentNode:e),new Go(t)},ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=ru(t),e=e===null?null:e.stateNode,e},ht.flushSync=function(e){return Or(e)},ht.hydrate=function(e,t,i){if(!Ui(t))throw Error(n(200));return $i(null,e,t,!0,i)},ht.hydrateRoot=function(e,t,i){if(!Jo(e))throw Error(n(405));var o=i!=null&&i.hydratedSources||null,c=!1,f="",g=Rd;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Cd(t,null,e,1,i??null,c,!1,f,g),e[Mt]=t.current,Jn(e),o)for(e=0;e<o.length;e++)i=o[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new Li(t)},ht.render=function(e,t,i){if(!Ui(t))throw Error(n(200));return $i(null,e,t,!1,i)},ht.unmountComponentAtNode=function(e){if(!Ui(e))throw Error(n(40));return e._reactRootContainer?(Or(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1},ht.unstable_batchedUpdates=Bo,ht.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Ui(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return $i(e,t,i,!1,o)},ht.version="18.2.0-next-9e3b772b8-20220608",ht}var zd;function _h(){if(zd)return Zo.exports;zd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Zo.exports=rm(),Zo.exports}var Bd;function nm(){if(Bd)return zi;Bd=1;var s=_h();return zi.createRoot=s.createRoot,zi.hydrateRoot=s.hydrateRoot,zi}var sm=nm();const im=wh(sm);_h();/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},ws.apply(this,arguments)}var wr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(wr||(wr={}));const Fd="popstate";function am(s){s===void 0&&(s={});function r(u,d){let{pathname:h="/",search:p="",hash:m=""}=Mr(u.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ml("",{pathname:h,search:p,hash:m},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function n(u,d){let h=u.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let m=u.location.href,v=m.indexOf("#");p=v===-1?m:m.slice(0,v)}return p+"#"+(typeof d=="string"?d:kh(d))}function a(u,d){Rl(u.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(d)+")")}return lm(r,n,a,s)}function qe(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function Rl(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function om(){return Math.random().toString(36).substr(2,8)}function Md(s,r){return{usr:s.state,key:s.key,idx:r}}function ml(s,r,n,a){return n===void 0&&(n=null),ws({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Mr(r):r,{state:n,key:r&&r.key||a||om()})}function kh(s){let{pathname:r="/",search:n="",hash:a=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Mr(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let a=s.indexOf("?");a>=0&&(r.search=s.substr(a),s=s.substr(0,a)),s&&(r.pathname=s)}return r}function lm(s,r,n,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:d=!1}=a,h=u.history,p=wr.Pop,m=null,v=y();v==null&&(v=0,h.replaceState(ws({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function w(){p=wr.Pop;let T=y(),I=T==null?null:T-v;v=T,m&&m({action:p,location:R.location,delta:I})}function _(T,I){p=wr.Push;let D=ml(R.location,T,I);n&&n(D,T),v=y()+1;let L=Md(D,v),z=R.createHref(D);try{h.pushState(L,"",z)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;u.location.assign(z)}d&&m&&m({action:p,location:R.location,delta:1})}function S(T,I){p=wr.Replace;let D=ml(R.location,T,I);n&&n(D,T),v=y();let L=Md(D,v),z=R.createHref(D);h.replaceState(L,"",z),d&&m&&m({action:p,location:R.location,delta:0})}function C(T){let I=u.location.origin!=="null"?u.location.origin:u.location.href,D=typeof T=="string"?T:kh(T);return D=D.replace(/ $/,"%20"),qe(I,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,I)}let R={get action(){return p},get location(){return s(u,h)},listen(T){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(Fd,w),m=T,()=>{u.removeEventListener(Fd,w),m=null}},createHref(T){return r(u,T)},createURL:C,encodeLocation(T){let I=C(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:S,go(T){return h.go(T)}};return R}var Wd;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Wd||(Wd={}));function um(s,r,n){n===void 0&&(n="/");let a=typeof r=="string"?Mr(r):r,u=Nh(a.pathname||"/",n);if(u==null)return null;let d=jh(s);cm(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let m=_m(u);h=xm(d[p],m)}return h}function jh(s,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let u=(d,h,p)=>{let m={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};m.relativePath.startsWith("/")&&(qe(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let v=Fr([a,m.relativePath]),y=n.concat(m);d.children&&d.children.length>0&&(qe(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),jh(d.children,r,y,v)),!(d.path==null&&!d.index)&&r.push({path:v,score:vm(v,d.index),routesMeta:y})};return s.forEach((d,h)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))u(d,h);else for(let m of Sh(d.path))u(d,h,m)}),r}function Sh(s){let r=s.split("/");if(r.length===0)return[];let[n,...a]=r,u=n.endsWith("?"),d=n.replace(/\?$/,"");if(a.length===0)return u?[d,""]:[d];let h=Sh(a.join("/")),p=[];return p.push(...h.map(m=>m===""?d:[d,m].join("/"))),u&&p.push(...h),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function cm(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:ym(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const dm=/^:[\w-]+$/,hm=3,fm=2,pm=1,mm=10,gm=-2,Vd=s=>s==="*";function vm(s,r){let n=s.split("/"),a=n.length;return n.some(Vd)&&(a+=gm),r&&(a+=fm),n.filter(u=>!Vd(u)).reduce((u,d)=>u+(dm.test(d)?hm:d===""?pm:mm),a)}function ym(s,r){return s.length===r.length&&s.slice(0,-1).every((a,u)=>a===r[u])?s[s.length-1]-r[r.length-1]:0}function xm(s,r){let{routesMeta:n}=s,a={},u="/",d=[];for(let h=0;h<n.length;++h){let p=n[h],m=h===n.length-1,v=u==="/"?r:r.slice(u.length)||"/",y=wm({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v);if(!y)return null;Object.assign(a,y.params);let w=p.route;d.push({params:a,pathname:Fr([u,y.pathname]),pathnameBase:Cm(Fr([u,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(u=Fr([u,y.pathnameBase]))}return d}function wm(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=bm(s.path,s.caseSensitive,s.end),u=r.match(n);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:a.reduce((v,y,w)=>{let{paramName:_,isOptional:S}=y;if(_==="*"){let R=p[w]||"";h=d.slice(0,d.length-R.length).replace(/(.)\/+$/,"$1")}const C=p[w];return S&&!C?v[_]=void 0:v[_]=(C||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:h,pattern:s}}function bm(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),Rl(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),a]}function _m(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Rl(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function Nh(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function km(s,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:u=""}=typeof s=="string"?Mr(s):s;return{pathname:n?n.startsWith("/")?n:jm(n,r):r,search:Tm(a),hash:Rm(u)}}function jm(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?n.length>1&&n.pop():u!=="."&&n.push(u)}),n.length>1?n.join("/"):"/"}function tl(s,r,n,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sm(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Nm(s,r){let n=Sm(s);return r?n.map((a,u)=>u===s.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function Em(s,r,n,a){a===void 0&&(a=!1);let u;typeof s=="string"?u=Mr(s):(u=ws({},s),qe(!u.pathname||!u.pathname.includes("?"),tl("?","pathname","search",u)),qe(!u.pathname||!u.pathname.includes("#"),tl("#","pathname","hash",u)),qe(!u.search||!u.search.includes("#"),tl("#","search","hash",u)));let d=s===""||u.pathname==="",h=d?"/":u.pathname,p;if(h==null)p=n;else{let w=r.length-1;if(!a&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),w-=1;u.pathname=_.join("/")}p=w>=0?r[w]:"/"}let m=km(u,p),v=h&&h!=="/"&&h.endsWith("/"),y=(d||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const Fr=s=>s.join("/").replace(/\/\/+/g,"/"),Cm=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Tm=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Rm=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Om(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Eh=["post","put","patch","delete"];new Set(Eh);const Pm=["get",...Eh];new Set(Pm);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},bs.apply(this,arguments)}const Ol=P.createContext(null),Am=P.createContext(null),Qi=P.createContext(null),Yi=P.createContext(null),Wr=P.createContext({outlet:null,matches:[],isDataRoute:!1}),Ch=P.createContext(null);function Zi(){return P.useContext(Yi)!=null}function En(){return Zi()||qe(!1),P.useContext(Yi).location}function Th(s){P.useContext(Qi).static||P.useLayoutEffect(s)}function et(){let{isDataRoute:s}=P.useContext(Wr);return s?Km():Im()}function Im(){Zi()||qe(!1);let s=P.useContext(Ol),{basename:r,future:n,navigator:a}=P.useContext(Qi),{matches:u}=P.useContext(Wr),{pathname:d}=En(),h=JSON.stringify(Nm(u,n.v7_relativeSplatPath)),p=P.useRef(!1);return Th(()=>{p.current=!0}),P.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){a.go(v);return}let w=Em(v,JSON.parse(h),d,y.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Fr([r,w.pathname])),(y.replace?a.replace:a.push)(w,y.state,y)},[r,a,h,d,s])}function Lm(){let{matches:s}=P.useContext(Wr),r=s[s.length-1];return r?r.params:{}}function Um(s,r){return $m(s,r)}function $m(s,r,n,a){Zi()||qe(!1);let{navigator:u}=P.useContext(Qi),{matches:d}=P.useContext(Wr),h=d[d.length-1],p=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=En(),y;if(r){var w;let T=typeof r=="string"?Mr(r):r;m==="/"||(w=T.pathname)!=null&&w.startsWith(m)||qe(!1),y=T}else y=v;let _=y.pathname||"/",S=_;if(m!=="/"){let T=m.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=um(s,{pathname:S}),R=Mm(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:Fr([m,u.encodeLocation?u.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:Fr([m,u.encodeLocation?u.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),d,n,a);return r&&R?P.createElement(Yi.Provider,{value:{location:bs({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:wr.Pop}},R):R}function Dm(){let s=Hm(),r=Om(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},r),n?P.createElement("pre",{style:u},n):null,null)}const zm=P.createElement(Dm,null);class Bm extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?P.createElement(Wr.Provider,{value:this.props.routeContext},P.createElement(Ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fm(s){let{routeContext:r,match:n,children:a}=s,u=P.useContext(Ol);return u&&u.static&&u.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Wr.Provider,{value:r},a)}function Mm(s,r,n,a){var u;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),s==null){var d;if((d=n)!=null&&d.errors)s=n.matches;else return null}let h=s,p=(u=n)==null?void 0:u.errors;if(p!=null){let y=h.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id]));y>=0||qe(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,v=-1;if(n&&a&&a.v7_partialHydration)for(let y=0;y<h.length;y++){let w=h[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=y),w.route.id){let{loaderData:_,errors:S}=n,C=w.route.loader&&_[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||C){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,w,_)=>{let S,C=!1,R=null,T=null;n&&(S=p&&w.route.id?p[w.route.id]:void 0,R=w.route.errorElement||zm,m&&(v<0&&_===0?(Gm("route-fallback"),C=!0,T=null):v===_&&(C=!0,T=w.route.hydrateFallbackElement||null)));let I=r.concat(h.slice(0,_+1)),D=()=>{let L;return S?L=R:C?L=T:w.route.Component?L=P.createElement(w.route.Component,null):w.route.element?L=w.route.element:L=y,P.createElement(Fm,{match:w,routeContext:{outlet:y,matches:I,isDataRoute:n!=null},children:L})};return n&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?P.createElement(Bm,{location:n.location,revalidation:n.revalidation,component:R,error:S,children:D(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):D()},null)}var Rh=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Rh||{}),Oh=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Oh||{});function Wm(s){let r=P.useContext(Ol);return r||qe(!1),r}function Vm(s){let r=P.useContext(Am);return r||qe(!1),r}function qm(s){let r=P.useContext(Wr);return r||qe(!1),r}function Ph(s){let r=qm(),n=r.matches[r.matches.length-1];return n.route.id||qe(!1),n.route.id}function Hm(){var s;let r=P.useContext(Ch),n=Vm(),a=Ph();return r!==void 0?r:(s=n.errors)==null?void 0:s[a]}function Km(){let{router:s}=Wm(Rh.UseNavigateStable),r=Ph(Oh.UseNavigateStable),n=P.useRef(!1);return Th(()=>{n.current=!0}),P.useCallback(function(u,d){d===void 0&&(d={}),n.current&&(typeof u=="number"?s.navigate(u):s.navigate(u,bs({fromRouteId:r},d)))},[s,r])}const qd={};function Gm(s,r,n){qd[s]||(qd[s]=!0)}function Ze(s){qe(!1)}function Jm(s){let{basename:r="/",children:n=null,location:a,navigationType:u=wr.Pop,navigator:d,static:h=!1,future:p}=s;Zi()&&qe(!1);let m=r.replace(/^\/*/,"/"),v=P.useMemo(()=>({basename:m,navigator:d,static:h,future:bs({v7_relativeSplatPath:!1},p)}),[m,p,d,h]);typeof a=="string"&&(a=Mr(a));let{pathname:y="/",search:w="",hash:_="",state:S=null,key:C="default"}=a,R=P.useMemo(()=>{let T=Nh(y,m);return T==null?null:{location:{pathname:T,search:w,hash:_,state:S,key:C},navigationType:u}},[m,y,w,_,S,C,u]);return R==null?null:P.createElement(Qi.Provider,{value:v},P.createElement(Yi.Provider,{children:n,value:R}))}function Qm(s){let{children:r,location:n}=s;return Um(gl(r),n)}new Promise(()=>{});function gl(s,r){r===void 0&&(r=[]);let n=[];return P.Children.forEach(s,(a,u)=>{if(!P.isValidElement(a))return;let d=[...r,u];if(a.type===P.Fragment){n.push.apply(n,gl(a.props.children,d));return}a.type!==Ze&&qe(!1),!a.props.index||!a.props.children||qe(!1);let h={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=gl(a.props.children,d)),n.push(h)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((r,n)=>{let a=s[n];return r.concat(Array.isArray(a)?a.map(u=>[n,u]):[[n,a]])},[]))}function Ym(s,r){let n=vl(s);return r&&r.forEach((a,u)=>{n.has(u)||r.getAll(u).forEach(d=>{n.append(u,d)})}),n}const Zm="6";try{window.__reactRouterVersion=Zm}catch{}const Xm="startTransition",Hd=Xp[Xm];function eg(s){let{basename:r,children:n,future:a,window:u}=s,d=P.useRef();d.current==null&&(d.current=am({window:u,v5Compat:!0}));let h=d.current,[p,m]=P.useState({action:h.action,location:h.location}),{v7_startTransition:v}=a||{},y=P.useCallback(w=>{v&&Hd?Hd(()=>m(w)):m(w)},[m,v]);return P.useLayoutEffect(()=>h.listen(y),[h,y]),P.createElement(Jm,{basename:r,children:n,location:p.location,navigationType:p.action,navigator:h,future:a})}var Kd;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Kd||(Kd={}));var Gd;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Gd||(Gd={}));function tg(s){let r=P.useRef(vl(s)),n=P.useRef(!1),a=En(),u=P.useMemo(()=>Ym(a.search,n.current?null:r.current),[a.search]),d=et(),h=P.useCallback((p,m)=>{const v=vl(typeof p=="function"?p(u):p);n.current=!0,d("?"+v,m)},[d,u]);return[u,h]}const Ce={splashBg:"https://lh3.googleusercontent.com/aida-public/AB6AXuCRdmiVXQ8a6BiiRE4-GTssWMZe_QIIjFBow8Z9nD7HqlR5SJwQVVFGAYSx1bRZVFdcO6PJ3KdgRzjt3g7QWDzwVC5iPGQLw0Lp3ZNNXA96fZaPD-mdcct9VqFtRjE9g6maeRQz3KE-NMvhLDe_uztMd3W2MTD6FkWch44SgvPOwDCFZsdKwmCvIl7VW3EUtFrsP4IWF8JeoUbH1U5sJley7Py-P3wj3yXGOZcSloRF_tdyjGiS9qIBebQDgSpzU6OBhjg7PJ8AOimg",avatar1:"https://lh3.googleusercontent.com/aida-public/AB6AXuDBrBJ8QQ8nscoYZfx-PAb69m2-4nmvdrRWr3Hu4EwM58hktjmPMXMNmhuv-MNU8O4dXIOVUNRhc3ErRVeTYdL_jkmb7p4fIzg0DpkASxBBR_9NV5cNvPyWkpP-cbLHZ6bkuxKc2Mmub__d87emtJJ5AMSIPCeg9MheUGQ-DHaKrNTD_tJ5220qfWYFxIbp5PqFAm9O_lHWmA8OJHU0O741LBr0iADvyyQOLvR_HAwOLpjhqOtT0WPEtsxPDlrkauU3smgGtM3M0wWd",cockpit:"https://lh3.googleusercontent.com/aida-public/AB6AXuAUI1Bs4LVF3-ve14L5BzuabKQRn0PUD6Vft3ZOQ2Qkl1oKjlhl-gbYyGvKqIwCY5poPDihGnPaoPSjCLEzuxJePULMr1Loa7SqH1wBw2j50Vh1vUHXDlW9qIHApZhtF4uLfDn6zTGuD4t-JQdZXVXVWeVINCaTONh2kNNZumbtJcwKSxLwFnrYf0aFKhgjqzREbPeie7sWT29bjShcVoZvMiifF7iYVge7pPxXj1pInNqjrdLzLoYAN68v1v-px3jAFKg4w8w6mKWs",radar:"https://lh3.googleusercontent.com/aida-public/AB6AXuAjv_ABW_t1yxDKuIZI5KFgRxJHQMFFZTPAGcoMZfiPYmxBpdVB76Spff_q2WinRRYsV47R8T-ZxDQXyzjs4RuOlbumIFLWOqa8bwLexBMx7CnQHg6J5Vu78ywHcm8fWqYZwvVAEBDCaIj_jO4z7r1KpL-64JK6Z_dJ6TL3BtuLfQp8W6vfRPxN2fdi03aoW0GNwUWohCofnYsSnU3AzY0I4emZN0DRgLJw52JS0nXh25WTNNKumCXnQa8Hbd2IWFpScN5R9CwO1RWJ",pilotAvatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuDs-cQYNKJjNoC7fA7sPR8oITNtHe0D0mHGR5q593fMSizlalJL_zv4BZ1cTLaoD3DmYLBZHNVEEk7ICr4vxHDPq71pmteLMLatpaKjGkj7oSZDnHkzGhZk2QBLD9A20pWwNKctHQI112LOjILlOJfVoRjeThX7d41wJ7fH1Fcy36BERoDldOPDtwFkru1wvUyRGLkZ8OqgoiVV9CwybJBRtRYM5tv1hm7A8-rZvweRuqJuhvHx-PAh_PJhcnpnxaKOiwLVJ2_323r5",fogRunway:"https://lh3.googleusercontent.com/aida-public/AB6AXuDzxIey-w5lELYzksmBCE53kEapKhPPN5o4CHnHRhIQLwvxExD8Yq3e4KqRg__yu2bP_kkJBwST6cInoMP71uoeRpG8U0X52GZBgbIB49QQ2ZUpGg35Gt5SYzLFFVCLoiApgAWZQzMgejdNS1a1ZgsMx6gN0XB60y2ckxBb9SC9liOJbuYirDr7hNtyFre2JetMEO0NW8VXJWG9jkgCSEuqKFARSSpNRWMzum2CB3nfQfgR9Jm9-BOZQDAQkPB-dPBNYUpAar8qnj6x",groundStaffAvatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuBa7FP7jQ7aMu0tYyGAiBzQLhomlzPEqDZOA1C2CtvvtTHy-GYn__9lXo_eIMjLNxqV_-xcyiaO3jNk1dAFi1dxlALWLIwvXwMWYgFXipb7YmuoIqS7hHDtbgGAy-D3byvdWs4wPWmfIowR7FYsLdQjRruViRPhy0szcLm0vYDQZgyun2a18saiZIlN8UBNTLWXMOOlFh2o8jYtTQ_PVzVYvrz31mOjEuXIVdkGqFrh4smzzgSWoty4YrRY8T5xMuV9NNrVhauLMBYX",cameraPreview:"https://lh3.googleusercontent.com/aida-public/AB6AXuBAVjzL60IEEzdr9wZydPmfehvG1VDl7c909rag47zljHrYCOl4jMywpMIIOAsi_0OMcFUGUDqm1nto22lMBdaurxC-RSSWiXT-71bnYNv2L44JxHC003-CYxHyIim5p1GmNBzDAZCBSrsDFhrfJOHHmwyYMMJgAJF2Oda76i9ECMiAncFMS-6npvSwK4Cwfp0UOTBWb494YvnLkLCYf69u4gSyt4rtGuiJKFIht3V-hG-PJ4ovxFckvfbQnelVt_HTedXgtJz_79Kz",myAvatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuCqVUBzjpCc-f2CM8VzhT4GJgoyGIPxhZG6hNDA5gaWH6FFiI7IYaCR74o8w4wQV6apG0Cg9Sd5vq_j4o9jHRRrAHdIfuV0foyQsrsVbTd8U0tRQSqasm4fGz03CEroTz_z9Q8iglZQUD2kkEMDUz-XjmA4SWPApBs0WD_mFNi_mFzJDq23lv9D7m9wRj3LBdJRqNbc4RuMBAg5PGb-AbEUasv5bS4-qQrCfxHhwFXR-BoKzF4r-tB8bZyPw6l08ErTlwjHxaCD2YK2",reviewer1:"https://lh3.googleusercontent.com/aida-public/AB6AXuAlyc1BtS7BRbIKbvUvsN79z0MLyUDfvhCK3mbE6H5m-Mj3fyFz39DYQZNjxFPzrOAOHh2L7O2kFfjR2Kfpv_BptoOq-oDStg8XLoJNQ4sBfFkBnsUfo-FkfLyh0LFpLPxWhEWqQZnWInoYD8Q4BezFtEhJzcciicvdHnuCY8X6Jb9glN_-Vwg31a2MFYvXAvYFOAbtASOsnaHsEDov3n60lWnqn8Az6NvoyxYHlB8Mh3NZ4E_qbmNJdcu7WoQ9vZvZvxfMZqcKzm12",reviewer2:"https://lh3.googleusercontent.com/aida-public/AB6AXuCy1wgJZBUafNJPV1dvDexVRx5IfQAbkUfM005jjU_tS_92gikFUskhqqDPaTjy6qjqSk6pcyRjJ9Pe2aqKPXHm63UjzBAaMUYg_WDIOaR8wy-SXM13-4wpTsjflGDyTmooGxJW4om5F_9hItqizl2xioNHtrLYyuTuuusvp9E-_lYh6mD09NdBfG87MJtuwPAQEmCoATFI3reU4KAyX0aKl6iXyaOGOfvyQEP4rWl_Df6ipJZEoVh48957pp9l38dvSJzrY-YF_HTX",reviewer3:"https://lh3.googleusercontent.com/aida-public/AB6AXuB8D3kGN9AQNird6e-_5DfGHpEYxlQ8V80nmt2SjSwTA1O8xJlP6tgf26mkKOOcDZMR9MLMkQ8GMKx2dM8pNOrG52_0Z5vRSpwVJqVs50p_Wuhf6cFi_4ePqLvMYKAiNA8aNkYtLJxZ5g2h9xBWd_kywGX8m4E7p1-BZxuCeCEagaZRWO2acg2ZlPQ7nBS9sD9oo6eknEK0KmuCphEtmAbOGJtUQX7nrj3uZ8JSAY9OuR7H7Ys7k7uzkx7Eu0W4H6F1PQflmO0PVsy0",commenter:"https://lh3.googleusercontent.com/aida-public/AB6AXuCo50749gBS-FIVOSapttW-PHcEob32NLb9a4G0EYEzkgBKjHxLlqY6SM3_1nwzNEpUtmHC4ZMjLWaGzZzeR3FAEliGOmijDJMdceA_ostzWt6dLRHLNHLJxYrF-jGRYIIofeLHRmlnBUvQMGHrYbYbFUVpQvtn4uafxzN8QAcvWsHto0vLZy2wQUSECceJOV9_voG3_R4wX5OvcrnBdPH_KghVXJNfUogeHfZUFDHVxTaD_12JCZX_YkClTP37UsRWGP4QA7lgZpU7",planeDetail:"https://lh3.googleusercontent.com/aida-public/AB6AXuDAQ0rXaY3CuRpLbFQJcqSxkU9SAprl8ysFtGI8ykzPM5i2o0yN48N7kRFx_glkLSAIdWshbSssuTfIbWziuadcC0ZS0A6TCfcJ4YHhiWNjjmmQkZ_fqy8y8acuV5hOoVMff21It43geSCExVzHKPbZj2h7RHMuOWqSa0brR-LZJJP1fRkb-uEqSnUkV-rLsTO1cojLdQt9nPb-mBKMZEu5fGnMKFPHI73txU6WfYzccDqcltdYOhaTcGa4DIOZTOB3SZ66SnSVW24k",profileMain:"https://lh3.googleusercontent.com/aida-public/AB6AXuDhmxwOrd7i8siZtTyvgkYMU76C-ZCwpjw_d46OFdkBPtzEIXBLE8W-LFb-90odLsqDawfZhIDbhxTD6L4bG6UHVfr74eTyZ91x4p89NlYAJDsdUbqz27D1oIJWCEwiGU8DmK2HzsWfDqp2WUb6zSJ5FstYx4n827dk2YkUwCcSvYfuM6PWneLCP_3PRrUr5CGTEmCDGPx71YzfJ6n5PF9G0FlgcPq-MKMU_Dr5Sg_WTnrt1Zdtnao79CrtLXbjwBOela-BI5R4q2F1",modImg1:"https://lh3.googleusercontent.com/aida-public/AB6AXuDMGKSA85En1msLiP212LkcPlcTybgFBhidwsw4QjZtSGQmzax7-9yt18NCwlUdO_knz_UkkeAHeKHOqzAPhPofIa-8co9tcCrlEtwdaejtWgF8McZCZxkFe_XgsFy10BWv7_EmO6OwmJ9So42m4ZJP4I4aAnRfZoI1i1eBVVSOrRv9I4u_AUBe5Ye1_5qUa0k5hBwMCDzmsQZO6WMSPNheYMgy89C0JBBSjewxFBmzYZh-QyPiLKTATuY-YcK9CRl4LXDsJJpNdoOn",modImg2:"https://lh3.googleusercontent.com/aida-public/AB6AXuA5BVe4RqHAy_4ltLUvDBKD1LUrlglaDJ0Am7uf2zMRXAAwN1ig3ZDJ2YAaKiOcYnlYRG4nSvgrZiglymBtPrJ5uWU_zS9UYq9o58AXOx9STb50csNC0gzPeOxYNd6Ag3DE4hgBvZS58GgnmdptY64m6wOPxik8tpggQhgBgJP5-x-l_xwEj6vzdNHcdFsDRBAXi5ygjrc-WLZvjIt9JqhNR_zfChAd569N3KLqp1zwmwExYKULcWGNNvl9t-C8crGnKFbWs4KRwUOp",modImg3:"https://lh3.googleusercontent.com/aida-public/AB6AXuBnScMX-zZCwMTm3lEqYdGfAF_mQlx-vB7Vp7wU5rRs09If2euy7hxcp7lFC-9ZR9IZGinAYtNq8GaE_SyiOOCZQrmQ_ezWpBO3yo1mPgRv_6BGA_iT8Byga3gOQEFfiidoLYtado6NEKygZJSNOV6BJg8Gg51gbcB9rlQT1QVuWKXOu_NzRYvS-ZwlRNUUjhwyQjn70qvs_16xhuKN_QD5K_1N6FCEnCNyhSr-uUUpxgyhEVzWTcKpxdmE1DYIP7ajYsjLo1CwzQ9i"},Bi=[{id:"1",type:"official",user:{id:"official",name:"DECEA / REDEMET",avatar:""},title:"Atualizao de TAF disponvel",description:"Novo terminal aerodrome forecast emitido. Mudana de vento prevista para as 15:00Z.",image:Ce.radar,timestamp:"5m ago",likes:0,comments:[]},{id:"2",type:"collaborative",user:{id:"u1",name:"PR-GUZ (Pilot)",avatar:Ce.pilotAvatar},category:"Visibility",title:"Fog forming on Rwy 15",description:"Visible patches of ground fog near the threshold. Visibility reducing rapidly.",image:Ce.fogRunway,timestamp:"12m ago",likes:14,comments:[{id:"c1",user:{id:"u3",name:"PT-JFG",avatar:Ce.commenter},text:"Confirmo, acabei de arremeter por conta do teto baixo.",timestamp:"H 5 min"}]},{id:"3",type:"staff",user:{id:"u2",name:"Ground OBS (V. Silva)",avatar:Ce.groundStaffAvatar},category:"Security",title:"Wildlife activity near Taxiway Foxtrot",description:"Small group of birds spotted near Bravo-Foxtrot intersection. Operations aware.",timestamp:"25m ago",likes:0,comments:[]}],rg=[{id:"1",email:"marcos.nunes@skyway.com",role:"Contributor",status:"active",expiresIn:"12h restantes",sender:"Cmte. Gabriel"},{id:"2",email:"suporte.ground@tower.aero",role:"Contributor",status:"expired",expiresIn:"H 2 dias",sender:"Cmte. Gabriel"},{id:"3",email:"lucas.ferreira@observer.app",role:"Contributor",status:"active",expiresIn:"29 dias restantes",sender:"Admin"}],ng=[{id:"r1",image:Ce.modImg1,title:"Objeto estranho na Taxiway Bravo",subtitle:"Cmte. Silva  Setor Norte",tag:"Obstruo de Pista",tagColor:"bg-amber-100 text-amber-700",timeAgo:"2 min"},{id:"r2",image:Ce.modImg2,title:"Visibilidade subestimada no METAR",subtitle:"Ground Crew Alpha  Torre",tag:"Clima Incorreto",tagColor:"bg-blue-100 text-blue-700",timeAgo:"15 min"},{id:"r3",image:Ce.modImg3,title:"Foto artstica sem fins operacionais",subtitle:"Observer Beta  Terminal 2",tag:"Spam / Irrelevante",tagColor:"bg-purple-100 text-purple-700",timeAgo:"42 min"}];function Xi(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(s);u<a.length;u++)r.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(s,a[u])&&(n[a[u]]=s[a[u]]);return n}function sg(s,r,n,a){function u(d){return d instanceof n?d:new n(function(h){h(d)})}return new(n||(n=Promise))(function(d,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?d(y.value):u(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})}const ig=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class Pl extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class ag extends Pl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Jd extends Pl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Qd extends Pl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var yl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(yl||(yl={}));class og{constructor(r,{headers:n={},customFetch:a,region:u=yl.Any}={}){this.url=r,this.headers=n,this.region=u,this.fetch=ig(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return sg(this,arguments,void 0,function*(n,a={}){var u;let d,h;try{const{headers:p,method:m,body:v,signal:y,timeout:w}=a;let _={},{region:S}=a;S||(S=this.region);const C=new URL(`${this.url}/${n}`);S&&S!=="any"&&(_["x-region"]=S,C.searchParams.set("forceFunctionRegion",S));let R;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",R=v):typeof v=="string"?(_["Content-Type"]="text/plain",R=v):typeof FormData<"u"&&v instanceof FormData?R=v:(_["Content-Type"]="application/json",R=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?R=JSON.stringify(v):R=v;let T=y;w&&(h=new AbortController,d=setTimeout(()=>h.abort(),w),y?(T=h.signal,y.addEventListener("abort",()=>h.abort())):T=h.signal);const I=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),p),body:R,signal:T}).catch(ie=>{throw new ag(ie)}),D=I.headers.get("x-relay-error");if(D&&D==="true")throw new Jd(I);if(!I.ok)throw new Qd(I);let L=((u=I.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),z;return L==="application/json"?z=yield I.json():L==="application/octet-stream"||L==="application/pdf"?z=yield I.blob():L==="text/event-stream"?z=I:L==="multipart/form-data"?z=yield I.formData():z=yield I.text(),{data:z,error:null,response:I}}catch(p){return{data:null,error:p,response:p instanceof Qd||p instanceof Jd?p.context:void 0}}finally{d&&clearTimeout(d)}})}}var lg=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},ug=class{constructor(s){var r,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,p=null,m=null,v=d.status,y=d.statusText;if(d.ok){var w,_;if(n.method!=="HEAD"){var S;const I=await d.text();I===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?p=I:p=JSON.parse(I))}const R=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),T=(_=d.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");R&&T&&T.length>1&&(m=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,v=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var C;const R=await d.text();try{h=JSON.parse(R),Array.isArray(h)&&d.status===404&&(p=[],h=null,v=200,y="OK")}catch{d.status===404&&R===""?(v=204,y="No Content"):h={message:R}}if(h&&n.isMaybeSingle&&(!(h==null||(C=h.details)===null||C===void 0)&&C.includes("0 rows"))&&(h=null,v=200,y="OK"),h&&n.shouldThrowOnError)throw new lg(h)}return{error:h,data:p,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(u=u.catch(d=>{var h;let p="";const m=d==null?void 0:d.cause;if(m){var v,y,w,_;const C=(v=m==null?void 0:m.message)!==null&&v!==void 0?v:"",R=(y=m==null?void 0:m.code)!==null&&y!==void 0?y:"";p=`${(w=d==null?void 0:d.name)!==null&&w!==void 0?w:"FetchError"}: ${d==null?void 0:d.message}`,p+=`

Caused by: ${(_=m==null?void 0:m.name)!==null&&_!==void 0?_:"Error"}: ${C}`,R&&(p+=` (${R})`),m!=null&&m.stack&&(p+=`
${m.stack}`)}else{var S;p=(S=d==null?void 0:d.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(s,r)}returns(){return this}overrideTypes(){return this}},cg=class extends ug{select(s){let r=!1;const n=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:u=a}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:a=n}={}){const u=typeof a>"u"?"offset":`${a}.offset`,d=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:u=!1,format:d="text"}={}){var h;const p=[s?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Yd=new RegExp("[,()]");var _n=class extends cg{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&Yd.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&Yd.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const d=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${u}fts${d}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}},dg=class{constructor(s,{headers:r={},schema:n,fetch:a}){this.url=s,this.headers=new Headers(r),this.schema=n,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,r){const{head:n=!1,count:a}=r??{},u=n?"HEAD":"GET";let d=!1;const h=(s??"*").split("").map(v=>/\s/.test(v)&&!d?"":(v==='"'&&(d=!d),v)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",h),a&&m.append("Prefer",`count=${a}`),new _n({method:u,url:p,headers:m,schema:this.schema,fetch:this.fetch})}insert(s,{count:r,defaultToNull:n=!0}={}){var a;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),n||h.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(p.length>0){const m=[...new Set(p)].map(v=>`"${v}"`);d.searchParams.set("columns",m.join(","))}}return new _n({method:u,url:d,headers:h,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:u=!0}={}){var d;const h="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&p.searchParams.set("on_conflict",r),a&&m.append("Prefer",`count=${a}`),u||m.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(v.length>0){const y=[...new Set(v)].map(w=>`"${w}"`);p.searchParams.set("columns",y.join(","))}}return new _n({method:h,url:p,headers:m,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:r}={}){var n;const a="PATCH",{url:u,headers:d}=this.cloneRequestState();return r&&d.append("Prefer",`count=${r}`),new _n({method:a,url:u,headers:d,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var r;const n="DELETE",{url:a,headers:u}=this.cloneRequestState();return s&&u.append("Prefer",`count=${s}`),new _n({method:n,url:a,headers:u,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},hg=class Ah{constructor(r,{headers:n={},schema:a,fetch:u}={}){this.url=r,this.headers=new Headers(n),this.schemaName=a,this.fetch=u}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new dg(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new Ah(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:a=!1,get:u=!1,count:d}={}){var h;let p;const m=new URL(`${this.url}/rpc/${r}`);let v;const y=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(y)),w=a&&Object.values(n).some(y);w?(p="POST",v=n):a||u?(p=a?"HEAD":"GET",Object.entries(n).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{m.searchParams.append(S,C)})):(p="POST",v=n);const _=new Headers(this.headers);return w?_.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&_.set("Prefer",`count=${d}`),new _n({method:p,url:m,headers:_,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class fg{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const u=a.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const pg="2.90.1",mg=`realtime-js/${pg}`,Ih="1.0.0",gg="2.0.0",Zd=Ih,xl=1e4,vg=1e3,yg=100;var yr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(yr||(yr={}));var Ve;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ve||(Ve={}));var Ut;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Ut||(Ut={}));var wl;(function(s){s.websocket="websocket"})(wl||(wl={}));var Dr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Dr||(Dr={}));class xg{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,a;const u=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(r){var n,a;const u=(a=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,n,a){var u,d;const h=r.topic,p=(u=r.ref)!==null&&u!==void 0?u:"",m=(d=r.join_ref)!==null&&d!==void 0?d:"",v=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+h.length+v.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let C=new DataView(S),R=0;C.setUint8(R++,this.KINDS.userBroadcastPush),C.setUint8(R++,m.length),C.setUint8(R++,p.length),C.setUint8(R++,h.length),C.setUint8(R++,v.length),C.setUint8(R++,w.length),C.setUint8(R++,n),Array.from(m,I=>C.setUint8(R++,I.charCodeAt(0))),Array.from(p,I=>C.setUint8(R++,I.charCodeAt(0))),Array.from(h,I=>C.setUint8(R++,I.charCodeAt(0))),Array.from(v,I=>C.setUint8(R++,I.charCodeAt(0))),Array.from(w,I=>C.setUint8(R++,I.charCodeAt(0)));var T=new Uint8Array(S.byteLength+a.byteLength);return T.set(new Uint8Array(S),0),T.set(new Uint8Array(a),S.byteLength),T.buffer}decode(r,n){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return n(a)}if(typeof r=="string"){const a=JSON.parse(r),[u,d,h,p,m]=a;return n({join_ref:u,ref:d,topic:h,event:p,payload:m})}return n({})}_binaryDecode(r){const n=new DataView(r),a=n.getUint8(0),u=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,u)}}_decodeUserBroadcast(r,n,a){const u=n.getUint8(1),d=n.getUint8(2),h=n.getUint8(3),p=n.getUint8(4);let m=this.HEADER_LENGTH+4;const v=a.decode(r.slice(m,m+u));m=m+u;const y=a.decode(r.slice(m,m+d));m=m+d;const w=a.decode(r.slice(m,m+h));m=m+h;const _=r.slice(m,r.byteLength),S=p===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,C={type:this.BROADCAST_EVENT,event:y,payload:S};return h>0&&(C.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>n.includes(a)))}}class Lh{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ee||(Ee={}));const Xd=(s,r,n={})=>{var a;const u=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((d,h)=>(d[h]=wg(h,s,r,u),d),{}):{}},wg=(s,r,n,a)=>{const u=r.find(p=>p.name===s),d=u==null?void 0:u.type,h=n[s];return d&&!a.includes(d)?Uh(d,h):bl(h)},Uh=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return jg(r,n)}switch(s){case Ee.bool:return bg(r);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return _g(r);case Ee.json:case Ee.jsonb:return kg(r);case Ee.timestamp:return Sg(r);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return bl(r);default:return bl(r)}},bl=s=>s,bg=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},_g=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},kg=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},jg=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let d;const h=s.slice(1,n);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(p=>Uh(r,p))}return s},Sg=s=>typeof s=="string"?s.replace(" ","T"):s,$h=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class rl{constructor(r,n,a={},u=xl){this.channel=r,this.event=n,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var eh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(eh||(eh={}));class ys{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:d,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ys.syncState(this.state,u,d,h),this.pendingDiffs.forEach(m=>{this.state=ys.syncDiff(this.state,m,d,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},u=>{const{onJoin:d,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ys.syncDiff(this.state,u,d,h),p())}),this.onJoin((u,d,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:h})}),this.onLeave((u,d,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,u){const d=this.cloneDeep(r),h=this.transformState(n),p={},m={};return this.map(d,(v,y)=>{h[v]||(m[v]=y)}),this.map(h,(v,y)=>{const w=d[v];if(w){const _=y.map(T=>T.presence_ref),S=w.map(T=>T.presence_ref),C=y.filter(T=>S.indexOf(T.presence_ref)<0),R=w.filter(T=>_.indexOf(T.presence_ref)<0);C.length>0&&(p[v]=C),R.length>0&&(m[v]=R)}else p[v]=y}),this.syncDiff(d,{joins:p,leaves:m},a,u)}static syncDiff(r,n,a,u){const{joins:d,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(d,(p,m)=>{var v;const y=(v=r[p])!==null&&v!==void 0?v:[];if(r[p]=this.cloneDeep(m),y.length>0){const w=r[p].map(S=>S.presence_ref),_=y.filter(S=>w.indexOf(S.presence_ref)<0);r[p].unshift(..._)}a(p,y,m)}),this.map(h,(p,m)=>{let v=r[p];if(!v)return;const y=m.map(w=>w.presence_ref);v=v.filter(w=>y.indexOf(w.presence_ref)<0),r[p]=v,u(p,v,m),v.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const u=r[a];return"metas"in u?n[a]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):n[a]=u,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var th;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(th||(th={}));var xs;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(xs||(xs={}));var Qt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class Sn{constructor(r,n={config:{}},a){var u,d;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new rl(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new Lh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new ys(this),this.broadcastEndpointURL=$h(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,v=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(S=>S.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[xs.PRESENCE]&&this.bindings[xs.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},_={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>r==null?void 0:r(Qt.CHANNEL_ERROR,S)),this._onClose(()=>r==null?void 0:r(Qt.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){r==null||r(Qt.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,T=(C=R==null?void 0:R.length)!==null&&C!==void 0?C:0,I=[];for(let D=0;D<T;D++){const L=R[D],{filter:{event:z,schema:ie,table:J,filter:V}}=L,de=S&&S[D];if(de&&de.event===z&&Sn.isFilterValueEqual(de.schema,ie)&&Sn.isFilterValueEqual(de.table,J)&&Sn.isFilterValueEqual(de.filter,V))I.push(Object.assign(Object.assign({},L),{id:de.id}));else{this.unsubscribe(),this.state=Ve.errored,r==null||r(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,r&&r(Qt.SUBSCRIBED);return}}).receive("error",S=>{this.state=Ve.errored,r==null||r(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===Ve.joined&&r===xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var u;if(n==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=a.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const v=await p.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(r,n={}){var a,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=r,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,p,m;const v=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ve.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ut.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new rl(this,Ut.leave,{},r),a.receive("ok",()=>{n(),u("ok")}).receive("timeout",()=>{n(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const u=new AbortController,d=setTimeout(()=>u.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:u.signal}));return clearTimeout(d),h}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new rl(this,r,n,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>yg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var u,d;const h=r.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=Ut;if(a&&[p,m,v,y].indexOf(h)>=0&&a!==this._joinRef())return;let _=this._onMessage(h,n,a);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var C,R,T;return((C=S.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(R=S.filter)===null||R===void 0?void 0:R.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(S=>S.callback(_,a)):(d=this.bindings[h])===null||d===void 0||d.filter(S=>{var C,R,T,I,D,L,z,ie;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const J=S.id,V=(C=S.filter)===null||C===void 0?void 0:C.event;return J&&((R=n.ids)===null||R===void 0?void 0:R.includes(J))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))&&(!(!((I=S.filter)===null||I===void 0)&&I.table)||S.filter.table===((D=n.data)===null||D===void 0?void 0:D.table))}else{const J=(z=(L=S==null?void 0:S.filter)===null||L===void 0?void 0:L.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return J==="*"||J===((ie=n==null?void 0:n.event)===null||ie===void 0?void 0:ie.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:R,table:T,commit_timestamp:I,type:D,errors:L}=C;_=Object.assign(Object.assign({},{schema:R,table:T,commit_timestamp:I,eventType:D,new:{},old:{},errors:L}),this._getPayloadRecords(C))}S.callback(_,a)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const u=r.toLocaleLowerCase(),d={type:u,filter:n,callback:a};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===a&&Sn.isEqual(u.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Ut.close,{},r)}_onError(r){this._on(Ut.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Xd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Xd(r.columns,r.old_record)),n}}const nl=()=>{},Fi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ng=[1e3,2e3,5e3,1e4],Eg=1e4,Cg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tg{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xl,this.transport=null,this.heartbeatIntervalMs=Fi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nl,this.ref=0,this.reconnectTimer=null,this.vsn=Zd,this.logger=nl,this.conn=null,this.sendBuffer=[],this.serializer=new xg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${wl.websocket}`,this.httpEndpoint=$h(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return Dr.Connecting;case yr.open:return Dr.Open;case yr.closing:return Dr.Closing;default:return Dr.Closed}}isConnected(){return this.connectionState()===Dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,u=this.getChannels().find(d=>d.topic===a);if(u)return u;{const d=new Sn(`realtime:${r}`,n,this);return this.channels.push(d),d}}push(r){const{topic:n,event:a,payload:u,ref:d}=r,h=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${a} (${d})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(vg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Fi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",v)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:u,payload:d,ref:h}=n,p=h?`(${h})`:"",m=d.status||"";this.log("receive",`${m} ${a} ${u} ${p}`.trim(),d),this.channels.filter(v=>v._isMember(a)).forEach(v=>v._trigger(u,d,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===yr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yr.open||this.conn.readyState===yr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Ut.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",u=new URLSearchParams(n);return`${r}${a}${u}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([Cg],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,a=!1;if(r)n=r,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(u=>{const d={access_token:n,version:mg};n&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Ut.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Lh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,u,d,h,p,m,v,y,w,_,S;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:xl,this.heartbeatIntervalMs=(u=r==null?void 0:r.heartbeatIntervalMs)!==null&&u!==void 0?u:Fi.HEARTBEAT_INTERVAL,this.worker=(d=r==null?void 0:r.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:nl,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:Zd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(C=>Ng[C-1]||Eg),this.vsn){case Ih:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((C,R)=>R(JSON.stringify(C))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((C,R)=>R(JSON.parse(C)));break;case gg:this.encode=(_=r==null?void 0:r.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=r==null?void 0:r.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var _s=class extends Error{constructor(s,r){var n;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Rg(s,r,n){const a=new URL(r,s);if(n)for(const[u,d]of Object.entries(n))d!==void 0&&a.searchParams.set(u,d);return a.toString()}async function Og(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Pg(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:u,body:d,headers:h}){const p=Rg(s.baseUrl,a,u),m=await Og(s.auth),v=await r(p,{method:n,headers:{...d?{"Content-Type":"application/json"}:{},...m,...h},body:d?JSON.stringify(d):void 0}),y=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),_=w&&y?JSON.parse(y):y;if(!v.ok){const S=w?_:void 0,C=S==null?void 0:S.error;throw new _s((C==null?void 0:C.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:S})}return{status:v.status,headers:v.headers,data:_}}}}function Mi(s){return s.join("")}var Ag=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:Mi(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mi(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mi(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mi(s.namespace)}`}),!0}catch(r){if(r instanceof _s&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof _s&&n.status===409)return;throw n}}};function gn(s){return s.join("")}var Ig=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gn(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gn(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gn(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gn(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gn(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gn(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof _s&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof _s&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},Lg=class{constructor(s){var a;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Pg({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(a=s.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new Ag(this.client,r),this.tableOps=new Ig(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},ea=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Ie(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Ug=class extends ea{constructor(s,r,n){super(s),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_l=class extends ea{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}};const Al=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),$g=()=>Response,kl=s=>{if(Array.isArray(s))return s.map(n=>kl(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const u=n.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[u]=kl(a)}),r},Dg=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},zg=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ks(s){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ks(s)}function Bg(s,r){if(ks(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(ks(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Fg(s){var r=Bg(s,"string");return ks(r)=="symbol"?r:r+""}function Mg(s,r,n){return(r=Fg(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function rh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),n.push.apply(n,a)}return n}function ue(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rh(Object(n),!0).forEach(function(a){Mg(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):rh(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}const sl=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},Wg=async(s,r,n)=>{s instanceof await $g()&&!(n!=null&&n.noResolveJson)?s.json().then(a=>{const u=s.status||500,d=(a==null?void 0:a.statusCode)||u+"";r(new Ug(sl(a),u,d))}).catch(a=>{r(new _l(sl(a),a))}):r(new _l(sl(s),s))},Vg=(s,r,n,a)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!a?u:(Dg(a)?(u.headers=ue({"Content-Type":"application/json"},r==null?void 0:r.headers),u.body=JSON.stringify(a)):u.body=a,r!=null&&r.duplex&&(u.duplex=r.duplex),ue(ue({},u),n))};async function Cs(s,r,n,a,u,d){return new Promise((h,p)=>{s(n,Vg(r,a,u,d)).then(m=>{if(!m.ok)throw m;return a!=null&&a.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>Wg(m,p,a))})}async function js(s,r,n,a){return Cs(s,"GET",r,n,a)}async function Lt(s,r,n,a,u){return Cs(s,"POST",r,a,u,n)}async function jl(s,r,n,a,u){return Cs(s,"PUT",r,a,u,n)}async function qg(s,r,n,a){return Cs(s,"HEAD",r,ue(ue({},n),{},{noResolveJson:!0}),a)}async function Il(s,r,n,a,u){return Cs(s,"DELETE",r,a,u,n)}var Hg=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}}};let Dh;Dh=Symbol.toStringTag;var Kg=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[Dh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hg(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}}};const Gg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Jg=class{constructor(s,r={},n,a){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.bucketId=n,this.fetch=Al(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,r,n,a){var u=this;try{let d;const h=ue(ue({},nh),a);let p=ue(ue({},u.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),m&&d.append("metadata",u.encodeMetadata(m)),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),m&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(m))):(d=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=u.toBase64(u.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),a!=null&&a.headers&&(p=ue(ue({},p),a.headers));const v=u._removeEmptyFolders(r),y=u._getFinalPath(v),w=await(s=="PUT"?jl:Lt)(u.fetch,`${u.url}/object/${y}`,d,ue({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Ie(d))return{data:null,error:d};throw d}}async upload(s,r,n){return this.uploadOrUpdate("POST",s,r,n)}async uploadToSignedUrl(s,r,n,a){var u=this;const d=u._removeEmptyFolders(s),h=u._getFinalPath(d),p=new URL(u.url+`/object/upload/sign/${h}`);p.searchParams.set("token",r);try{let m;const v=ue({upsert:nh.upsert},a),y=ue(ue({},u.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&n instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",n)):typeof FormData<"u"&&n instanceof FormData?(m=n,m.append("cacheControl",v.cacheControl)):(m=n,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType),{data:{path:d,fullPath:(await jl(u.fetch,p.toString(),m,{headers:y})).Key},error:null}}catch(m){if(u.shouldThrowOnError)throw m;if(Ie(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(s,r){var n=this;try{let a=n._getFinalPath(s);const u=ue({},n.headers);r!=null&&r.upsert&&(u["x-upsert"]="true");const d=await Lt(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:u}),h=new URL(n.url+d.url),p=h.searchParams.get("token");if(!p)throw new ea("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:p},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}}async update(s,r,n){return this.uploadOrUpdate("PUT",s,r,n)}async move(s,r,n){var a=this;try{return{data:await Lt(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}async copy(s,r,n){var a=this;try{return{data:{path:(await Lt(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key},error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}async createSignedUrl(s,r,n){var a=this;try{let u=a._getFinalPath(s),d=await Lt(a.fetch,`${a.url}/object/sign/${u}`,ue({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const h=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return d={signedUrl:encodeURI(`${a.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}async createSignedUrls(s,r,n){var a=this;try{const u=await Lt(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:r,paths:s},{headers:a.headers}),d=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:u.map(h=>ue(ue({},h),{},{signedUrl:h.signedURL?encodeURI(`${a.url}${h.signedURL}${d}`):null})),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}download(s,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=a?`?${a}`:"",d=this._getFinalPath(s),h=()=>js(this.fetch,`${this.url}/${n}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new Kg(h,this.shouldThrowOnError)}async info(s){var r=this;const n=r._getFinalPath(s);try{return{data:kl(await js(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}}async exists(s){var r=this;const n=r._getFinalPath(s);try{return await qg(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ie(a)&&a instanceof _l){const u=a.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:a}}throw a}}getPublicUrl(s,r){const n=this._getFinalPath(s),a=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&a.push(u);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&a.push(h);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${p}`)}}}async remove(s){var r=this;try{return{data:await Il(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async list(s,r,n){var a=this;try{const u=ue(ue(ue({},Gg),r),{},{prefix:s||""});return{data:await Lt(a.fetch,`${a.url}/object/list/${a.bucketId}`,u,{headers:a.headers},n),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}async listV2(s,r){var n=this;try{const a=ue({},s);return{data:await Lt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const zh="2.90.1",Bh={"X-Client-Info":`storage-js/${zh}`};var Qg=class{constructor(s,r={},n,a){this.shouldThrowOnError=!1;const u=new URL(s);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=ue(ue({},Bh),r),this.fetch=Al(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var r=this;try{const n=r.listBucketOptionsToQueryString(s);return{data:await js(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await js(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async createBucket(s,r={public:!1}){var n=this;try{return{data:await Lt(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}}async updateBucket(s,r){var n=this;try{return{data:await jl(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ie(a))return{data:null,error:a};throw a}}async emptyBucket(s){var r=this;try{return{data:await Lt(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Il(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},Yg=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ue(ue({},Bh),r),this.fetch=Al(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await Lt(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async listBuckets(s){var r=this;try{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const a=n.toString(),u=a?`${r.url}/bucket?${a}`:`${r.url}/bucket`;return{data:await js(r.fetch,u,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await Il(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}from(s){var r=this;if(!zg(s))throw new ea("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Lg({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(u,d){const h=u[d];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(u,p),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}}}})}};const Ll={"X-Client-Info":`storage-js/${zh}`,"Content-Type":"application/json"};var Fh=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function yt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var il=class extends Fh{constructor(s,r,n){super(s),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Zg=class extends Fh{constructor(s,r){super(s),this.name="StorageVectorsUnknownError",this.originalError=r}};const Ul=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Xg=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},sh=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),e0=async(s,r,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const a=s.status||500,u=s;if(typeof u.json=="function")u.json().then(d=>{const h=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||a+"";r(new il(sh(d),a,h))}).catch(()=>{const d=a+"";r(new il(u.statusText||`HTTP ${a} error`,a,d))});else{const d=a+"";r(new il(u.statusText||`HTTP ${a} error`,a,d))}}else r(new Zg(sh(s),s))},t0=(s,r,n,a)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return a?(Xg(a)?(u.headers=ue({"Content-Type":"application/json"},r==null?void 0:r.headers),u.body=JSON.stringify(a)):u.body=a,ue(ue({},u),n)):u};async function r0(s,r,n,a,u,d){return new Promise((h,p)=>{s(n,t0(r,a,u,d)).then(m=>{if(!m.ok)throw m;if(a!=null&&a.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>h(m)).catch(m=>e0(m,p,a))})}async function xt(s,r,n,a,u){return r0(s,"POST",r,a,u,n)}var n0=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ue(ue({},Ll),r),this.fetch=Ul(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var r=this;try{return{data:await xt(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async getIndex(s,r){var n=this;try{return{data:await xt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(yt(a))return{data:null,error:a};throw a}}async listIndexes(s){var r=this;try{return{data:await xt(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async deleteIndex(s,r){var n=this;try{return{data:await xt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(yt(a))return{data:null,error:a};throw a}}},s0=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ue(ue({},Ll),r),this.fetch=Ul(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var r=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await xt(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async getVectors(s){var r=this;try{return{data:await xt(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async listVectors(s){var r=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await xt(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async queryVectors(s){var r=this;try{return{data:await xt(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async deleteVectors(s){var r=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await xt(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}},i0=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=ue(ue({},Ll),r),this.fetch=Ul(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await xt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await xt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var r=this;try{return{data:await xt(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await xt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(yt(n))return{data:null,error:n};throw n}}},a0=class extends i0{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new o0(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,n=this;return r().call(n,s)}async getBucket(s){var r=()=>super.getBucket,n=this;return r().call(n,s)}async listBuckets(s={}){var r=()=>super.listBuckets,n=this;return r().call(n,s)}async deleteBucket(s){var r=()=>super.deleteBucket,n=this;return r().call(n,s)}},o0=class extends n0{constructor(s,r,n,a){super(s,r,a),this.vectorBucketName=n}async createIndex(s){var r=()=>super.createIndex,n=this;return r().call(n,ue(ue({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,n=this;return r().call(n,ue(ue({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,s)}index(s){return new l0(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},l0=class extends s0{constructor(s,r,n,a,u){super(s,r,u),this.vectorBucketName=n,this.indexName=a}async putVectors(s){var r=()=>super.putVectors,n=this;return r().call(n,ue(ue({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var r=()=>super.getVectors,n=this;return r().call(n,ue(ue({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,n=this;return r().call(n,ue(ue({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,n=this;return r().call(n,ue(ue({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,n=this;return r().call(n,ue(ue({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},u0=class extends Qg{constructor(s,r={},n,a){super(s,r,n,a)}from(s){return new Jg(this.url,this.headers,s,this.fetch)}get vectors(){return new a0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Yg(this.url+"/iceberg",this.headers,this.fetch)}};const Mh="2.90.1",kn=30*1e3,Sl=3,al=Sl*kn,c0="http://localhost:9999",d0="supabase.auth.token",h0={"X-Client-Info":`gotrue-js/${Mh}`},Nl="X-Supabase-Api-Version",Wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p0=600*1e3;class Ss extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ne(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class m0 extends Ss{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function g0(s){return ne(s)&&s.name==="AuthApiError"}class zr extends Ss{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Yt extends Ss{constructor(r,n,a,u){super(r,a,u),this.name=n,this.status=a}}class vt extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v0(s){return ne(s)&&s.name==="AuthSessionMissingError"}class vn extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wi extends Yt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Vi extends Yt{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function y0(s){return ne(s)&&s.name==="AuthImplicitGrantRedirectError"}class ih extends Yt{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class x0 extends Yt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class El extends Yt{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function ol(s){return ne(s)&&s.name==="AuthRetryableFetchError"}class ah extends Yt{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Cl extends Yt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oh=` 	
\r=`.split(""),w0=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<oh.length;r+=1)s[oh[r].charCodeAt(0)]=-2;for(let r=0;r<Ki.length;r+=1)s[Ki[r].charCodeAt(0)]=r;return s})();function lh(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Ki[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Ki[a]),r.queuedBits-=6}}function Vh(s,r,n){const a=w0[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function uh(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=h=>{k0(h,a,n)};for(let h=0;h<s.length;h+=1)Vh(s.charCodeAt(h),u,d);return r.join("")}function b0(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function _0(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|u)+65536,n+=1}b0(a,r)}}function k0(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Nn(s){const r=[],n={queue:0,queuedBits:0},a=u=>{r.push(u)};for(let u=0;u<s.length;u+=1)Vh(s.charCodeAt(u),n,a);return new Uint8Array(r)}function j0(s){const r=[];return _0(s,n=>r.push(n)),new Uint8Array(r)}function Br(s){const r=[],n={queue:0,queuedBits:0},a=u=>{r.push(u)};return s.forEach(u=>lh(u,n,a)),lh(null,n,a),r.join("")}function S0(s){return Math.round(Date.now()/1e3)+s}function N0(){return Symbol("auth-callback")}const Xe=()=>typeof window<"u"&&typeof document<"u",Lr={tested:!1,writable:!1},qh=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lr.tested)return Lr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Lr.tested=!0,Lr.writable=!0}catch{Lr.tested=!0,Lr.writable=!1}return Lr.writable};function E0(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((u,d)=>{r[d]=u})}catch{}return n.searchParams.forEach((a,u)=>{r[u]=a}),r}const Hh=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),C0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",jn=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Ur=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ye=async(s,r)=>{await s.removeItem(r)};class ta{constructor(){this.promise=new ta.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}ta.promiseConstructor=Promise;function ll(s){const r=s.split(".");if(r.length!==3)throw new Cl("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!f0.test(r[a]))throw new Cl("JWT not in base64url format");return{header:JSON.parse(uh(r[0])),payload:JSON.parse(uh(r[1])),signature:Nn(r[2]),raw:{header:r[0],payload:r[1]}}}async function T0(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function R0(s,r){return new Promise((a,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await s(d);if(!r(d,null,h)){a(h);return}}catch(h){if(!r(d,h)){u(h);return}}})()})}function O0(s){return("0"+s.toString(16)).substr(-2)}function P0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let u="";for(let d=0;d<56;d++)u+=n.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(r),Array.from(r,O0).join("")}async function A0(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),u=new Uint8Array(a);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function I0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await A0(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yn(s,r,n=!1){const a=P0();let u=a;n&&(u+="/PASSWORD_RECOVERY"),await jn(s,`${r}-code-verifier`,u);const d=await I0(a);return[d,a===d?"plain":"s256"]}const L0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U0(s){const r=s.headers.get(Nl);if(!r||!r.match(L0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function $0(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function D0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(s){if(!z0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ul(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function B0(s,r){return new Proxy(s,{get:(n,a,u)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const d=a.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,u)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,u)}})}function ch(s){return JSON.parse(JSON.stringify(s))}const $r=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),F0=[502,503,504];async function dh(s){var r;if(!C0(s))throw new El($r(s),0);if(F0.includes(s.status))throw new El($r(s),s.status);let n;try{n=await s.json()}catch(d){throw new zr($r(d),d)}let a;const u=U0(s);if(u&&u.getTime()>=Wh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new ah($r(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new ah($r(n),s.status,n.weak_password.reasons);throw new m0($r(n),s.status||500,a)}const M0=(s,r,n,a)=>{const u={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),n))};async function le(s,r,n,a){var u;const d=Object.assign({},a==null?void 0:a.headers);d[Nl]||(d[Nl]=Wh["2024-01-01"].name),a!=null&&a.jwt&&(d.Authorization=`Bearer ${a.jwt}`);const h=(u=a==null?void 0:a.query)!==null&&u!==void 0?u:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await W0(s,r,n+p,{headers:d,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function W0(s,r,n,a,u,d){const h=M0(r,a,u,d);let p;try{p=await s(n,Object.assign({},h))}catch(m){throw console.error(m),new El($r(m),0)}if(p.ok||await dh(p),a!=null&&a.noResolveJson)return p;try{return await p.json()}catch(m){await dh(m)}}function It(s){var r;let n=null;H0(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=S0(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function hh(s){const r=It(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function xr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function V0(s){return{data:s,error:null}}function q0(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:u,verification_type:d}=s,h=Xi(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:a,redirect_to:u,verification_type:d},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function fh(s){return s}function H0(s){return s.access_token&&s.refresh_token&&s.expires_in}const cl=["global","local","others"];class K0{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=Hh(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=cl[0]){if(cl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cl.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ne(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xr})}catch(a){if(ne(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=Xi(r,["options"]),u=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(u.new_email=a==null?void 0:a.newEmail,delete u.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:q0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:xr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,u,d,h,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(d=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:fh});if(y.error)throw y.error;const w=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);v[`${T}Page`]=R}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(ne(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){xn(r);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:xr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){xn(r);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:xr})}catch(a){if(ne(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){xn(r);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:xr})}catch(a){if(ne(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){xn(r.userId);try{const{data:n,error:a}=await le(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:n,error:a}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(r){xn(r.userId),xn(r.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,u,d,h,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(d=(u=r==null?void 0:r.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:fh});if(y.error)throw y.error;const w=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);v[`${T}Page`]=R}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(ne(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ne(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}}function ph(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const wn={debug:!!(globalThis&&qh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class G0 extends Kh{}async function J0(s,r,n){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await n()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(r===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new G0(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(wn.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Q0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gh(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Y0(s){return parseInt(s,16)}function Z0(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function X0(s){var r;const{chainId:n,domain:a,expirationTime:u,issuedAt:d=new Date,nonce:h,notBefore:p,requestId:m,resources:v,scheme:y,uri:w,version:_}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const S=Gh(s.address),C=y?`${y}://${a}`:a,R=s.statement?`${s.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${S}

${R}`;let I=`URI: ${w}
Version: ${_}
Chain ID: ${n}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(u&&(I+=`
Expiration Time: ${u.toISOString()}`),p&&(I+=`
Not Before: ${p.toISOString()}`),m&&(I+=`
Request ID: ${m}`),v){let D=`
Resources:`;for(const L of v){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);D+=`
- ${L}`}I+=D}return`${T}
${I}`}class Fe extends Error{constructor({message:r,code:n,cause:a,name:u}){var d;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(d=u??(a instanceof Error?a.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=n}}class Gi extends Fe{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function ev({error:s,options:r}){var n,a,u;const{publicKey:d}=r;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=d.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((a=d.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(Jh(h)){if(d.rp.id!==h)return new Fe({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function tv({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(Jh(a)){if(n.rpId!==a)return new Fe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class rv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const nv=new rv;function sv(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:a}=s,u=Xi(s,["challenge","user","excludeCredentials"]),d=Nn(r).buffer,h=Object.assign(Object.assign({},n),{id:Nn(n.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:d,user:h});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const v=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Nn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function iv(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,a=Xi(s,["challenge","allowCredentials"]),u=Nn(r).buffer,d=Object.assign(Object.assign({},a),{challenge:u});if(n&&n.length>0){d.allowCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];d.allowCredentials[h]=Object.assign(Object.assign({},p),{id:Nn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function av(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Br(new Uint8Array(s.response.attestationObject)),clientDataJSON:Br(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function ov(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,a=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Br(new Uint8Array(u.authenticatorData)),clientDataJSON:Br(new Uint8Array(u.clientDataJSON)),signature:Br(new Uint8Array(u.signature)),userHandle:u.userHandle?Br(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Jh(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function mh(){var s,r;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function lv(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Gi("Browser returned unexpected credential type",r)}:{data:null,error:new Gi("Empty credential response",r)}}catch(r){return{data:null,error:ev({error:r,options:s})}}}async function uv(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Gi("Browser returned unexpected credential type",r)}:{data:null,error:new Gi("Empty credential response",r)}}catch(r){return{data:null,error:tv({error:r,options:s})}}}const cv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ji(...s){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),n=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),a={};for(const u of s)if(u)for(const d in u){const h=u[d];if(h!==void 0)if(Array.isArray(h))a[d]=h;else if(n(h))a[d]=h;else if(r(h)){const p=a[d];r(p)?a[d]=Ji(p,h):a[d]=Ji(h)}else a[d]=h}return a}function hv(s,r){return Ji(cv,s,r||{})}function fv(s,r){return Ji(dv,s,r||{})}class pv{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:u},d){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!h)return{data:null,error:p};const m=u??nv.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${a}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=hv(h.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:y,error:w}=await lv({publicKey:v,signal:m});return y?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const v=fv(h.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:y,error:w}=await uv(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:m}));return y?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new zr("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!n)return{data:null,error:new Ss("rpId is required for WebAuthn authentication")};try{if(!mh())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:u},{request:d});if(!h)return{data:null,error:p};const{webauthn:m}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:a,credential_response:m.credential_response}})}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new zr("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!n)return{data:null,error:new Ss("rpId is required for WebAuthn registration")};try{if(!mh())return{data:null,error:new zr("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:p};const{data:m,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:u},{create:d});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new zr("Unexpected error in register",h)}}}}Q0();const mv={url:c0,storageKey:d0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gh(s,r,n){return await n()}const bn={};class Ns{get jwks(){var r,n;return(n=(r=bn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=bn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:r})}constructor(r){var n,a,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},mv),r);if(this.storageKey=d.storageKey,this.instanceID=(n=Ns.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ns.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&Xe()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new K0({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Hh(d.fetch),this.lock=d.lock||gh,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&Xe()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=J0:this.lock=gh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:qh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ph(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=ph(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mh}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},a="none";if(Xe()&&(n=E0(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Xe()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:d}=await this._getSessionFromURL(n,a);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),y0(d)){const m=(r=d.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?this._returnResult({error:n}):this._returnResult({error:new zr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,u;try{const d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=r==null?void 0:r.options)===null||u===void 0?void 0:u.captchaToken}},xform:It}),{data:h,error:p}=d;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(d){if(ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(r){var n,a,u;try{let d;if("email"in r){const{email:y,password:w,options:_}=r;let S=null,C=null;this.flowType==="pkce"&&([S,C]=await yn(this.storage,this.storageKey)),d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:w,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:S,code_challenge_method:C},xform:It})}else if("phone"in r){const{phone:y,password:w,options:_}=r;d=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(u=_==null?void 0:_.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:It})}else throw new Wi("You must provide either an email or phone number and a password");const{data:h,error:p}=d;if(p||!h)return await Ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(d){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(r){try{let n;if("email"in r){const{email:d,password:h,options:p}=r;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:hh})}else if("phone"in r){const{phone:d,password:h,options:p}=r;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:hh})}else throw new Wi("You must provide either an email or phone number and a password");const{data:a,error:u}=n;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const d=new vn;return this._returnResult({data:{user:null,session:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,a,u,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,u,d,h,p,m,v,y,w,_;let S,C;if("message"in r)S=r.message,C=r.signature;else{const{chain:R,wallet:T,statement:I,options:D}=r;let L;if(Xe())if(typeof T=="object")L=T;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")L=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=T}const z=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href),ie=await L.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=Gh(ie[0]);let V=(a=D==null?void 0:D.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const ge=await L.request({method:"eth_chainId"});V=Y0(ge)}const de={domain:z.host,address:J,statement:I,uri:z.href,version:"1",chainId:V,nonce:(u=D==null?void 0:D.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(d=D==null?void 0:D.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=D==null?void 0:D.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=D==null?void 0:D.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=D==null?void 0:D.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=D==null?void 0:D.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=X0(de),C=await L.request({method:"personal_sign",params:[Z0(S),J]})}try{const{data:R,error:T}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:C},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:It});if(T)throw T;if(!R||!R.session||!R.user){const I=new vn;return this._returnResult({data:{user:null,session:null},error:I})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:T})}catch(R){if(ne(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(r){var n,a,u,d,h,p,m,v,y,w,_,S;let C,R;if("message"in r)C=r.message,R=r.signature;else{const{chain:T,wallet:I,statement:D,options:L}=r;let z;if(Xe())if(typeof I=="object")z=I;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))z=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=I}const ie=new URL((n=L==null?void 0:L.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const J=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),D?{statement:D}:null));let V;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")V=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)V=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)C=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),R=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ie.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(u=(a=L==null?void 0:L.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((h=L==null?void 0:L.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((p=L==null?void 0:L.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((m=L==null?void 0:L.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((v=L==null?void 0:L.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((w=(y=L==null?void 0:L.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...L.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const J=await z.signMessage(new TextEncoder().encode(C),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=J}}try{const{data:T,error:I}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Br(R)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:It});if(I)throw I;if(!T||!T.session||!T.user){const D=new vn;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:I})}catch(T){if(ne(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(r){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new x0;const{data:d,error:h}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:It});if(await Ye(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const p=new vn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:h})}catch(d){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(r){try{const{options:n,provider:a,token:u,access_token:d,nonce:h}=r,p=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:It}),{data:m,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new vn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,a,u,d,h;try{if("email"in r){const{email:p,options:m}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await yn(this.storage,this.storageKey));const{error:w}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:p,options:m}=r,{data:v,error:y}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=m==null?void 0:m.data)!==null&&u!==void 0?u:{},create_user:(d=m==null?void 0:m.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new Wi("You must provide either an email or phone number.")}catch(p){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var n,a;try{let u,d;"options"in r&&(u=(n=r.options)===null||n===void 0?void 0:n.redirectTo,d=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:It});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var n,a,u,d,h;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await yn(this.storage,this.storageKey));const v=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=r==null?void 0:r.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:V0});return!((d=v.data)===null||d===void 0)&&d.url&&Xe()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),ne(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new vt;const{error:u}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:u,options:d}=r,{error:h}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:a,type:u,options:d}=r,{data:h,error:p}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Wi("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<al:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await Ur(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=ul()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=B0(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:d}=await this._callRefreshToken(r.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:xr}):await this._useSession(async n=>{var a,u,d;const{data:h,error:p}=n;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:xr})})}catch(n){if(ne(n))return v0(n)&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:u,error:d}=a;if(d)throw d;if(!u.session)throw new vt;const h=u.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await yn(this.storage,this.storageKey));const{data:v,error:y}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:xr});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),ne(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new vt;const n=Date.now()/1e3;let a=n,u=!0,d=null;const{payload:h}=ll(r.access_token);if(h.exp&&(a=h.exp,u=a<=n),u){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;d={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:h,error:p}=n;if(p)throw p;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new vt;const{data:u,error:d}=await this._callRefreshToken(r.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Xe())throw new Vi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Vi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ih("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ih("No code detected.");const{data:D,error:L}=await this._exchangeCodeForSession(r.code);if(L)throw L;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:d,refresh_token:h,expires_in:p,expires_at:m,token_type:v}=r;if(!d||!p||!h||!v)throw new Vi("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(p);let _=y+w;m&&(_=parseInt(m));const S=_-y;S*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const C=_-w;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,y);const{data:R,error:T}=await this._getUser(d);if(T)throw T;const I={provider_token:a,provider_refresh_token:u,access_token:d,expires_in:w,expires_at:_,refresh_token:h,token_type:v,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:r.type},error:null})}catch(a){if(ne(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Ur(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:u,error:d}=n;if(d)return this._returnResult({error:d});const h=(a=u.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(g0(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await Ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=N0(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,u;try{const{data:{session:d},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,n={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await yn(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(d){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),ne(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:u}=await this._useSession(async d=>{var h,p,m,v,y;const{data:w,error:_}=d;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return Xe()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:r.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(ne(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:u,data:{session:d}}=n;if(u)throw u;const{options:h,provider:p,token:m,access_token:v,nonce:y}=r,w=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=d==null?void 0:d.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:It}),{data:_,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new vn}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(u){if(await Ye(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,u;const{data:d,error:h}=n;if(h)throw h;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await R0(async u=>(u>0&&await T0(200*Math.pow(2,u-1)),this._debug(n,"refreshing attempt",u),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:It})),(u,d)=>{const h=200*Math.pow(2,u);return d&&ol(d)&&Date.now()+h-a<kn})}catch(a){if(this._debug(n,"error",a),ne(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),Xe()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Ur(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await jn(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:ul()}else if(u&&!u.user&&!u.user){const h=await Ur(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(u.user=h.user,await Ye(this.storage,this.storageKey+"-user"),await jn(this.storage,this.storageKey,u)):u.user=ul()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const d=((n=u.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<al;if(this._debug(a,`session has${d?"":" not"} expired with margin of ${al}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),ol(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&(h!=null&&h.user)?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new ta;const{data:d,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!d.session)throw new vt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={data:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(u,"error",d),ne(d)){const h={data:null,error:d};return ol(d)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,n,a=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){d.push(m)}});if(await Promise.all(h),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Ye(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await jn(this.userStorage,this.storageKey+"-user",{user:n.user});const u=Object.assign({},n);delete u.user;const d=ch(u);await jn(this.storage,this.storageKey,d)}else{const u=ch(n);await jn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ye(this.storage,this.storageKey),await Ye(this.storage,this.storageKey+"-code-verifier"),await Ye(this.storage,this.storageKey+"-user"),this.userStorage&&await Ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-r)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${kn}ms, refresh threshold is ${Sl} ticks`),u<=Sl&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Kh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const u=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[d,h]=await yn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(a!=null&&a.queryParams){const d=new URLSearchParams(a.queryParams);u.push(d.toString())}return a!=null&&a.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:u,error:d}=n;return d?this._returnResult({data:null,error:d}):await le(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,u;const{data:d,error:h}=n;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:v}=await le(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=d==null?void 0:d.session)===null||a===void 0?void 0:a.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&m.type==="totp"&&(!((u=m==null?void 0:m.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?av(r.webauthn.credential_response):ov(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const h=await le(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:sv(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:iv(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:a},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ll(a.access_token);let h=null;d.aal&&(h=d.aal);let p=h;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const v=d.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:u}=n;return u?this._returnResult({data:null,error:u}):a?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new vt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:u},error:d}=a;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new vt});const h=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Xe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ne(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:u},error:d}=a;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new vt});const h=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&Xe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(a){if(ne(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new vt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:a},error:u}=n;return u?this._returnResult({data:null,error:u}):a?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(p=>p.kid===r);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+p0>u)return a;const{data:d,error:h}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,a=d.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:S,error:C}=await this.getSession();if(C||!S.session)return this._returnResult({data:null,error:C});a=S.session.access_token}const{header:u,payload:d,signature:h,raw:{header:p,payload:m}}=ll(a);n!=null&&n.allowExpired||$0(d.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!v){const{error:S}=await this.getUser(a);if(S)throw S;return{data:{claims:d,header:u,signature:h},error:null}}const y=D0(u.alg),w=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,h,j0(`${p}.${m}`)))throw new Cl("Invalid JWT signature");return{data:{claims:d,header:u,signature:h},error:null}}catch(a){if(ne(a))return this._returnResult({data:null,error:a});throw a}}}Ns.nextInstanceID={};const gv=Ns,vv="2.90.1";let vs="";typeof Deno<"u"?vs="deno":typeof document<"u"?vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vs="react-native":vs="node";const yv={"X-Client-Info":`supabase-js-${vs}/${vv}`},xv={headers:yv},wv={schema:"public"},bv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_v={};function Es(s){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Es(s)}function kv(s,r){if(Es(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,r);if(Es(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function jv(s){var r=kv(s,"string");return Es(r)=="symbol"?r:r+""}function Sv(s,r,n){return(r=jv(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function vh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),n.push.apply(n,a)}return n}function $e(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?vh(Object(n),!0).forEach(function(a){Sv(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):vh(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}const Nv=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Ev=()=>Headers,Cv=(s,r,n)=>{const a=Nv(n),u=Ev();return async(d,h)=>{var p;const m=(p=await r())!==null&&p!==void 0?p:s;let v=new u(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),a(d,$e($e({},h),{},{headers:v}))}};function Tv(s){return s.endsWith("/")?s:s+"/"}function Rv(s,r){var n,a;const{db:u,auth:d,realtime:h,global:p}=s,{db:m,auth:v,realtime:y,global:w}=r,_={db:$e($e({},m),u),auth:$e($e({},v),d),realtime:$e($e({},y),h),storage:{},global:$e($e($e({},w),p),{},{headers:$e($e({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function Ov(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tv(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Pv=class extends gv{constructor(s){super(s)}},Av=class{constructor(s,r,n){var a,u;this.supabaseUrl=s,this.supabaseKey=r;const d=Ov(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:wv,realtime:_v,auth:$e($e({},bv),{},{storageKey:h}),global:xv},m=Rv(n??{},p);if(this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=m.global.headers)!==null&&u!==void 0?u:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=Cv(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient($e({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new hg(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new u0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new og(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,n;if(s.accessToken)return await s.accessToken();const{data:a}=await s.auth.getSession();return(r=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:u,storageKey:d,flowType:h,lock:p,debug:m,throwOnError:v},y,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pv({url:this.authUrl.href,headers:$e($e({},_),y),storageKey:d,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:u,flowType:h,lock:p,debug:m,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Tg(this.realtimeUrl.href,$e($e({},s),{},{params:$e($e({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Iv=(s,r,n)=>new Av(s,r,n);function Lv(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const r=s.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Lv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Uv="https://cigxkvwijmmxjllqqgmh.supabase.co",$v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpZ3hrdndpam1teGpsbHFxZ21oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxNzA0NzEsImV4cCI6MjA4Mzc0NjQ3MX0.LdJ3jTQR_nciF_pwDZggQ7K0jWuWcReQY7keTHRRhpE",ve=Iv(Uv,$v),Qh=P.createContext(void 0),Dv={id:"a5443645-bca0-4e8d-9a2a-85a4e69e8f85",icao:"SBCT",name:"Afonso Pena Intl",city:"Curitiba",state:"PR",country_code:"BR"},zv=({children:s})=>{const[r,n]=P.useState(null),[a,u]=P.useState(Bi),[d,h]=P.useState(rg),[p,m]=P.useState(ng),[v,y]=P.useState(Dv),[w,_]=P.useState([]);P.useEffect(()=>{ve.auth.getSession().then(({data:{session:ee}})=>{ee!=null&&ee.user&&(T(ee.user.id,ee.user.email),S(ee.user.id))});const{data:{subscription:M}}=ve.auth.onAuthStateChange((ee,q)=>{q!=null&&q.user?(T(q.user.id,q.user.email),S(q.user.id)):(n(null),_([]))});return R(),()=>M.unsubscribe()},[v]);const S=async M=>{try{const{data:ee,error:q}=await ve.from("user_favorites").select(`
          airport_id,
          airports (*)
        `).eq("user_id",M);if(q){console.error("Error fetching favorites:",q);return}if(ee){const ce=ee.map(ke=>ke.airports);_(ce)}}catch(ee){console.error("Exception fetching favorites:",ee)}},C=async M=>{if(!r)return;w.some(q=>q.id===M.id)?(_(q=>q.filter(ce=>ce.id!==M.id)),await ve.from("user_favorites").delete().match({user_id:r.id,airport_id:M.id})):(_(q=>[...q,M]),await ve.from("user_favorites").insert({user_id:r.id,airport_id:M.id}))},R=async()=>{try{let M=ve.from("posts").select(`
          *,
          user:user_profiles!author_auth_uid (
            full_name,
            avatar_url,
            role_id,
            callsign
          ),
          media:post_media (
            storage_path
          )
        `).order("created_at",{ascending:!1});v.id!=="default"&&(M=M.eq("airport_id",v.id));const{data:ee,error:q}=await M;if(q){console.error("Error fetching posts:",q);return}if(ee){const ce=ee.map(se=>{var te,b,A,G,pe;let W;if(se.media&&se.media.length>0){const{data:H}=ve.storage.from("post-media").getPublicUrl(se.media[0].storage_path);W=H.publicUrl}return{id:se.id,type:"collaborative",user:{id:se.author_auth_uid,name:((te=se.user)==null?void 0:te.callsign)||((b=se.user)==null?void 0:b.full_name)||"Desconhecido",avatar:((A=se.user)==null?void 0:A.avatar_url)||Ce.profileMain,role:((G=se.user)==null?void 0:G.role_id)||"registered"},category:se.category||"Geral",title:se.title||((pe=se.description)==null?void 0:pe.substring(0,20))||"Sem ttulo",description:se.description,image:W,timestamp:new Date(se.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})+"Z",likes:0,comments:[]}}),ke=Bi.find(se=>se.type==="official"),Se=Bi.filter(se=>se.type!=="official");u(ke?[ke,...ce,...Se]:[...ce,...Bi])}}catch(M){console.error("Unexpected error fetching posts:",M)}},T=async(M,ee)=>{const{data:q,error:ce}=await ve.from("user_profiles").select("*").eq("auth_uid",M).single();if(ce||!q){console.error("Error fetching profile:",ce),ee&&n({id:M,name:"Usurio (Perfil Pendente)",avatar:Ce.profileMain,role:"registered",email:ee});return}n({id:M,name:q.full_name||"Usurio",avatar:q.avatar_url||Ce.profileMain,role:q.role_id,callsign:q.callsign,email:q.email,phone:q.phone})},I=async(M,ee)=>{const{error:q}=await ve.auth.signInWithPassword({email:M,password:ee});if(q)throw q},D=async(M,ee,q,ce,ke)=>{const{data:Se,error:se}=await ve.auth.signUp({email:M,password:ee,options:{data:{full_name:q}}});if(se)throw se;Se.user&&await ve.from("user_profiles").insert({auth_uid:Se.user.id,full_name:q,role_id:"registered",email:M,phone:ce,avatar_url:ke})},L=async()=>{await ve.auth.signOut(),n(null)},z=async(M,ee,q,ce)=>{if(r)try{await ve.from("audit_logs").insert({actor_auth_uid:r.id,action:M,target_type:ee,target_id:q,metadata:ce,created_at:new Date})}catch(ke){console.error("Audit log failed",ke)}},ie=M=>{u([M,...a])},J=M=>{u(ee=>ee.map(q=>q.id===M.id?M:q))},V=M=>{h([M,...d])},de=M=>{h(d.filter(ee=>ee.id!==M))},ge=M=>{m(p.filter(ee=>ee.id!==M))},Y=(M,ee)=>{u(q=>q.map(ce=>ce.id===M?{...ce,comments:[...ce.comments,{id:Math.random().toString(36).substr(2,9),text:ee,timestamp:"Agora",user:r||{id:"anon",name:"Annimo",avatar:Ce.avatar1}}]}:ce))};return l.jsx(Qh.Provider,{value:{user:r,posts:a,invites:d,reports:p,selectedAirport:v,setSelectedAirport:y,addPost:ie,updatePost:J,addInvite:V,removeInvite:de,resolveReport:ge,addComment:Y,signIn:I,signUp:D,signOut:L,logAudit:z,favoriteAirports:w,toggleFavorite:C},children:s})},wt=()=>{const s=P.useContext(Qh);if(!s)throw new Error("useApp must be used within AppProvider");return s},Bv=()=>{const s=et();return P.useEffect(()=>{const r=setTimeout(()=>{s("/feed")},2500);return()=>clearTimeout(r)},[s]),l.jsxs("div",{className:"relative flex h-screen w-full flex-col items-center justify-between overflow-hidden px-6 py-12 bg-brand-neutral dark:bg-background-dark font-display antialiased",children:[l.jsx("div",{className:"h-10"}),l.jsxs("div",{className:"flex flex-col items-center justify-center gap-8 w-full max-w-[375px]",children:[l.jsx("div",{className:"relative flex items-center justify-center w-full px-4",children:l.jsx("img",{src:"/full-logo.png",alt:"Observer",className:"w-full max-w-[280px] h-auto object-contain"})}),l.jsx("p",{className:"text-[#4a5568] dark:text-slate-400 text-base font-medium leading-relaxed max-w-[280px] mx-auto",children:"Conscincia situacional colaborativa"})]}),l.jsxs("div",{className:"flex flex-col items-center gap-6 w-full pb-8",children:[l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("svg",{className:"w-10 h-10 text-primary/10",viewBox:"0 0 40 40",children:l.jsx("circle",{cx:"20",cy:"20",fill:"none",r:"18",stroke:"currentColor",strokeWidth:"3"})}),l.jsx("svg",{className:"absolute w-10 h-10 text-primary animate-spin-slow",viewBox:"0 0 40 40",children:l.jsx("circle",{cx:"20",cy:"20",fill:"none",r:"18",stroke:"currentColor",strokeDasharray:"80",strokeDashoffset:"60",strokeLinecap:"round",strokeWidth:"3"})})]}),l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("p",{className:"text-[#0c121d] dark:text-slate-300 text-sm font-semibold tracking-wide uppercase",children:"Autenticando"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-primary/40 rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-primary/20 rounded-full"})]})]})]}),l.jsx("div",{className:"absolute inset-0 -z-10 opacity-[0.03] pointer-events-none",children:l.jsx("div",{className:"w-full h-full bg-center bg-no-repeat bg-cover",style:{backgroundImage:`url('${Ce.splashBg}')`}})})]})},Fv=()=>{const s=et(),[r,n]=P.useState(!1);return l.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark text-[#0c121d] dark:text-white",children:[l.jsxs("div",{className:"flex items-center bg-transparent p-4 pb-2 justify-between shrink-0",children:[l.jsx("div",{className:"text-[#0c121d] dark:text-white flex size-12 shrink-0 items-center justify-center cursor-pointer",onClick:()=>s(-1),children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios"})}),l.jsx("h2",{className:"text-[#0c121d] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Passo 1 de 3"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto pb-32",children:[l.jsx("div",{className:"@container px-4 py-3",children:l.jsx("div",{className:"w-full bg-center bg-no-repeat bg-cover flex flex-col justify-end overflow-hidden bg-primary/10 dark:bg-primary/5 rounded-xl min-h-64 border border-primary/20",style:{backgroundImage:`url('${Ce.cockpit}')`}})}),l.jsxs("div",{className:"flex w-full flex-row items-center justify-center gap-3 py-4",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-primary"}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-[#cdd7ea] dark:bg-gray-700"}),l.jsx("div",{className:"h-2 w-2 rounded-full bg-[#cdd7ea] dark:bg-gray-700"})]}),l.jsx("h2",{className:"text-[#0c121d] dark:text-white tracking-light text-[28px] font-bold leading-tight px-6 text-center pb-6 pt-2",children:"Como funciona"}),l.jsxs("div",{className:"space-y-1 px-2",children:[l.jsx(dl,{icon:"radar",title:"Monitoramento em Tempo Real",desc:"Acompanhe aeronaves e equipes em solo instantaneamente."}),l.jsx(dl,{icon:"notifications_active",title:"Alertas Inteligentes",desc:"Receba notificaes de proximidade e segurana operacional."}),l.jsx(dl,{icon:"hub",title:"Comunicao Integrada",desc:"Conecte-se com a central e outros operadores de forma gil."})]})]}),l.jsxs("div",{className:"fixed bottom-0 max-w-[480px] w-full bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md px-4 pb-8 pt-4 border-t border-gray-200 dark:border-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("input",{className:"h-6 w-6 rounded border-gray-300 text-primary focus:ring-primary bg-white dark:bg-gray-800 dark:border-gray-600",id:"privacy-check",type:"checkbox",checked:r,onChange:a=>n(a.target.checked)})}),l.jsxs("label",{className:"text-sm text-[#4567a1] dark:text-gray-400 leading-tight",htmlFor:"privacy-check",children:["Li e aceito os termos da ",l.jsx("a",{className:"text-primary font-medium hover:underline inline-flex items-center",href:"#",children:"Poltica de Privacidade (LGPD)"})]})]}),l.jsxs("button",{onClick:()=>s("/login",{replace:!0}),disabled:!r,className:`w-full font-bold py-4 rounded-xl flex items-center justify-center gap-2 shadow-lg transition-all ${r?"bg-primary hover:bg-primary/90 text-white shadow-primary/20":"bg-gray-300 dark:bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[l.jsx("span",{children:"Comear"}),l.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})]})]})]})},dl=({icon:s,title:r,desc:n})=>l.jsxs("div",{className:"flex items-center gap-4 bg-transparent px-4 min-h-[72px] py-2",children:[l.jsx("div",{className:"text-primary flex items-center justify-center rounded-lg bg-primary/10 shrink-0 size-12",children:l.jsx("span",{className:"material-symbols-outlined",children:s})}),l.jsxs("div",{className:"flex flex-col justify-center",children:[l.jsx("p",{className:"text-[#0c121d] dark:text-white text-base font-semibold leading-normal",children:r}),l.jsx("p",{className:"text-[#4567a1] dark:text-gray-400 text-sm font-normal leading-normal",children:n})]})]}),$l=({url:s,onUpload:r,editable:n})=>{const[a,u]=P.useState(!1),d=async h=>{try{if(u(!0),!h.target.files||h.target.files.length===0)throw new Error("You must select an image to upload.");const p=h.target.files[0],m=p.name.split(".").pop(),y=`${`${Math.random()}.${m}`}`,{error:w}=await ve.storage.from("avatars").upload(y,p);if(w)throw w;const{data:_}=ve.storage.from("avatars").getPublicUrl(y);r(_.publicUrl)}catch(p){alert(p.message)}finally{u(!1)}};return l.jsx("div",{className:"flex flex-col items-center gap-4",children:l.jsxs("div",{className:"relative h-32 w-32",children:[l.jsx("div",{className:"h-32 w-32 rounded-full bg-cover bg-center border-4 border-white dark:border-gray-800 shadow-lg overflow-hidden",style:{backgroundImage:`url('${s||Ce.profileMain}')`},children:a&&l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:l.jsx("span",{className:"material-symbols-outlined text-white animate-spin",children:"progress_activity"})})}),n&&l.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full cursor-pointer shadow-md hover:bg-blue-600 transition-colors",htmlFor:"single",children:[l.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"photo_camera"}),l.jsx("input",{style:{visibility:"hidden",position:"absolute"},type:"file",id:"single",accept:"image/*",onChange:d,disabled:a})]})]})})},Mv=()=>{const s=et(),[r]=tg(),n=r.get("token")||"",a=r.get("email")||"",u=r.get("phone")||"",{user:d,signIn:h}=wt(),[p,m]=P.useState(n),[v,y]=P.useState(""),[w,_]=P.useState(a),[S,C]=P.useState(u),[R,T]=P.useState(null),[I,D]=P.useState(""),[L,z]=P.useState(!1),[ie,J]=P.useState(null),V=!!d,[de,ge]=P.useState(null),[Y,M]=P.useState(null);P.useEffect(()=>{n&&m(n),a&&_(a),u&&C(u)},[n,a,u]);const ee=async q=>{var ce,ke,Se;q.preventDefault(),z(!0),J(null),ge(null),M(null);try{const se={"Content-Type":"application/json"},{data:{session:W}}=await ve.auth.getSession();W&&(se.Authorization=`Bearer ${W.access_token}`);const te={token:p};V||(te.email=w,te.password=I,te.full_name=v,te.phone=S);const b=await fetch("https://cigxkvwijmmxjllqqgmh.supabase.co/functions/v1/acceptInvite",{method:"POST",headers:se,body:JSON.stringify(te)}),A=await b.json();if(!b.ok){if(A.error&&(A.error.includes("telefone")||A.error.includes("Phone")))throw M("Este telefone j est em uso."),new Error("Verifique os campos em vermelho.");if(A.error&&(A.error.includes("email")||A.error.includes("Email")))throw ge("Este e-mail j est em uso."),new Error("Verifique os campos em vermelho.");b.status===409&&((ce=A.error)!=null&&ce.toLowerCase().includes("cadastrado")||(ke=A.details)!=null&&ke.includes("cadastrado"))&&(S?M("Pode estar em uso."):ge("Pode estar em uso."));let G=A.error||"Falha ao aceitar convite";throw A.details?typeof A.details=="string"?G=A.details:G=JSON.stringify(A.details):G=typeof G=="object"?JSON.stringify(G):String(G),new Error(G)}V?(alert(`Perfil atualizado com sucesso! Novo cargo: ${A.role}`),s("/profile")):(alert("Conta criada com sucesso! Fazendo login..."),(Se=A.user)!=null&&Se.email&&I&&await h(A.user.email,I),s("/feed"))}catch(se){console.error("AcceptInvite Catch Error:",se),typeof se.message=="object"?J(JSON.stringify(se.message)):J(String(se.message||se))}finally{z(!1)}};return l.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark text-[#0c121d] dark:text-white",children:[l.jsxs("header",{className:"flex items-center bg-background-light dark:bg-background-dark p-4 pb-2 justify-between sticky top-0 z-10 border-b border-gray-200 dark:border-gray-800",children:[l.jsx("div",{className:"text-[#0c121d] dark:text-white flex size-12 shrink-0 items-center cursor-pointer",onClick:()=>s(-1),children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios"})}),l.jsx("h2",{className:"text-[#0c121d] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Aceitar Convite"})]}),l.jsxs("main",{className:"flex-1 p-4 flex flex-col gap-6",children:[l.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-gray-900 shadow-[0_4px_12px_rgba(0,0,0,0.05)] border border-gray-100 dark:border-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-cover bg-center border-2 border-primary/20",style:{backgroundImage:`url('${Ce.avatar1}')`}}),l.jsx("div",{className:"flex flex-col flex-1",children:l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-[#0c121d] dark:text-white text-base font-bold leading-tight",children:V?`Ol, ${d==null?void 0:d.name}`:"Voc foi convidado"}),l.jsx("div",{className:"mt-1 flex items-center gap-2",children:l.jsx("span",{className:"bg-primary/10 text-primary text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full",children:V?"Upgrade de Cargo":"Novo Membro"})})]})})})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-800 flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Token do convite"}),l.jsx("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-warning-orange/10 text-warning-orange rounded-lg",children:l.jsx("input",{value:p,onChange:q=>m(q.target.value),placeholder:"Cole seu token aqui",className:"bg-transparent border-none outline-none text-xs font-bold w-full"})})]})]}),ie&&l.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl text-sm font-medium border border-red-200 dark:border-red-800 break-words",children:ie}),l.jsxs("form",{onSubmit:ee,className:"flex flex-col gap-4",children:[!V&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex justify-center mb-2",children:l.jsx($l,{url:R,onUpload:q=>T(q),editable:!0})}),l.jsxs("label",{className:"flex flex-col w-full",children:[l.jsx("p",{className:"text-[#0c121d] dark:text-gray-200 text-sm font-semibold leading-normal pb-2",children:"Nome Completo"}),l.jsx("input",{className:"form-input flex w-full rounded-lg text-[#0c121d] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 h-14 placeholder:text-gray-400 p-[15px] text-base font-normal",placeholder:"Digite seu nome completo",type:"text",value:v,onChange:q=>y(q.target.value),required:!0})]}),l.jsxs("label",{className:"flex flex-col w-full",children:[l.jsx("p",{className:"text-[#0c121d] dark:text-gray-200 text-sm font-semibold leading-normal pb-2",children:"E-mail"}),l.jsxs("div",{className:`flex w-full items-stretch rounded-lg shadow-sm border ${de?"border-red-500 ring-1 ring-red-500":"border-gray-300 dark:border-gray-700"}`,children:[l.jsx("input",{className:"form-input flex w-full rounded-lg rounded-r-none border-none bg-white dark:bg-gray-800 h-14 p-[15px] text-base font-medium text-gray-900 dark:text-white",type:"email",placeholder:"seu@email.com",value:w,onChange:q=>{_(q.target.value),ge(null)},required:!0}),l.jsx("div",{className:"text-gray-400 flex bg-gray-50 dark:bg-gray-800 items-center justify-center pr-[15px] rounded-r-lg",children:l.jsx("span",{className:`material-symbols-outlined text-[20px] ${de?"text-red-500":""}`,children:de?"error":"mail"})})]}),de&&l.jsx("span",{className:"text-red-500 text-xs font-bold mt-1 ml-1",children:de})]}),l.jsxs("label",{className:"flex flex-col w-full",children:[l.jsx("p",{className:"text-[#0c121d] dark:text-gray-200 text-sm font-semibold leading-normal pb-2",children:"Telefone (Opcional)"}),l.jsx("input",{className:`form-input flex w-full rounded-lg text-[#0c121d] dark:text-white focus:outline-0 focus:ring-2 ${Y?"border-red-500 ring-1 ring-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-700 focus:ring-primary/50"} bg-white dark:bg-gray-800 h-14 placeholder:text-gray-400 p-[15px] text-base font-normal`,placeholder:"(11) 99999-9999",type:"tel",value:S,onChange:q=>{C(q.target.value),M(null)}}),Y&&l.jsx("span",{className:"text-red-500 text-xs font-bold mt-1 ml-1",children:Y})]}),l.jsxs("label",{className:"flex flex-col w-full",children:[l.jsx("p",{className:"text-[#0c121d] dark:text-gray-200 text-sm font-semibold leading-normal pb-2",children:"Criar Senha"}),l.jsxs("div",{className:"flex w-full items-stretch rounded-lg",children:[l.jsx("input",{className:"form-input flex w-full rounded-lg text-[#0c121d] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 h-14 placeholder:text-gray-400 p-[15px] rounded-r-none border-r-0 text-base font-normal",placeholder:"",type:"password",value:I,onChange:q=>D(q.target.value),required:!0}),l.jsx("div",{className:"text-primary flex border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 items-center justify-center pr-[15px] rounded-r-lg border-l-0 cursor-pointer",children:l.jsx("span",{className:"material-symbols-outlined text-[22px]",children:"visibility"})})]})]})]}),V&&l.jsxs("div",{className:"p-4 bg-primary/10 rounded-xl text-primary text-sm",children:["Voc est logado como ",l.jsx("strong",{children:d.name}),". Ao aceitar este convite, suas permisses sero atualizadas."]}),l.jsxs("div",{className:"flex items-start gap-3 px-1 mt-2",children:[l.jsx("input",{className:"mt-1 h-5 w-5 rounded border-gray-300 dark:border-gray-700 text-primary focus:ring-primary bg-white dark:bg-gray-800 cursor-pointer",id:"terms",type:"checkbox",required:!0}),l.jsxs("label",{className:"text-sm text-gray-600 dark:text-gray-400 leading-tight",htmlFor:"terms",children:["Eu li e aceito os ",l.jsx("a",{className:"text-primary font-medium underline",href:"#",children:"Termos de Uso"})," e a ",l.jsx("a",{className:"text-primary font-medium underline",href:"#",children:"Poltica de Privacidade"})," da plataforma Observer."]})]}),l.jsx("div",{className:"mt-4",children:l.jsxs("button",{type:"submit",disabled:L,className:"w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 px-6 rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2 disabled:opacity-70",children:[L?l.jsx("span",{className:"material-symbols-outlined animate-spin",children:"progress_activity"}):l.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),V?"Confirmar Upgrade":"Criar conta e aceitar"]})})]}),l.jsx("footer",{className:"mt-auto py-6",children:l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800/50 p-4 rounded-lg flex gap-3 border border-gray-200 dark:border-gray-700",children:[l.jsx("span",{className:"material-symbols-outlined text-gray-400",children:"info"}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed font-medium",children:"Este convite  exclusivo. Se voc no reconhece o remetente, entre em contato com o suporte."})]})})]}),l.jsx("div",{className:"h-8 bg-background-light dark:bg-background-dark"})]})},yh={ALPHA:"A",ALFA:"A",BRAVO:"B",CHARLIE:"C",DELTA:"D",ECHO:"E",FOXTROT:"F",GOLF:"G",HOTEL:"H",INDIA:"I",JULIETT:"J",JULIET:"J",KILO:"K",LIMA:"L",MIKE:"M",NOVEMBER:"N",OSCAR:"O",PAPA:"P",QUEBEC:"Q",ROMEO:"R",SIERRA:"S",TANGO:"T",UNIFORM:"U",VICTOR:"V",WHISKEY:"W",XRAY:"X","X-RAY":"X",YANKEE:"Y",ZULU:"Z",ZERO:"0",ONE:"1",TWO:"2",THREE:"3",FOUR:"4",FIVE:"5",SIX:"6",SEVEN:"7",EIGHT:"8",NINE:"9",THOUSAND:"000",HUNDRED:"00",DASH:"-",DOT:".",POINT:".",DECIMAL:"."},Wv=s=>s?s.toUpperCase().trim().split(/\s+/).map(n=>yh[n]?yh[n]:n).join(""):"",Vv=()=>{const s=et(),{posts:r,user:n,selectedAirport:a,setSelectedAirport:u,favoriteAirports:d,toggleFavorite:h}=wt(),[p,m]=P.useState(!1),[v,y]=P.useState(""),[w,_]=P.useState([]),[S,C]=P.useState(!1),[R,T]=P.useState(!1),I=d==null?void 0:d.some(V=>V.id===a.id);P.useEffect(()=>{const V=setTimeout(async()=>{if(v.length>1){T(!0);const{data:de,error:ge}=await ve.from("airports").select("*").or(`icao.ilike.%${v}%,name.ilike.%${v}%,city.ilike.%${v}%`).limit(10);!ge&&de&&_(de),T(!1)}else _([])},300);return()=>clearTimeout(V)},[v]);const[D,L]=P.useState("");P.useEffect(()=>{const V=()=>{const ge=new Date,Y=ge.getUTCHours().toString().padStart(2,"0"),M=ge.getUTCMinutes().toString().padStart(2,"0");L(`${Y}:${M}Z`)};V();const de=setInterval(V,6e4);return()=>clearInterval(de)},[]);const z=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const V=window.webkitSpeechRecognition||window.SpeechRecognition,de=new V;de.lang="pt-BR",de.continuous=!1,de.interimResults=!1,de.onstart=()=>C(!0),de.onend=()=>C(!1),de.onresult=ge=>{const Y=ge.results[0][0].transcript,M=Wv(Y);y(ee=>ee?ee+" "+M:M)},de.start()}else alert("Voice recognition not supported in this browser.")},ie=V=>{u(V),m(!1),y(""),_([])},J=r.filter(V=>!0);return l.jsxs("div",{className:"relative flex min-h-screen w-full flex-col bg-background-light dark:bg-background-dark",children:[l.jsxs("header",{className:"sticky top-0 z-30 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md px-4 py-3 flex items-center justify-between border-b border-gray-200 dark:border-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white overflow-hidden p-0.5",children:l.jsx("img",{src:"/app-logo.png",alt:"Logo",className:"h-full w-full object-contain"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("h1",{className:"text-lg font-bold leading-tight tracking-tight",children:[a.icao," - ",a.city]}),l.jsx("button",{onClick:()=>h(a),className:`p-1 transition-colors ${I?"text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:l.jsx("span",{className:`material-symbols-outlined !text-[20px] ${I?"fill-1":""}`,children:"star"})})]}),l.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-500 dark:text-gray-400",children:a.name})]})]}),l.jsxs("div",{className:`flex items-center justify-end transition-all duration-300 ${p?"flex-1 ml-4":""}`,children:[p?l.jsxs("div",{className:"relative flex-1",children:[l.jsxs("div",{className:"relative flex items-center",children:[l.jsx("input",{type:"text",value:v,onChange:V=>y(V.target.value),placeholder:"Busque por ICAO, Cidade...",className:"w-full h-9 pl-3 pr-8 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50",autoFocus:!0}),l.jsx("button",{onClick:z,className:`absolute right-2 p-1 rounded-full ${S?"text-red-500 animate-pulse":"text-gray-500"}`,children:l.jsx("span",{className:"material-symbols-outlined !text-[18px]",children:"mic"})})]}),w.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-[#1a2233] rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 max-h-60 overflow-y-auto z-50",children:w.map(V=>l.jsxs("button",{onClick:()=>ie(V),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 border-b border-gray-100 dark:border-gray-800 last:border-0 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-primary block",children:V.icao}),l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:V.city})]}),l.jsx("span",{className:"text-[10px] text-gray-400 max-w-[120px] truncate ml-2",children:V.name})]},V.id))})]}):l.jsx("button",{onClick:()=>m(!0),className:"p-2 text-gray-500 hover:text-primary transition-colors",children:l.jsx("span",{className:"material-symbols-outlined",children:"search"})}),p&&l.jsx("button",{onClick:()=>{m(!1),y(""),_([])},className:"ml-2 p-1 text-gray-500",children:l.jsx("span",{className:"material-symbols-outlined !text-[18px]",children:"close"})})]})]}),l.jsxs("main",{className:"flex-1 pb-32",children:[l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"flex flex-col items-stretch justify-start rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 bg-white dark:bg-[#1a2233] overflow-hidden",children:l.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"flex h-2 w-2 rounded-full bg-red-500 animate-pulse"}),l.jsx("p",{className:"text-[#0c121d] dark:text-white text-sm font-bold uppercase tracking-wider",children:"Resumo Oficial"})]}),l.jsx("p",{className:"text-primary text-sm font-mono font-bold",children:"12:00Z"})]}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsx(hl,{color:"red",icon:"warning",label:"CRITICAL"}),l.jsx(hl,{color:"blue",icon:"air",label:"WIND"}),l.jsx(hl,{color:"gray",icon:"visibility",label:"VIS"})]}),l.jsx("div",{className:"bg-gray-50 dark:bg-background-dark/50 rounded-lg p-3 border border-gray-100 dark:border-gray-800",children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-mono text-xs leading-relaxed break-all",children:"SBCT 241200Z 11012KT 9999 BKN020 22/15 Q1018 NOSIG"})}),l.jsxs("button",{onClick:()=>s(n?"/official":"/onboarding"),className:"flex w-full cursor-pointer items-center justify-center rounded-lg h-10 bg-primary text-white text-sm font-bold gap-2 active:scale-95 transition-transform",children:[l.jsx("span",{className:"truncate",children:"Detalhar Condies"}),l.jsx("span",{className:"material-symbols-outlined !text-[18px]",children:"arrow_forward"})]})]})})}),l.jsxs("div",{className:"flex items-center justify-between px-4 pt-2",children:[l.jsx("h3",{className:"text-[#0c121d] dark:text-white text-lg font-bold tracking-tight",children:"Feed de Atividade"}),l.jsxs("button",{className:"flex items-center gap-1 text-primary text-sm font-medium",children:[l.jsx("span",{className:"material-symbols-outlined !text-[18px]",children:"filter_list"}),"Filtrar"]})]}),l.jsx("div",{className:"flex flex-col gap-4 p-4",children:J.map(V=>l.jsx(qv,{post:V,onClick:()=>s(n?`/detail/${V.id}`:"/onboarding")},V.id))})]}),l.jsx("div",{className:"fixed bottom-[70px] left-0 right-0 z-30 max-w-[480px] mx-auto",children:l.jsxs("div",{className:"bg-white/95 dark:bg-[#1a2233]/95 backdrop-blur-md border-t border-gray-200 dark:border-gray-800 pt-3 pb-6 px-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Timeline Zulu (Histrico / Forecast)"})}),l.jsx("div",{className:"relative h-12 flex items-center overflow-x-auto hide-scrollbar snap-x",children:l.jsxs("div",{className:"flex gap-6 items-end min-w-full px-10",children:[l.jsx(ps,{time:"09Z",height:"h-4",opacity:"opacity-40"}),l.jsx(ps,{time:"10Z",height:"h-4",opacity:"opacity-40"}),l.jsx(ps,{time:"11Z",height:"h-6",opacity:"opacity-60"}),l.jsxs("div",{className:"flex flex-col items-center gap-1 snap-center",children:[l.jsx("div",{className:"h-10 w-[3px] bg-primary rounded-full relative",children:l.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-primary rounded-full border-2 border-white dark:border-[#1a2233]"})}),l.jsx("p",{className:"text-[12px] font-mono font-bold text-primary",children:"12Z"})]}),l.jsx(ps,{time:"13Z",height:"h-6",opacity:"opacity-40"}),l.jsx(ps,{time:"14Z",height:"h-4",opacity:"opacity-20"})]})})]})}),l.jsx("div",{className:"fixed bottom-20 left-0 right-0 z-50 max-w-[480px] mx-auto pointer-events-none flex justify-end px-6",children:l.jsxs("div",{className:"group relative pointer-events-auto flex flex-col items-center",children:[l.jsx("div",{className:"mb-2 font-bold text-primary text-sm whitespace-nowrap bg-white/80 dark:bg-black/80 backdrop-blur-sm px-2 py-0.5 rounded-full shadow-sm",children:D}),l.jsx("button",{onClick:()=>{if((n==null?void 0:n.role)==="registered"){alert("Recurso disponvel apenas para Colaboradores.");return}s(n?"/create":"/onboarding")},className:`flex h-14 w-14 items-center justify-center rounded-full bg-primary text-white shadow-xl hover:bg-blue-600 transition-colors active:scale-90 duration-150 ${(n==null?void 0:n.role)==="registered"?"opacity-40 grayscale cursor-not-allowed":""}`,children:l.jsx("span",{className:"material-symbols-outlined !text-[28px]",children:"photo_camera"})}),(n==null?void 0:n.role)==="registered"&&l.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 text-center z-50 pointer-events-none",children:"Recurso restrito a Colaboradores."})]})})]})},hl=({color:s,icon:r,label:n})=>{const a={red:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300",blue:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",gray:"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"},u={red:"text-red-600 dark:text-red-400",blue:"text-blue-600 dark:text-blue-400",gray:"text-gray-600 dark:text-gray-400"};return l.jsxs("div",{className:`flex h-7 shrink-0 items-center justify-center gap-x-1.5 rounded-lg pl-2 pr-3 ${a[s]}`,children:[l.jsx("span",{className:`material-symbols-outlined !text-[16px] ${u[s]}`,children:r}),l.jsx("p",{className:"text-[11px] font-bold",children:n})]})},ps=({time:s,height:r,opacity:n})=>l.jsxs("div",{className:`flex flex-col items-center gap-1 snap-center ${n}`,children:[l.jsx("div",{className:`${r} w-[2px] bg-gray-400`}),l.jsx("p",{className:"text-[10px] font-mono",children:s})]}),qv=({post:s,onClick:r})=>{var u,d;const n=s.type==="official",a=n?"bg-amber-50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-900/50":"bg-white dark:bg-[#1a2233] border-gray-200 dark:border-gray-800";return l.jsxs("div",{onClick:r,className:`flex flex-col gap-3 p-4 rounded-xl border shadow-sm cursor-pointer ${a}`,children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden ${n?"bg-amber-100 dark:bg-amber-900/40":"bg-gray-100 dark:bg-gray-800"}`,children:n?l.jsx("span",{className:"material-symbols-outlined text-amber-600 dark:text-amber-400",children:"verified_user"}):l.jsx("img",{src:((u=s.user)==null?void 0:u.avatar)||Ce.profileMain,className:"w-full h-full object-cover",alt:""})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("p",{className:"text-[#0c121d] dark:text-white text-sm font-bold",children:((d=s.user)==null?void 0:d.name)||"Desconhecido"}),n&&l.jsx("span",{className:"material-symbols-outlined text-blue-500 !text-[14px] fill-1",children:"verified"})]}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-[11px]",children:[n?"Official Source":s.type==="staff"?"Staff Report":"User Report","  ",s.timestamp]})]})]}),s.category&&l.jsx("span",{className:"px-2 py-0.5 rounded bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-[10px] font-bold uppercase tracking-tight",children:s.category}),n&&l.jsx("span",{className:"px-2 py-0.5 rounded bg-amber-200 dark:bg-amber-900 text-amber-800 dark:text-amber-200 text-[10px] font-bold uppercase tracking-tight",children:"METAR"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[l.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:s.title}),l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 leading-relaxed",children:s.description}),!n&&l.jsxs("div",{className:"flex gap-3 mt-2",children:[l.jsxs("button",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[l.jsx("span",{className:"material-symbols-outlined !text-[16px]",children:"thumb_up"})," ",s.likes]}),l.jsxs("button",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[l.jsx("span",{className:"material-symbols-outlined !text-[16px]",children:"chat_bubble"})," ",s.comments.length]})]})]}),s.image&&l.jsx("div",{className:"w-24 h-24 shrink-0 bg-center bg-cover rounded-lg shadow-sm border border-gray-100 dark:border-gray-700",style:{backgroundImage:`url('${s.image}')`}})]})]})},Hv=()=>{const s=et(),{posts:r}=wt();return l.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-hidden bg-slate-200 dark:bg-slate-900",children:[l.jsx("div",{className:"absolute inset-0 z-0 bg-[#e5e5f7] dark:bg-[#0f1623] opacity-80",style:{backgroundImage:"radial-gradient(#444cf7 0.5px, transparent 0.5px), radial-gradient(#444cf7 0.5px, #e5e5f7 0.5px)",backgroundSize:"20px 20px",backgroundPosition:"0 0, 10px 10px"}}),l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-32 bg-slate-300 dark:bg-slate-800 rotate-45 transform border-y-4 border-slate-400/30"}),l.jsxs("div",{className:"absolute top-1/3 left-1/4 z-0 flex flex-col items-center cursor-pointer animate-bounce",style:{animationDuration:"2s"},children:[l.jsx("div",{className:"bg-primary text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg mb-1 whitespace-nowrap",children:"FOD (Pista)"}),l.jsx("span",{className:"material-symbols-outlined text-primary text-4xl drop-shadow-lg fill-1",children:"location_on"})]}),l.jsxs("div",{className:"absolute bottom-1/3 right-1/4 z-0 flex flex-col items-center cursor-pointer",children:[l.jsx("div",{className:"bg-warning-orange text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-lg mb-1 whitespace-nowrap",children:"Manuteno"}),l.jsx("span",{className:"material-symbols-outlined text-warning-orange text-4xl drop-shadow-lg fill-1",children:"location_on"})]}),l.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 p-4 pt-4 bg-gradient-to-b from-white/80 via-white/40 to-transparent dark:from-black/80 dark:via-black/40",children:[l.jsxs("div",{className:"bg-white dark:bg-card-dark shadow-lg rounded-xl flex items-center p-3 gap-3 border border-slate-200 dark:border-slate-800",children:[l.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"search"}),l.jsx("input",{type:"text",placeholder:"Buscar reporte ou local...",className:"flex-1 bg-transparent outline-none text-slate-800 dark:text-white placeholder:text-slate-400 text-sm font-medium"}),l.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700"}),l.jsx("button",{className:"text-primary font-bold text-xs uppercase tracking-wide",children:"Filtros"})]}),l.jsxs("div",{className:"flex gap-2 mt-3 overflow-x-auto hide-scrollbar pb-2",children:[l.jsx(qi,{icon:"warning",label:"Alertas",active:!0}),l.jsx(qi,{icon:"flight",label:"Aeronaves"}),l.jsx(qi,{icon:"group",label:"Equipes"}),l.jsx(qi,{icon:"cloud",label:"METAR"})]})]}),l.jsx("div",{className:"absolute bottom-24 left-4 right-4 z-20",children:l.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-xl shadow-xl border border-slate-100 dark:border-slate-800 p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-cover bg-center shrink-0",style:{backgroundImage:`url('${Ce.fogRunway}')`}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"font-bold text-slate-900 dark:text-white truncate",children:"Fog forming on Rwy 15"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Reportado h 12m  PR-GUZ"})]}),l.jsx("button",{onClick:()=>s("/detail/2"),className:"h-10 w-10 flex items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800 text-primary",children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})})]})}),l.jsx("button",{className:"absolute bottom-44 right-4 z-20 h-12 w-12 bg-white dark:bg-card-dark rounded-full shadow-lg flex items-center justify-center text-slate-700 dark:text-slate-200 border border-slate-100 dark:border-slate-800 active:scale-90 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined",children:"my_location"})})]})},qi=({icon:s,label:r,active:n})=>l.jsxs("button",{className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold shadow-sm whitespace-nowrap transition-colors ${n?"bg-primary text-white":"bg-white dark:bg-card-dark text-slate-600 dark:text-slate-300"}`,children:[l.jsx("span",{className:"material-symbols-outlined !text-[16px]",children:s}),r]}),Kv=()=>{var G,pe;const s=et(),r=En(),{user:n,selectedAirport:a,addPost:u,updatePost:d}=wt();P.useEffect(()=>{n&&n.role==="registered"&&(alert("Apenas Colaboradores podem criar posts."),s("/feed"))},[n]);const h=(G=r.state)==null?void 0:G.post,p=!!h,[m,v]=P.useState((h==null?void 0:h.description)||""),[y,w]=P.useState((h==null?void 0:h.title)||""),[_,S]=P.useState((h==null?void 0:h.category)||"Outros"),[C,R]=P.useState((h==null?void 0:h.area)||"Pista"),[T,I]=P.useState(!1),[D,L]=P.useState(!1),[z,ie]=P.useState(a),[J,V]=P.useState(""),[de,ge]=P.useState([]),[Y,M]=P.useState(!1),[ee,q]=P.useState(null),[ce,ke]=P.useState(p&&h.media&&((pe=h.media[0])!=null&&pe.storage_path)?ve.storage.from("post-media").getPublicUrl(h.media[0].storage_path).data.publicUrl:Ce.cameraPreview),Se=P.useRef(null),[se,W]=P.useState("");P.useEffect(()=>{const H=()=>{const fe=new Date,we=fe.getUTCHours().toString().padStart(2,"0"),me=fe.getUTCMinutes().toString().padStart(2,"0");W(`${we}:${me}Z`)};H();const ye=setInterval(H,6e4);return()=>clearInterval(ye)},[]),P.useEffect(()=>{p||ie(a)},[a,p]),P.useEffect(()=>{const H=setTimeout(async()=>{if(J.length>1){M(!0);const{data:ye,error:fe}=await ve.from("airports").select("*").or(`icao.ilike.%${J}%,name.ilike.%${J}%`).limit(5);!fe&&ye&&ge(ye),M(!1)}else ge([])},300);return()=>clearTimeout(H)},[J]);const te=H=>{var fe;const ye=(fe=H.target.files)==null?void 0:fe[0];if(ye){q(ye);const we=URL.createObjectURL(ye);ke(we)}},b=()=>{var H;(H=Se.current)==null||H.click()},A=async()=>{if(!m){alert("Por favor, adicione uma descrio.");return}if(!n){alert("Voc precisa estar logado.");return}L(!0);try{let H=null,ye=ce;if(ee){const me=ee.name.split(".").pop(),Le=`${Math.random()}.${me}`,Zt=`${n.id}/${Le}`,{error:br}=await ve.storage.from("post-media").upload(Zt,ee);if(br)throw br;H=Zt;const{data:Ts}=ve.storage.from("post-media").getPublicUrl(Zt);ye=Ts.publicUrl}let fe=null;if(p){const{error:me}=await ve.from("posts").update({airport_id:z.id,area:C,category:_,title:y||`${_} em ${C}`,description:m}).eq("id",h.id);if(me)throw me;if(fe=h.id,H){const{error:Le}=await ve.from("post_media").insert({post_id:fe,storage_path:H,media_type:"image"});if(Le)throw Le}}else{const{data:me,error:Le}=await ve.from("posts").insert({author_auth_uid:n.id,airport_id:z.id,area:C,category:_,title:y||`${_} em ${C}`,description:m,status:"published"}).select().single();if(Le)throw Le;if(!me)throw new Error("No data returned from post insert");if(fe=me.id,H&&fe){const{error:Zt}=await ve.from("post_media").insert({post_id:fe,storage_path:H,media_type:"image"});if(Zt)throw Zt}}const we={id:fe,type:"collaborative",user:{id:n.id,name:n.callsign||n.name||"Usurio",avatar:n.avatar||Ce.profileMain,role:n.role||"registered"},category:_,title:y||`${_} em ${C}`,description:m,image:ye,timestamp:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})+"Z",likes:0,comments:[]};p?d(we):u(we),I(!0),setTimeout(()=>{s(-1)},1500)}catch(H){console.error("Error submitting post:",H),alert("Erro ao enviar: "+H.message)}finally{L(!1)}};return l.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 min-h-screen flex flex-col",children:[l.jsxs("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800",children:[l.jsxs("div",{className:"flex items-center p-4 justify-between max-w-md mx-auto w-full",children:[l.jsx("div",{className:"w-12 flex items-center cursor-pointer",onClick:()=>s(-1),children:l.jsx("span",{className:"material-symbols-outlined text-slate-900 dark:text-white",children:"close"})}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h2",{className:"text-lg font-bold leading-tight tracking-tight",children:p?"Editar Observao":"Criar Observao"}),l.jsx("span",{className:"text-xs font-mono text-primary font-bold",children:se})]}),l.jsx("div",{className:"flex w-12 items-center justify-end",children:l.jsx("button",{className:"text-primary text-base font-semibold",onClick:()=>s(-1),children:"Cancelar"})})]}),l.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 h-1",children:l.jsx("div",{className:"bg-primary h-1 w-3/4 transition-all duration-500"})})]}),l.jsxs("main",{className:"flex-1 w-full max-w-md mx-auto pb-32",children:[l.jsxs("div",{className:"relative aspect-[4/3] bg-black overflow-hidden group",children:[l.jsx("img",{className:"w-full h-full object-cover opacity-90",src:ce,alt:"Camera View"}),l.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:Se,onChange:te,className:"hidden"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-6",children:l.jsxs("div",{className:"flex items-center justify-center gap-8",children:[l.jsx("button",{onClick:b,className:"flex shrink-0 items-center justify-center rounded-full size-12 bg-white/20 backdrop-blur-md text-white border border-white/30 active:scale-95 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined",children:"image"})}),l.jsx("button",{onClick:b,className:"flex shrink-0 items-center justify-center rounded-full size-20 bg-white text-primary shadow-xl active:scale-90 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined !text-4xl fill-1",children:"photo_camera"})}),l.jsx("button",{onClick:()=>ke(Ce.cameraPreview),className:"flex shrink-0 items-center justify-center rounded-full size-12 bg-white/20 backdrop-blur-md text-white border border-white/30 active:scale-95 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})})]}),l.jsxs("div",{className:"px-4 py-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col gap-2 relative",children:[l.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 px-1",children:"Aeroporto (ICAO)"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:"flight_takeoff"}),l.jsx("input",{className:"w-full pl-12 pr-4 py-4 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-primary focus:border-transparent text-lg font-semibold uppercase placeholder-slate-300",placeholder:z.icao,value:J,onChange:H=>V(H.target.value.toUpperCase()),onFocus:()=>ge([])}),!J&&l.jsx("span",{className:"absolute left-12 top-1/2 -translate-y-1/2 text-lg font-bold pointer-events-none text-slate-900 dark:text-white",children:z.icao})]}),de.length>0&&l.jsx("div",{className:"absolute top-20 left-0 right-0 z-20 bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:de.map(H=>l.jsxs("div",{onClick:()=>{ie(H),V(""),ge([])},className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 flex justify-between items-center cursor-pointer border-b border-slate-100 dark:border-slate-800 last:border-0",children:[l.jsx("span",{className:"font-bold",children:H.icao}),l.jsx("span",{className:"text-xs text-slate-500 truncate max-w-[150px]",children:H.city})]},H.id))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 px-1",children:"rea e Categoria"}),l.jsx("div",{className:"flex h-12 items-center justify-center rounded-xl bg-slate-200 dark:bg-slate-800 p-1",children:["Pista","Ptio","Taxiway"].map(H=>l.jsxs("label",{className:"flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-lg px-2 has-[:checked]:bg-white dark:has-[:checked]:bg-slate-700 has-[:checked]:shadow-sm text-slate-600 dark:text-slate-400 has-[:checked]:text-primary font-bold text-sm transition-all",children:[l.jsx("span",{className:"truncate",children:H}),l.jsx("input",{className:"hidden",name:"area-picker",type:"radio",checked:C===H,onChange:()=>R(H)})]},H))}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Hi,{icon:"warning",label:"FOD",active:_==="FOD",onClick:()=>S("FOD")}),l.jsx(Hi,{icon:"build",label:"Manuteno",active:_==="Manuteno",onClick:()=>S("Manuteno")}),l.jsx(Hi,{icon:"lightbulb",label:"Sinalizao",active:_==="Sinalizao",onClick:()=>S("Sinalizao")}),l.jsx(Hi,{icon:"more_horiz",label:"Outros",active:_==="Outros",onClick:()=>S("Outros")})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 px-1",children:"Ttulo"}),l.jsx("input",{type:"text",className:"w-full pl-4 pr-4 py-3 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-primary focus:border-transparent text-base font-medium placeholder-slate-300",placeholder:"Ex: Buraco na pista, Iluminao falha...",value:y,onChange:H=>w(H.target.value),maxLength:40})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex justify-between px-1",children:[l.jsx("label",{className:"text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Descrio"}),l.jsxs("span",{className:"text-xs text-slate-400",children:[m.length," / 140"]})]}),l.jsx("textarea",{className:"w-full p-4 rounded-xl border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-primary focus:border-transparent text-base",placeholder:"Descreva o que voc est observando...",rows:3,value:m,onChange:H=>v(H.target.value),maxLength:140})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold",children:"Incluir Geotag"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Coordenadas GPS automticas"})]})]}),l.jsxs("div",{className:"relative inline-block w-11 h-6 transition duration-200 ease-in-out rounded-full cursor-pointer",children:[l.jsx("input",{defaultChecked:!0,className:"sr-only ios-toggle",id:"toggle",type:"checkbox"}),l.jsx("label",{className:"ios-toggle-label absolute top-0 left-0 w-11 h-6 bg-slate-300 dark:bg-slate-700 rounded-full cursor-pointer transition-colors duration-200 after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all",htmlFor:"toggle"})]})]})]})]}),l.jsx("div",{className:"fixed bottom-0 max-w-[480px] w-full p-4 bg-white/90 dark:bg-background-dark/90 backdrop-blur-xl border-t border-slate-200 dark:border-slate-800 z-40",children:l.jsx("button",{onClick:A,disabled:D,className:`w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/25 active:scale-[0.98] transition-all flex items-center justify-center gap-2 ${D?"opacity-70 cursor-wait":""}`,children:D?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"material-symbols-outlined animate-spin",children:"refresh"}),"Enviando..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"material-symbols-outlined",children:p?"save":"send"}),p?"Atualizar Observao":"Enviar Observao"]})})}),T&&l.jsx("div",{className:"fixed bottom-24 left-4 right-4 z-50 flex justify-center pointer-events-none",children:l.jsxs("div",{className:"bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 max-w-sm pointer-events-auto animate-bounce",children:[l.jsx("span",{className:"material-symbols-outlined text-green-400",children:"check_circle"}),l.jsxs("span",{className:"text-sm font-medium flex-1",children:["Observao ",p?"atualizada":"enviada"," com sucesso"]})]})})]})},Hi=({icon:s,label:r,active:n,onClick:a})=>l.jsxs("button",{onClick:a,className:`p-4 rounded-xl border-2 font-bold flex flex-col items-center gap-2 ${n?"border-primary bg-primary/10 text-primary":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-300"}`,children:[l.jsx("span",{className:"material-symbols-outlined",children:s}),r]}),Gv=()=>{const{id:s}=Lm(),r=et(),{posts:n,addComment:a}=wt(),[u,d]=P.useState(""),h=n.find(m=>m.id===s);if(!h)return l.jsx("div",{children:"Post not found"});const p=()=>{u.trim()&&(a(h.id,u),d(""))};return l.jsxs("div",{className:"relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden pb-20",children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center p-4 justify-between bg-gradient-to-b from-black/50 to-transparent",children:[l.jsx("div",{onClick:()=>r(-1),className:"text-white flex size-10 shrink-0 items-center justify-center rounded-full bg-black/20 backdrop-blur-md cursor-pointer",children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios_new"})}),l.jsx("h2",{className:"text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 ml-4",children:"Detalhe"}),l.jsx("div",{className:"flex items-center justify-end",children:l.jsx("button",{className:"text-white text-sm font-bold bg-red-500/80 hover:bg-red-600 px-4 py-1.5 rounded-full transition-colors",children:"Reportar"})})]}),l.jsx("div",{className:"w-full",children:l.jsx("div",{className:"w-full bg-center bg-no-repeat bg-cover flex flex-col justify-end min-h-[320px] shadow-lg",style:{backgroundImage:`url('${h.image||Ce.planeDetail}')`}})}),l.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-[#1a212e] px-4 py-4 border-b border-gray-100 dark:border-gray-800",children:[l.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-12 w-12 border-2 border-primary",style:{backgroundImage:`url('${h.user.avatar||Ce.avatar1}')`}}),l.jsxs("div",{className:"flex flex-col justify-center flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"text-[#0c121d] dark:text-white text-base font-bold leading-tight",children:h.user.name}),l.jsx("span",{className:"bg-primary/10 text-primary text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider",children:"Colaborative"})]}),l.jsx("p",{className:"text-[#4567a1] dark:text-gray-400 text-xs font-medium mt-1 uppercase",children:"14:20 UTC  5.2nm away"})]}),l.jsx("div",{className:"shrink-0",children:l.jsx("div",{className:"flex size-8 items-center justify-center bg-success/10 rounded-full",children:l.jsx("span",{className:"material-symbols-outlined text-success text-xl",children:"verified"})})})]}),l.jsx("div",{className:"bg-white dark:bg-[#1a212e] px-4 py-4",children:l.jsx("p",{className:"text-[#0c121d] dark:text-gray-200 text-lg font-medium leading-relaxed",children:h.description})}),l.jsxs("div",{className:"flex flex-col px-4 py-4 bg-white dark:bg-[#1a212e] gap-4",children:[l.jsxs("button",{className:"flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-xl h-14 px-5 bg-success text-white gap-3 shadow-lg shadow-success/20 active:scale-95 transition-transform",children:[l.jsx("span",{className:"material-symbols-outlined text-2xl",children:"check_circle"}),l.jsx("span",{className:"text-base font-bold tracking-tight",children:"Confirmar Validade"})]}),l.jsxs("div",{className:"flex items-center gap-3 py-1",children:[l.jsxs("div",{className:"flex -space-x-3 overflow-hidden",children:[l.jsx("div",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-[#1a212e] bg-cover bg-center",style:{backgroundImage:`url('${Ce.reviewer1}')`}}),l.jsx("div",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-[#1a212e] bg-cover bg-center",style:{backgroundImage:`url('${Ce.reviewer2}')`}}),l.jsx("div",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-[#1a212e] bg-cover bg-center",style:{backgroundImage:`url('${Ce.reviewer3}')`}}),l.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full ring-2 ring-white dark:ring-[#1a212e] bg-gray-200 dark:bg-gray-700",children:l.jsx("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-300",children:"+12"})})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Outros pilotos confirmaram esta condio"})]})]}),l.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-900"}),l.jsxs("div",{className:"flex flex-col bg-white dark:bg-[#1a212e] flex-1 pb-24",children:[l.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800",children:l.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400",children:"Comentrios"})}),h.comments.map((m,v)=>l.jsxs("div",{className:"flex gap-3 p-4 border-b border-gray-50 dark:border-gray-800/50",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-cover bg-center shrink-0",style:{backgroundImage:`url('${m.user.avatar}')`}}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-bold",children:m.user.name}),l.jsx("span",{className:"text-[10px] text-gray-400",children:m.timestamp})]}),l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:m.text})]})]},v))]}),l.jsxs("div",{className:"fixed bottom-0 max-w-[480px] w-full p-3 bg-white/90 dark:bg-background-dark/90 backdrop-blur-xl border-t border-gray-200 dark:border-gray-800 flex items-center gap-3 z-20",children:[l.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-800 rounded-full px-4 py-2.5 flex items-center gap-2",children:l.jsx("input",{className:"bg-transparent border-none focus:ring-0 text-sm w-full outline-none text-[#0c121d] dark:text-white placeholder:text-gray-500",placeholder:"Adicionar comentrio...",type:"text",value:u,onChange:m=>d(m.target.value),onKeyDown:m=>m.key==="Enter"&&p()})}),l.jsx("button",{onClick:p,className:"bg-primary text-white p-2.5 rounded-full flex items-center justify-center shadow-md shadow-primary/30",children:l.jsx("span",{className:"material-symbols-outlined text-xl",children:"send"})})]})]})},Jv=()=>{const s=et();return l.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark",children:[l.jsxs("div",{className:"fixed max-w-[480px] mx-auto inset-x-0 top-0 z-50 bg-background-light dark:bg-background-dark shadow-sm",children:[l.jsx("div",{className:"flex h-5 w-full items-center justify-center",children:l.jsx("div",{className:"h-1 w-9 rounded-full bg-[#cdd7ea] dark:bg-gray-700"})}),l.jsxs("div",{className:"flex items-center p-4 pb-2 justify-between",children:[l.jsx("div",{className:"flex size-12 shrink-0 items-center",children:l.jsx("span",{className:"material-symbols-outlined cursor-pointer",onClick:()=>s(-1),children:"close"})}),l.jsxs("div",{className:"flex flex-col items-center flex-1",children:[l.jsx("h2",{className:"text-lg font-bold leading-tight tracking-tight",children:"SBCT - Curitiba"}),l.jsx("span",{className:"text-xs text-[#4567a1] dark:text-gray-400 font-medium",children:"Ref: 14:22Z"})]}),l.jsx("div",{className:"flex w-12 items-center justify-end",children:l.jsx("button",{className:"flex items-center justify-center p-0 bg-transparent",children:l.jsx("span",{className:"material-symbols-outlined text-primary",children:"share"})})})]})]}),l.jsxs("main",{className:"mt-20 px-0 pb-32",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h3",{className:"text-lg font-bold leading-tight tracking-tight px-4 pb-2 pt-4",children:"METAR Decodificado (14:00Z)"}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 p-4",children:[l.jsx(ms,{icon:"air",value:"110 @ 08kt",label:"Vento"}),l.jsx(ms,{icon:"visibility",value:"10km+",label:"Visibilidade"}),l.jsx(ms,{icon:"cloud",value:"SCT 020",label:"Nuvens (BKN 080)"}),l.jsx(ms,{icon:"thermostat",value:"21 / 14C",label:"Temp / Orvalho"}),l.jsx(ms,{icon:"speed",value:"1018 hPa",label:"QNH / Altmetro"})]})]}),l.jsxs("div",{className:"flex flex-col mt-2",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 pb-2 pt-4",children:[l.jsx("h3",{className:"text-lg font-bold leading-tight tracking-tight",children:"NOTAMs Ativos"}),l.jsx("span",{className:"bg-gray-200 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",children:"3 Mensagens"})]}),l.jsxs("div",{className:"flex flex-col gap-3 px-4 py-2",children:[l.jsx(fl,{color:"red",type:"Crtico / Fechamento",title:"RWY 15/33 CLSD FOR MAINT",body:"A0412/24 - RWY 15/33 CLOSED DUE TO SCHEDULED MAINTENANCE WORKS. NO ARR/DEP PERMITTED.",badges:["F: 22/OCT 10:00","T: 22/OCT 14:00"]}),l.jsx(fl,{color:"amber",type:"Aviso / Equipamento",title:"PAPI RWY 15 U/S",body:"A0405/24 - PRECISION APPROACH PATH INDICATOR RWY 15 UNSTABLE. PILOTS EXERCISE CAUTION.",badges:["UFN (Until Further Notice)"]}),l.jsx(fl,{color:"gray",type:"Informativo",title:"GRASS CUTTING NEAR TWY A",body:"A0399/24 - GRASS CUTTING OPERATIONS IN PROGRESS NEAR TAXIWAY ALPHA. CAUTION ADVISED."})]})]})]}),l.jsx("div",{className:"fixed max-w-[480px] mx-auto bottom-0 inset-x-0 bg-background-light dark:bg-background-dark border-t border-[#cdd7ea] dark:border-gray-800 p-4 pb-8 safe-area-inset-bottom",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("button",{className:"w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-xl shadow-lg transition-all active:scale-[0.98]",children:"Confirmar Dados Oficiais"}),l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsxs("p",{className:"text-[10px] text-gray-500 italic flex items-center gap-1",children:[l.jsx("span",{className:"material-symbols-outlined text-[12px] text-green-500",children:"verified_user"}),"Assinatura digital validada via servidor oficial (EGP)."]}),l.jsx("p",{className:"text-[9px] text-gray-400 uppercase tracking-tighter",children:"Logged by User: OBS-PR-9928 | Timestamp: 2023-10-22 14:23:45Z"})]})]})})]})},ms=({icon:s,value:r,label:n})=>l.jsxs("div",{className:"flex flex-1 gap-3 rounded-xl border border-[#cdd7ea] dark:border-gray-800 bg-white dark:bg-background-dark/50 p-4 flex-col",children:[l.jsx("span",{className:"material-symbols-outlined text-primary",children:s}),l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("h2",{className:"text-base font-bold leading-tight",children:r}),l.jsx("p",{className:"text-[#4567a1] dark:text-gray-400 text-xs font-normal",children:n})]})]}),fl=({color:s,type:r,title:n,body:a,badges:u})=>{const d={red:{bar:"bg-red-500",text:"text-red-600"},amber:{bar:"bg-amber-500",text:"text-amber-600"},gray:{bar:"bg-gray-400",text:"text-gray-500"}};return l.jsxs("div",{className:"relative flex flex-col gap-2 rounded-xl border border-[#cdd7ea] dark:border-gray-800 bg-white dark:bg-background-dark/50 p-4 overflow-hidden",children:[l.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${d[s].bar}`}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${d[s].text}`,children:r}),l.jsxs("button",{className:"flex items-center gap-1 text-xs text-primary font-semibold",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"star"})," Relevante"]})]}),l.jsx("h4",{className:"font-bold text-sm",children:n}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-normal",children:a}),u&&l.jsx("div",{className:"flex items-center gap-2 mt-1",children:u.map((h,p)=>l.jsx("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-gray-500",children:h},p))})]})},Qv=()=>{const s=et(),[r,n]=P.useState([]),[a,u]=P.useState(""),[d,h]=P.useState("Contributor"),[p,m]=P.useState(!1),[v,y]=P.useState(null),[w,_]=P.useState(null),[S,C]=P.useState(!1),[R,T]=P.useState(null);P.useEffect(()=>{D()},[]);const I=async Y=>{if(!Y||Y.length<5)return;T(null);const M=Y.includes("@"),{data:ee}=await ve.from("user_profiles").select("id").eq(M?"email":"phone",Y).maybeSingle();if(ee){T("Usurio j cadastrado!");return}const{data:q}=await ve.from("invites").select("id").eq("revoked",!1).gt("uses_left",0).gt("expires_at",new Date().toISOString()).eq(M?"invited_email":"invited_phone",Y).maybeSingle();if(q){T("Convite j enviado e ativo!");return}},D=async()=>{const{data:Y,error:M}=await ve.from("invites").select("*").order("created_at",{ascending:!1});M?(console.error("Error fetching invites:",M),y(`Erro ao carregar convites: ${M.message}`)):n(Y||[])},L=async()=>{if(!(!a||R)){m(!0),y(null),_(null),T(null);try{const{data:{session:Y}}=await ve.auth.getSession();if(!Y)throw new Error("Not authenticated");const M=a.includes("@"),ee={role_id:d.toLowerCase(),expires_in_seconds:86400*2};M?ee.invited_email=a:ee.invited_phone=a.replace(/\D/g,"");const q=await fetch("https://cigxkvwijmmxjllqqgmh.supabase.co/functions/v1/generateInvite",{method:"POST",headers:{Authorization:`Bearer ${Y.access_token}`,"Content-Type":"application/json"},body:JSON.stringify(ee)}),ce=await q.json();if(!q.ok)throw new Error(ce.error||"Falha ao criar convite");await D(),u("");let ke=`${window.location.origin}/#/accept-invite?token=${ce.token}`;M?ke+=`&email=${encodeURIComponent(a)}`:ke+=`&phone=${encodeURIComponent(a)}`,_(ke)}catch(Y){y(Y.message)}finally{m(!1)}}},z=async Y=>{const{error:M}=await ve.from("invites").delete().eq("id",Y);M||D()},ie=()=>{w&&(navigator.clipboard.writeText(w),C(!0),setTimeout(()=>C(!1),2e3))},[J,V]=P.useState(null),de=Y=>{let M=`${window.location.origin}/#/accept-invite?token=${Y.token}`;return Y.invited_email?M+=`&email=${encodeURIComponent(Y.invited_email)}`:Y.invited_phone&&(M+=`&phone=${encodeURIComponent(Y.invited_phone)}`),M},ge=Y=>{const M=de(Y);navigator.clipboard.writeText(M),V(Y.id),setTimeout(()=>V(null),2e3)};return l.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen pb-24",children:[l.jsx("header",{className:"sticky top-0 z-30 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800",children:l.jsxs("div",{className:"flex items-center justify-between px-4 h-16",children:[l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>s(-1),children:[l.jsx("span",{className:"material-symbols-outlined text-primary",children:"arrow_back_ios"}),l.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Gerenciar Convites"})]}),l.jsxs("button",{className:"flex items-center gap-1 text-primary font-semibold text-sm",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"history_edu"}),"Logs"]})]})}),l.jsxs("main",{className:"max-w-md mx-auto",children:[l.jsxs("section",{className:"p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:"Novo Convite"})}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800",children:[v&&l.jsx("p",{className:"text-red-500 text-sm mb-2",children:v}),w?l.jsx("div",{className:"flex flex-col gap-4 animate-in fade-in slide-in-from-bottom-4 duration-300",children:l.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-3",children:l.jsx("span",{className:"material-symbols-outlined text-green-600 text-3xl",children:"check"})}),l.jsx("h4",{className:"text-lg font-bold",children:"Convite Gerado!"}),l.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Envie este link para o ",d==="Moderator"?"moderador":"colaborador"]}),l.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 p-3 rounded-lg flex items-center gap-2 mb-2",children:l.jsx("p",{className:"text-xs font-mono truncate flex-1 text-slate-600 dark:text-slate-300",children:w})}),l.jsxs("div",{className:"flex w-full gap-2",children:[l.jsxs("button",{onClick:ie,className:`flex-1 h-12 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${S?"bg-green-500 text-white":"bg-primary text-white"}`,children:[l.jsx("span",{className:"material-symbols-outlined",children:S?"check":"content_copy"}),S?"Copiado!":"Copiar Link"]}),l.jsx("button",{onClick:()=>window.open(`https://wa.me/?text=${encodeURIComponent(`Aqui est seu convite para o Observer: ${w}`)}`,"_blank"),className:"h-12 w-12 rounded-xl bg-[#25D366] text-white flex items-center justify-center shadow-sm hover:scale-105 transition-transform",children:l.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",className:"w-6 h-6 contrast-200 brightness-200",alt:"WA"})})]}),l.jsx("button",{onClick:()=>_(null),className:"mt-4 text-sm text-gray-500 font-medium hover:text-gray-700 dark:hover:text-gray-300 underline",children:"Gerar outro convite"})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-1",children:"Contato (E-mail ou Telefone)"}),l.jsx("input",{className:`w-full h-12 rounded-lg border ${R?"border-red-500 focus:ring-red-500":"border-slate-200 dark:border-slate-700 focus:ring-primary"} bg-slate-50 dark:bg-slate-800 px-4 text-sm focus:ring-2 outline-none transition-all`,placeholder:"email@exemplo.com ou (11) 99999-9999",type:"text",value:a,onChange:Y=>{u(Y.target.value),_(null),T(null)},onBlur:Y=>I(Y.target.value)}),R&&l.jsx("p",{className:"text-red-500 text-xs font-bold mt-1 ml-1",children:R})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Cargo"}),l.jsxs("div",{className:"flex h-11 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>h("Contributor"),className:`flex-1 rounded-md text-sm font-semibold transition-all ${d==="Contributor"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"Contributor"}),l.jsx("button",{onClick:()=>h("Moderator"),className:`flex-1 rounded-md text-sm font-semibold transition-all ${d==="Moderator"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:"Moderator"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 mb-2",children:"Expirao"}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 hide-scrollbar",children:l.jsx("button",{className:"shrink-0 px-4 py-2 rounded-full border border-primary bg-primary/10 text-primary text-xs font-bold",children:"48 HORAS"})})]}),l.jsxs("button",{onClick:L,disabled:p||!a||!!R,className:"w-full bg-primary hover:bg-blue-600 text-white font-bold py-3.5 rounded-xl transition-colors shadow-lg shadow-primary/20 flex items-center justify-center gap-2 disabled:opacity-50",children:[p?l.jsx("span",{className:"material-symbols-outlined animate-spin",children:"progress_activity"}):l.jsx("span",{className:"material-symbols-outlined text-lg",children:"link"}),p?"Gerando...":"Gerar Link de Convite"]})]})]})]}),l.jsxs("section",{className:"mt-4 px-4",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Convites Ativos"}),l.jsx("div",{className:"space-y-3",children:r.map(Y=>{const M=new Date(Y.expires_at)<new Date,ee=Y.revoked,q=Y.uses_left<=0;let ce="active";ee?ce="revoked":M?ce="expired":q&&(ce="used");const ke={active:"Ativo",revoked:"Revogado",expired:"Expirado",used:"Esgotado"}[ce],Se={active:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",revoked:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",expired:"bg-slate-200 dark:bg-slate-800 text-slate-500 dark:text-slate-400",used:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}[ce];return l.jsxs("div",{className:`rounded-xl p-4 border flex items-center justify-between ${ce!=="active"?"bg-white/60 dark:bg-slate-900/60 border-slate-100 dark:border-slate-800 opacity-80":"bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"}`,children:[l.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"truncate font-semibold text-sm text-slate-900 dark:text-slate-100",children:Y.invited_email||Y.invited_phone||"Sem contato"}),l.jsx("span",{className:`shrink-0 px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${Se}`,children:ke})]}),l.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Expira: ",new Date(Y.expires_at).toLocaleDateString()," ",new Date(Y.expires_at).toLocaleTimeString()]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[ce==="active"&&Y.token&&l.jsxs("button",{onClick:()=>ge(Y),className:`px-3 py-1.5 rounded-lg border text-xs font-bold transition-colors flex items-center gap-1 ${J===Y.id?"bg-green-100 text-green-700 border-green-200":"bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[J===Y.id?l.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"check"}):l.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"content_copy"}),J===Y.id?"Copiado":"Copiar"]}),ce==="active"&&!Y.token&&l.jsx("span",{className:"text-gray-400 text-[10px] italic pr-2",title:"Convites antigos no possuem token salvo",children:"Sem token"}),ce==="active"?l.jsx("button",{onClick:()=>z(Y.id),className:"px-3 py-1.5 rounded-lg border border-red-100 dark:border-red-900/30 text-red-500 text-xs font-bold hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Revogar"}):l.jsx("button",{className:"px-3 py-1.5 rounded-lg text-slate-400 text-xs font-bold pointer-events-none",children:"Inativo"})]})]},Y.id)})})]})]})]})},Yv=()=>{const{reports:s,resolveReport:r,user:n}=wt();return!n||n.role==="contributor"||n.role==="registered"?l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center text-slate-500",children:[l.jsx("span",{className:"material-symbols-outlined text-4xl mb-2",children:"lock"}),l.jsx("p",{className:"font-bold",children:"Acesso Restrito"}),l.jsx("p",{className:"text-sm",children:"Apenas Moderadores e Admins podem acessar esta rea."})]}):l.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 min-h-screen flex flex-col",children:[l.jsxs("header",{className:"sticky top-0 z-30 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 h-16",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-primary",children:"shield_person"}),l.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Fila de Reports"})]}),l.jsx("button",{className:"text-primary text-sm font-semibold px-3 py-1 rounded-full hover:bg-primary/10 transition-colors",children:"Editar"})]}),l.jsx("div",{className:"px-4",children:l.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-800 justify-between",children:[l.jsx(pl,{label:"Todos",active:!0}),l.jsx(pl,{label:"Prioridade",dotColor:"bg-danger"}),l.jsx(pl,{label:"Resolvidos"})]})})]}),l.jsxs("main",{className:"flex-1 pb-32",children:[l.jsxs("div",{className:"flex flex-col gap-px bg-slate-200 dark:bg-slate-800",children:[s.length===0&&l.jsx("div",{className:"p-10 text-center text-slate-500",children:"Tudo limpo!"}),s.map(a=>l.jsxs("div",{className:"bg-card-light dark:bg-card-dark px-4 py-4 flex flex-col gap-3 group",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex size-6 mt-1 items-center justify-center",children:l.jsx("input",{className:"h-5 w-5 rounded border-slate-300 dark:border-slate-600 border-2 bg-transparent text-primary checked:bg-primary focus:ring-0 focus:ring-offset-0 transition-all cursor-pointer",type:"checkbox"})}),l.jsx("div",{className:"size-16 rounded-lg overflow-hidden shrink-0 border border-slate-200 dark:border-slate-700",children:l.jsx("img",{className:"w-full h-full object-cover",src:a.image,alt:"Report evidence"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded ${a.tagColor}`,children:a.tag}),l.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-xs",children:a.timeAgo})]}),l.jsx("p",{className:"text-slate-900 dark:text-slate-100 font-semibold text-sm line-clamp-1",children:a.title}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs mt-0.5",children:a.subtitle})]})]}),l.jsxs("div",{className:"flex gap-2 pl-9",children:[l.jsx("button",{onClick:()=>r(a.id),className:"flex-1 h-9 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 text-xs font-bold transition-active active:scale-95 border border-slate-200 dark:border-slate-700",children:"Ignorar"}),l.jsx("button",{onClick:()=>r(a.id),className:"flex-1 h-9 rounded-lg bg-danger/10 text-danger text-xs font-bold transition-active active:scale-95 border border-danger/20",children:"Remover post"})]})]},a.id))]}),l.jsx("div",{className:"fixed bottom-24 right-4 z-20",children:l.jsx("button",{className:"size-14 rounded-full bg-primary text-white shadow-xl shadow-primary/30 flex items-center justify-center active:scale-90 transition-transform",children:l.jsx("span",{className:"material-symbols-outlined",children:"refresh"})})})]})]})},pl=({label:s,active:r,dotColor:n})=>l.jsx("a",{href:"#",className:`flex flex-col items-center justify-center border-b-[3px] pb-[10px] pt-2 flex-1 ${r?"border-primary text-slate-900 dark:text-white":"border-transparent text-slate-500 dark:text-slate-400"}`,children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("p",{className:"text-sm font-bold tracking-wide",children:s}),n&&l.jsx("span",{className:`size-2 rounded-full ${n}`})]})}),Zv=()=>{const s=et(),{user:r,signOut:n,favoriteAirports:a,toggleFavorite:u,setSelectedAirport:d}=wt(),[h,p]=P.useState(!1),[m,v]=P.useState(""),[y,w]=P.useState(""),[_,S]=P.useState(""),[C,R]=P.useState(!1);P.useEffect(()=>{r&&(v(r.name),w(r.callsign||""),S(r.phone||""),T())},[r]);const T=async()=>{if(r)try{const{data:z,error:ie}=await ve.from("user_profiles").select("*").eq("auth_uid",r.id).single();if(ie){console.error("Error fetching latest profile:",ie);return}z&&(v(z.full_name||""),w(z.callsign||""),S(z.phone||""))}catch(z){console.error("Exception fetching profile:",z)}},I=async()=>{await n(),s("/login")},D=async z=>{if(r)try{const{error:ie}=await ve.from("user_profiles").upsert({auth_uid:r.id,avatar_url:z,updated_at:new Date},{onConflict:"auth_uid",ignoreDuplicates:!1});if(ie)throw ie;alert("Avatar atualizado! Recarregue para ver em todo o app.")}catch(ie){alert("Erro ao atualizar avatar: "+ie.message)}},L=async()=>{if(r){R(!0);try{const{error:z}=await ve.from("user_profiles").upsert({auth_uid:r.id,full_name:m,callsign:y,phone:_,updated_at:new Date},{onConflict:"auth_uid"});if(z)throw z;alert("Perfil atualizado com sucesso!"),p(!1),window.location.reload()}catch(z){alert("Erro ao salvar perfil: "+z.message)}finally{R(!1)}}};return r?l.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen",children:[l.jsxs("header",{className:"sticky top-0 z-10 flex items-center bg-background-light dark:bg-background-dark p-4 pb-2 border-b border-slate-200 dark:border-slate-800",children:[l.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center cursor-pointer",onClick:()=>s(-1),children:l.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back_ios"})}),l.jsx("h1",{className:"text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-10",children:"Perfil e Ajustes"}),h?l.jsx("button",{onClick:L,disabled:C,className:"text-primary font-bold text-sm",children:C?"...":"Salvar"}):l.jsx("button",{onClick:()=>p(!0),className:"text-primary font-bold text-sm",children:"Editar"})]}),l.jsxs("main",{className:"max-w-md mx-auto pb-10",children:[l.jsx("section",{className:"flex p-6 @container",children:l.jsxs("div",{className:"flex w-full flex-col gap-6 items-center",children:[l.jsxs("div",{className:"flex gap-4 flex-col items-center",children:[l.jsx($l,{url:r.avatar,onUpload:D,editable:!0}),l.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-2",children:[h?l.jsx("input",{className:"text-primary font-medium text-base text-center bg-gray-100 dark:bg-gray-800 rounded px-2 w-full max-w-[150px]",value:y,onChange:z=>w(z.target.value),placeholder:"Callsign (Ex: PT-ABC)"}):l.jsx("p",{className:"text-primary font-bold text-lg leading-normal text-center",children:r.callsign||"Sem Callsign"}),l.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[l.jsx("span",{className:"material-symbols-outlined text-slate-400 text-sm",children:"badge"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-normal leading-normal text-center uppercase",children:r.role})]})]})]}),l.jsxs("div",{className:"w-full bg-white dark:bg-slate-900 rounded-xl p-4 flex flex-col gap-3 shadow-sm border border-slate-100 dark:border-slate-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"person"}),l.jsxs("div",{className:"flex flex-col w-full",children:[l.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase",children:"Nome Completo"}),h?l.jsx("input",{className:"text-sm font-medium bg-gray-100 dark:bg-gray-800 rounded px-1 w-full",value:m,onChange:z=>v(z.target.value),placeholder:"Nome Completo"}):l.jsx("span",{className:"text-sm font-medium",children:r.name})]})]}),l.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-slate-100 dark:border-slate-800",children:[l.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"mail"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase",children:"E-mail"}),l.jsx("span",{className:"text-sm font-medium",children:r.email||"No informado"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 pt-3 border-t border-slate-100 dark:border-slate-800",children:[l.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"call"}),l.jsxs("div",{className:"flex flex-col w-full",children:[l.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase",children:"Telefone"}),h?l.jsx("input",{className:"text-sm font-medium bg-gray-100 dark:bg-gray-800 rounded px-1 w-full",value:_,onChange:z=>S(z.target.value),placeholder:"Adicionar telefone"}):l.jsx("span",{className:"text-sm font-medium",children:r.phone||"No informado"})]})]})]}),h&&l.jsx("button",{onClick:()=>p(!1),className:"text-red-500 text-sm font-medium underline",children:"Cancelar Edio"})]})}),l.jsxs("section",{className:"mt-4",children:[l.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider px-4 pb-2 pt-4",children:"Aeroportos Favoritos"}),l.jsx("div",{className:"bg-white dark:bg-slate-900 border-y border-slate-200 dark:border-slate-800",children:a&&a.length>0?a.map(z=>l.jsx(Xv,{code:z.icao,name:z.city,defaultChecked:!0,onChange:()=>u(z),onSelect:()=>{d(z),s("/feed")}},z.id)):l.jsx("p",{className:"p-4 text-sm text-slate-500 text-center",children:"Nenhum favorito selecionado."})})]}),l.jsxs("section",{className:"mt-6",children:[l.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider px-4 pb-2 pt-4",children:"Notificaes"}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 border-y border-slate-200 dark:border-slate-800",children:[l.jsx(xh,{icon:"notifications_active",label:"Alertas de Proximidade",defaultChecked:!0}),l.jsx(xh,{icon:"cloud",label:"Atualizaes Meteorolgicas",defaultChecked:!0})]})]}),l.jsxs("section",{className:"mt-6",children:[l.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider px-4 pb-2 pt-4",children:"Minha Conta"}),l.jsx("div",{className:"bg-white dark:bg-slate-900 border-y border-slate-200 dark:border-slate-800",children:l.jsxs("div",{onClick:()=>{if(r.role==="registered")return alert("Apenas Colaboradores podem gerenciar posts.");s("/my-posts")},className:`flex items-center gap-4 px-4 min-h-[56px] justify-between border-b border-slate-100 dark:border-slate-800 last:border-b-0 transition-colors ${r.role==="registered"?"opacity-50 grayscale cursor-not-allowed":"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-orange-600 flex items-center justify-center rounded-lg bg-orange-100 shrink-0 size-10",children:l.jsx("span",{className:"material-symbols-outlined",children:"article"})}),l.jsx("p",{className:"text-base font-medium",children:"Meus Posts"})]}),l.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"chevron_right"})]})})]}),r.role==="admin"&&l.jsxs("section",{className:"mt-6",children:[l.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider px-4 pb-2 pt-4",children:"Administrao"}),l.jsxs("div",{className:"bg-white dark:bg-slate-900 border-y border-slate-200 dark:border-slate-800",children:[l.jsxs("div",{onClick:()=>s("/users"),className:"flex items-center gap-4 px-4 min-h-[56px] justify-between border-b border-slate-100 dark:border-slate-800 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-purple-600 flex items-center justify-center rounded-lg bg-purple-100 shrink-0 size-10",children:l.jsx("span",{className:"material-symbols-outlined",children:"manage_accounts"})}),l.jsx("p",{className:"text-base font-medium",children:"Gerenciar Usurios"})]}),l.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"chevron_right"})]}),l.jsxs("div",{onClick:()=>s("/admin-posts"),className:"flex items-center gap-4 px-4 min-h-[56px] justify-between border-b border-slate-100 dark:border-slate-800 last:border-b-0 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-blue-600 flex items-center justify-center rounded-lg bg-blue-100 shrink-0 size-10",children:l.jsx("span",{className:"material-symbols-outlined",children:"list_alt"})}),l.jsx("p",{className:"text-base font-medium",children:"Listas de Posts (Debug)"})]}),l.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"chevron_right"})]})]})]}),l.jsxs("section",{className:"mt-10 px-4",children:[l.jsxs("button",{onClick:I,className:"w-full flex items-center justify-center gap-2 h-14 rounded-xl bg-white dark:bg-slate-900 border border-red-100 dark:border-red-900/30 text-red-500 font-bold active:bg-red-50 dark:active:bg-red-900/10 transition-colors",children:[l.jsx("span",{className:"material-symbols-outlined",children:"logout"}),"Sair da Conta"]}),l.jsx("p",{className:"text-center text-slate-400 text-xs mt-6 font-medium",children:"Verso 2.4.0 (Build 892)"})]})]})]}):l.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen flex flex-col items-center justify-center p-6 gap-6",children:[l.jsx("h1",{className:"text-xl font-bold",children:"Voc no est logado"}),l.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-primary text-white font-bold py-3 rounded-xl shadow-lg",children:"Entrar / Cadastrar"}),l.jsx("button",{onClick:()=>s(-1),className:"text-slate-500 text-sm",children:"Voltar"})]})},Xv=({code:s,name:r,defaultChecked:n,onChange:a,onSelect:u})=>l.jsxs("div",{className:"flex items-center gap-4 px-4 min-h-[56px] justify-between border-b border-slate-100 dark:border-slate-800 last:border-b-0",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:u,children:[l.jsx("div",{className:"text-primary flex items-center justify-center rounded-lg bg-primary/10 shrink-0 size-10",children:l.jsx("span",{className:"material-symbols-outlined",children:"flight_takeoff"})}),l.jsxs("p",{className:"text-base font-medium flex-1 truncate",children:[s," - ",r]})]}),l.jsx("div",{className:"shrink-0",children:l.jsxs("label",{className:"relative flex h-[31px] w-[51px] cursor-pointer items-center",children:[l.jsx("input",{defaultChecked:n,onChange:a,className:"ios-switch invisible absolute peer",type:"checkbox"}),l.jsx("div",{className:"h-full w-full rounded-full bg-slate-200 dark:bg-slate-700 transition-colors duration-200 peer-checked:bg-primary",children:l.jsx("div",{className:"absolute left-0.5 top-0.5 h-[27px] w-[27px] rounded-full bg-white shadow-sm transition-transform duration-200"})})]})})]}),xh=({icon:s,label:r,defaultChecked:n})=>l.jsxs("div",{className:"flex items-center gap-4 px-4 min-h-[56px] justify-between border-b border-slate-100 dark:border-slate-800 last:border-b-0",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-primary flex items-center justify-center rounded-lg bg-primary/10 shrink-0 size-10",children:l.jsx("span",{className:"material-symbols-outlined",children:s})}),l.jsx("p",{className:"text-base font-medium",children:r})]}),l.jsx("div",{className:"shrink-0",children:l.jsxs("label",{className:"relative flex h-[31px] w-[51px] cursor-pointer items-center",children:[l.jsx("input",{defaultChecked:n,className:"ios-switch invisible absolute peer",type:"checkbox"}),l.jsx("div",{className:"h-full w-full rounded-full bg-slate-200 dark:bg-slate-700 transition-colors duration-200 peer-checked:bg-primary",children:l.jsx("div",{className:"absolute left-0.5 top-0.5 h-[27px] w-[27px] rounded-full bg-white shadow-sm transition-transform duration-200"})})]})})]}),ey=()=>{const s=et(),{signIn:r}=wt(),[n,a]=P.useState(""),[u,d]=P.useState(""),[h,p]=P.useState(!1),[m,v]=P.useState(null),y=async w=>{w.preventDefault(),p(!0),v(null);try{await r(n,u),s("/feed")}catch(_){v(_.message||"Falha ao fazer login")}finally{p(!1)}};return l.jsxs("div",{className:"flex h-full min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark text-[#0c121d] dark:text-white",children:[l.jsx("div",{className:"flex items-center bg-transparent p-4 pb-2 justify-between shrink-0",children:l.jsx("div",{className:"text-[#0c121d] dark:text-white flex size-12 shrink-0 items-center justify-center cursor-pointer",onClick:()=>s("/"),children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios"})})}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:[l.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[l.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-2xl flex items-center justify-center mb-4 text-primary",children:l.jsx("span",{className:"material-symbols-outlined text-4xl",children:"lock_open"})}),l.jsx("h1",{className:"text-2xl font-bold",children:"Bem-vindo de volta"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Acesse sua conta para continuar"})]}),l.jsxs("form",{onSubmit:y,className:"w-full max-w-sm flex flex-col gap-4",children:[m&&l.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"error"}),m]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"E-mail"}),l.jsx("input",{type:"email",required:!0,className:"w-full h-12 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 focus:ring-2 focus:ring-primary outline-none",placeholder:"seu@email.com",value:n,onChange:w=>a(w.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Senha"}),l.jsx("input",{type:"password",required:!0,className:"w-full h-12 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 focus:ring-2 focus:ring-primary outline-none",placeholder:"",value:u,onChange:w=>d(w.target.value)})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"button",className:"text-xs font-semibold text-primary hover:text-primary/80",children:"Esqueceu a senha?"})}),l.jsx("button",{type:"submit",disabled:h,className:"mt-4 w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/20 disabled:opacity-70 flex items-center justify-center gap-2",children:h?l.jsx("span",{className:"animate-spin material-symbols-outlined",children:"progress_activity"}):"Entrar"}),l.jsx("button",{type:"button",onClick:()=>s("/register"),className:"mt-2 text-sm text-center text-primary font-semibold",children:"No tem conta? Crie agora"})]})]})]})},ty=()=>{const s=et(),{signUp:r}=wt(),[n,a]=P.useState(""),[u,d]=P.useState(""),[h,p]=P.useState(""),[m,v]=P.useState(""),[y,w]=P.useState(null),[_,S]=P.useState(!1),[C,R]=P.useState(null),T=async I=>{I.preventDefault(),S(!0),R(null);try{await r(n,u,h,m,y||void 0),alert("Cadastro realizado! Verifique seu e-mail para confirmar a conta."),s("/login")}catch(D){R(D.message||"Falha ao criar conta")}finally{S(!1)}};return l.jsxs("div",{className:"flex h-full min-h-screen w-full flex-col overflow-x-hidden bg-background-light dark:bg-background-dark text-[#0c121d] dark:text-white",children:[l.jsx("div",{className:"flex items-center bg-transparent p-4 pb-2 justify-between shrink-0",children:l.jsx("div",{className:"text-[#0c121d] dark:text-white flex size-12 shrink-0 items-center justify-center cursor-pointer",onClick:()=>s(-1),children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios"})})}),l.jsxs("div",{className:"flex-1 flex flex-col items-center px-6 pb-10",children:[l.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Criar Conta"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Junte-se  comunidade Observer"})]}),l.jsxs("form",{onSubmit:T,className:"w-full max-w-sm flex flex-col gap-4",children:[l.jsx("div",{className:"flex justify-center mb-2",children:l.jsx($l,{url:y,onUpload:I=>w(I),editable:!0})}),C&&l.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm rounded-lg flex items-center gap-2",children:[l.jsx("span",{className:"material-symbols-outlined text-sm",children:"error"}),C]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Nome Completo"}),l.jsx("input",{type:"text",required:!0,className:"w-full h-12 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 focus:ring-2 focus:ring-primary outline-none",placeholder:"Seu Nome",value:h,onChange:I=>p(I.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"E-mail"}),l.jsx("input",{type:"email",required:!0,className:"w-full h-12 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 focus:ring-2 focus:ring-primary outline-none",placeholder:"seu@email.com",value:n,onChange:I=>a(I.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Telefone (Opcional)"}),l.jsx("input",{type:"tel",className:"w-full h-12 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 focus:ring-2 focus:ring-primary outline-none",placeholder:"(11) 99999-9999",value:m,onChange:I=>v(I.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2",children:"Senha"}),l.jsx("input",{type:"password",required:!0,className:"w-full h-12 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 focus:ring-2 focus:ring-primary outline-none",placeholder:"",value:u,onChange:I=>d(I.target.value)})]}),l.jsx("button",{type:"submit",disabled:_,className:"mt-4 w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/20 disabled:opacity-70 flex items-center justify-center gap-2",children:_?l.jsx("span",{className:"animate-spin material-symbols-outlined",children:"progress_activity"}):"Cadastrar"}),l.jsx("button",{type:"button",onClick:()=>s("/login"),className:"mt-2 text-sm text-center text-primary font-semibold",children:"J tem conta? Faa login"})]})]})]})},ry=()=>{const s=et(),{user:r}=wt(),[n,a]=P.useState([]),[u,d]=P.useState(!0),[h,p]=P.useState(null);P.useEffect(()=>{m()},[]);const m=async()=>{d(!0);const{data:y,error:w}=await ve.from("user_profiles").select("*").order("created_at",{ascending:!1});w?console.error("Error fetching users",w):a(y),d(!1)},v=async(y,w)=>{p(y);try{const{data:{session:_}}=await ve.auth.getSession();if(!_)return;const S=await fetch("https://cigxkvwijmmxjllqqgmh.supabase.co/functions/v1/adminUpdateUser",{method:"POST",headers:{Authorization:`Bearer ${_.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({target_uid:y,new_role:w})});if(!S.ok){const C=await S.json();throw new Error(C.error||"Failed to update role")}a(C=>C.map(R=>R.auth_uid===y?{...R,role_id:w}:R))}catch(_){alert(`Erro: ${_.message}`)}finally{p(null)}};return l.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen pb-24",children:[l.jsx("header",{className:"sticky top-0 z-30 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800",children:l.jsx("div",{className:"flex items-center justify-between px-4 h-16",children:l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>s(-1),children:[l.jsx("span",{className:"material-symbols-outlined text-primary",children:"arrow_back_ios"}),l.jsx("h1",{className:"text-lg font-bold tracking-tight",children:"Gerenciar Usurios"})]})})}),l.jsx("main",{className:"max-w-3xl mx-auto p-4",children:l.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden",children:u?l.jsx("div",{className:"p-8 text-center text-slate-500",children:"Carregando usurios..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 text-slate-500 dark:text-slate-400 font-semibold uppercase text-xs",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Usurio"}),l.jsx("th",{className:"px-4 py-3",children:"Contato"}),l.jsx("th",{className:"px-4 py-3",children:"Cargo"}),l.jsx("th",{className:"px-4 py-3 text-right",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:n.map(y=>l.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors",children:[l.jsxs("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"font-semibold",children:y.full_name||"Sem nome"}),l.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:[y.auth_uid.slice(0,8),"..."]})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex flex-col",children:[y.email&&l.jsx("span",{className:"text-xs",children:y.email}),y.phone&&l.jsx("span",{className:"text-xs text-slate-500",children:y.phone})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold capitalize 
                          ${y.role_id==="admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400":y.role_id==="moderator"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":y.role_id==="contributor"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"}`,children:y.role_id})}),l.jsx("td",{className:"px-4 py-3 text-right",children:h===y.auth_uid?l.jsx("span",{className:"material-symbols-outlined animate-spin text-primary",children:"progress_activity"}):l.jsxs("select",{value:y.role_id,onChange:w=>v(y.auth_uid,w.target.value),disabled:y.auth_uid===(r==null?void 0:r.id),className:"bg-transparent border border-slate-200 dark:border-slate-700 rounded-lg text-xs py-1 px-2 focus:ring-1 focus:ring-primary outline-none cursor-pointer",children:[l.jsx("option",{value:"registered",children:"Registered"}),l.jsx("option",{value:"contributor",children:"Contributor"}),l.jsx("option",{value:"moderator",children:"Moderator"}),l.jsx("option",{value:"admin",children:"Admin"})]})})]},y.id))})]})})})})]})},ny=()=>{const s=et(),r=En(),{user:n,logAudit:a}=wt(),[u,d]=P.useState([]),[h,p]=P.useState(!0);P.useEffect(()=>{if(n){if(n.role==="registered"){s("/feed");return}m(n.id)}},[n,r.key]);const m=async y=>{p(!0);const{data:w,error:_}=await ve.from("posts").select(`
        *,
        media:post_media(storage_path)
      `).eq("author_auth_uid",y).order("created_at",{ascending:!1});_?alert("Error fetching posts: "+_.message):d(w||[]),p(!1)},v=async y=>{const w=prompt("Por que voc deseja remover este post? (Opcional)");if(w===null||!confirm("Confirma a remoo deste post?"))return;await a("DELETE_OWN_POST","posts",y,{reason:w});const{error:_}=await ve.from("posts").delete().eq("id",y);_?alert("Erro ao deletar: "+_.message):m(n.id)};return l.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen text-slate-900 dark:text-slate-100",children:[l.jsxs("header",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-slate-900 p-4 border-b border-slate-200 dark:border-slate-800 shadow-sm",children:[l.jsx("button",{onClick:()=>s(-1),className:"p-2 mr-2",children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),l.jsx("h1",{className:"text-lg font-bold flex-1",children:"Meus Posts"}),l.jsx("button",{onClick:()=>n&&m(n.id),className:"p-2",children:l.jsx("span",{className:"material-symbols-outlined",children:"refresh"})})]}),l.jsx("main",{className:"p-4",children:h?l.jsx("p",{className:"text-center p-10 text-slate-500",children:"Carregando..."}):u.length===0?l.jsxs("div",{className:"text-center p-10",children:[l.jsx("p",{className:"text-slate-500 mb-4",children:"Voc ainda no criou nenhum post."}),l.jsx("button",{onClick:()=>s("/create"),className:"bg-primary text-white font-bold py-2 px-6 rounded-xl",children:"Criar Agora"})]}):l.jsx("div",{className:"flex flex-col gap-4",children:u.map(y=>l.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-base",children:y.title||"Sem ttulo"}),l.jsx("p",{className:"text-xs text-slate-500",children:new Date(y.created_at).toLocaleString()})]}),l.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${y.status==="published"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:y.status})]}),l.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:y.description}),l.jsxs("div",{className:"flex gap-2 mt-2 pt-3 border-t border-slate-100 dark:border-slate-800",children:[l.jsxs("button",{onClick:()=>v(y.id),className:"flex-1 flex items-center justify-center gap-2 p-2 text-red-500 font-bold bg-red-50 dark:bg-red-900/10 rounded-lg text-sm",children:[l.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"}),"Remover"]}),l.jsxs("button",{onClick:()=>s("/create",{state:{post:y}}),className:"flex-1 flex items-center justify-center gap-2 p-2 text-primary font-bold bg-primary/10 rounded-lg text-sm",children:[l.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"}),"Editar"]})]})]},y.id))})})]})},sy=()=>{const s=et(),{user:r,logAudit:n}=wt(),[a,u]=P.useState([]),[d,h]=P.useState(!0);P.useEffect(()=>{p()},[]);const p=async()=>{h(!0);const{data:v,error:y}=await ve.from("posts").select(`
        *,
        user:user_profiles!author_auth_uid(full_name, email, callsign)
      `).order("created_at",{ascending:!1});y?alert("Error fetching posts: "+y.message):u(v||[]),h(!1)},m=async v=>{const y=prompt("Motivo da remoo (Auditado):");if(!y||!confirm("Esta ao deletar o post permanentemente. Confirmar?"))return;n&&await n("DELETE_POST","posts",v,{reason:y});const{error:w}=await ve.from("posts").delete().eq("id",v);w?alert("Erro ao deletar: "+w.message):p()};return!r||r.role!=="admin"?l.jsxs("div",{className:"p-10 text-center",children:[l.jsx("h1",{className:"text-xl font-bold text-red-500",children:"Acesso Negado"}),l.jsx("button",{onClick:()=>s("/feed"),className:"mt-4 text-blue-500 underline",children:"Voltar"})]}):l.jsxs("div",{className:"bg-background-light dark:bg-background-dark min-h-screen text-slate-900 dark:text-slate-100",children:[l.jsxs("header",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-slate-900 p-4 border-b border-slate-200 dark:border-slate-800 shadow-sm",children:[l.jsx("button",{onClick:()=>s(-1),className:"p-2 mr-2",children:l.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),l.jsx("h1",{className:"text-lg font-bold flex-1",children:"Admin: Lista de Posts"}),l.jsx("button",{onClick:p,className:"p-2",children:l.jsx("span",{className:"material-symbols-outlined",children:"refresh"})})]}),l.jsx("main",{className:"p-4 overflow-x-auto",children:d?l.jsx("p",{className:"text-center p-10 text-slate-500",children:"Carregando..."}):l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 dark:bg-slate-800",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-3",children:"Data"}),l.jsx("th",{className:"px-3 py-3",children:"Status"}),l.jsx("th",{className:"px-3 py-3",children:"Titulo/Desc"}),l.jsx("th",{className:"px-3 py-3",children:"Autor"}),l.jsx("th",{className:"px-3 py-3",children:"Aes"})]})}),l.jsx("tbody",{children:a.map(v=>{var y,w,_;return l.jsxs("tr",{className:"bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[l.jsx("td",{className:"px-3 py-4 font-mono text-xs",children:new Date(v.created_at).toLocaleString("pt-BR")}),l.jsx("td",{className:"px-3 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${v.status==="published"?"bg-green-100 text-green-700":v.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-gray-100"}`,children:v.status})}),l.jsxs("td",{className:"px-3 py-4 max-w-[200px]",children:[l.jsx("p",{className:"font-bold truncate",children:v.title}),l.jsx("p",{className:"text-xs text-slate-500 truncate",children:v.description}),l.jsx("p",{className:"text-[10px] text-slate-400 mt-1 font-mono",children:v.airport_id})]}),l.jsxs("td",{className:"px-3 py-4",children:[l.jsx("p",{className:"font-medium",children:((y=v.user)==null?void 0:y.callsign)||((w=v.user)==null?void 0:w.full_name)||"Unk"}),l.jsx("p",{className:"text-xs text-slate-400 truncate max-w-[100px]",children:(_=v.user)==null?void 0:_.email})]}),l.jsx("td",{className:"px-3 py-4",children:l.jsx("button",{onClick:()=>m(v.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx("span",{className:"material-symbols-outlined",children:"delete"})})})]},v.id)})})]})})]})},iy=({children:s})=>{const r=En(),n=et(),{user:a}=wt(),u=["/feed","/map","/invites","/moderation","/profile"].includes(r.pathname),d=(a==null?void 0:a.role)==="admin",h=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="moderator",p=()=>{d&&n("/invites")},m=()=>{h&&n("/moderation")},v=()=>{if(!a){n("/onboarding");return}n("/map")};return l.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark max-w-[480px] mx-auto relative shadow-2xl overflow-hidden flex flex-col",children:[l.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-20",children:s}),u&&l.jsx("nav",{className:"absolute bottom-0 left-0 right-0 z-40 bg-white/90 dark:bg-card-dark/90 backdrop-blur-xl border-t border-slate-200 dark:border-slate-800 px-6 pb-6 pt-2",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(gs,{icon:"radar",label:"Awareness",active:r.pathname==="/feed",onClick:()=>n("/feed")}),l.jsx(gs,{icon:"map",label:"Mapa",active:r.pathname==="/map",onClick:v}),l.jsx(gs,{icon:"mail",label:"Convites",active:r.pathname==="/invites",onClick:p,filled:r.pathname==="/invites",restricted:!d}),l.jsx(gs,{icon:"admin_panel_settings",label:"Moderador",active:r.pathname==="/moderation",onClick:m,restricted:!h}),l.jsx(gs,{icon:"person",label:"Perfil",active:r.pathname==="/profile",onClick:()=>n("/profile"),avatar:a==null?void 0:a.avatar})]})})]})},gs=({icon:s,label:r,active:n=!1,onClick:a,filled:u=!1,restricted:d=!1,avatar:h})=>l.jsxs("div",{className:"group relative flex flex-col items-center",children:[d&&l.jsx("div",{className:"absolute bottom-full mb-2 w-48 p-2 bg-gray-900 text-white text-xs rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 text-center z-50 pointer-events-none after:content-[''] after:absolute after:top-100% after:left-1/2 after:-translate-x-1/2 after:border-4 after:border-transparent after:border-t-gray-900",children:"Este recurso est disponvel apenas para colaboradores. Continue participando para desbloquear!"}),l.jsxs("button",{onClick:a,className:`flex flex-col items-center gap-1 ${n?"text-primary":"text-slate-400"} ${d?"opacity-40":""}`,children:[h?l.jsx("div",{className:`h-6 w-6 rounded-full overflow-hidden border-2 transition-all ${n?"border-primary":"border-transparent"}`,children:l.jsx("img",{src:h,alt:"Profile",className:"w-full h-full object-cover"})}):l.jsx("span",{className:"material-symbols-outlined",style:{fontVariationSettings:`'FILL' ${u||n?1:0}`},children:s}),l.jsx("span",{className:`text-[10px] ${n?"font-bold":"font-medium"}`,children:r})]})]}),ay=()=>l.jsx(zv,{children:l.jsx(eg,{children:l.jsx(iy,{children:l.jsxs(Qm,{children:[l.jsx(Ze,{path:"/",element:l.jsx(Bv,{})}),l.jsx(Ze,{path:"/onboarding",element:l.jsx(Fv,{})}),l.jsx(Ze,{path:"/login",element:l.jsx(ey,{})}),l.jsx(Ze,{path:"/register",element:l.jsx(ty,{})}),l.jsx(Ze,{path:"/accept-invite",element:l.jsx(Mv,{})}),l.jsx(Ze,{path:"/feed",element:l.jsx(Vv,{})}),l.jsx(Ze,{path:"/map",element:l.jsx(Hv,{})}),l.jsx(Ze,{path:"/create",element:l.jsx(Kv,{})}),l.jsx(Ze,{path:"/detail/:id",element:l.jsx(Gv,{})}),l.jsx(Ze,{path:"/official",element:l.jsx(Jv,{})}),l.jsx(Ze,{path:"/invites",element:l.jsx(Qv,{})}),l.jsx(Ze,{path:"/users",element:l.jsx(ry,{})}),l.jsx(Ze,{path:"/my-posts",element:l.jsx(ny,{})}),l.jsx(Ze,{path:"/admin-posts",element:l.jsx(sy,{})}),l.jsx(Ze,{path:"/moderation",element:l.jsx(Yv,{})}),l.jsx(Ze,{path:"/profile",element:l.jsx(Zv,{})})]})})})}),Yh=document.getElementById("root");if(!Yh)throw new Error("Could not find root element to mount to");const oy=im.createRoot(Yh);oy.render(l.jsx(bh.StrictMode,{children:l.jsx(ay,{})}));
